{"version":3,"sources":["webpack:///./static/media/frame.png","webpack:///./static/media/color-swatch-erase.png","webpack:///./static/media/color-swatch-yellow.png","webpack:///./static/media/background.png","webpack:///./static/media/eraser.png","webpack:///./static/media/blue.png","webpack:///./static/media/color-swatch-green.png","webpack:///./src/App.vue?7da1","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/Home.vue","webpack:///./src/components/Home.vue?d49e","webpack:///./src/components/Home.vue","webpack:///src/components/Lobby.vue","webpack:///./src/components/Lobby.vue?7ffb","webpack:///./src/components/Lobby.vue","webpack:///src/components/Room.vue","webpack:///./src/components/Room.vue?6154","webpack:///./src/components/Room.vue","webpack:///./src/components/NotFoundComponent.vue?cedc","webpack:///./src/components/NotFoundComponent.vue","webpack:///src/components/NotFoundComponent.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/components/api.js","webpack:///./static/media/logo.png","webpack:///./static/media/color-swatch-brown.png","webpack:///./static/media/red.png","webpack:///./static/media/yellow.png","webpack:///./static/media/black.png","webpack:///./src/components/peer.js","webpack:///./static/media/marker-outline.png","webpack:///./static/media/green.png","webpack:///./static/media ^\\.\\/.*\\.png$"],"names":["module","exports","__webpack_require__","p","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","$route","name","mode","enter-active-class","leave-active-class","staticRenderFns","src_App","normalizeComponent","ssrContext","Home","_this","err","$router","push","_this2","components_Home","_vm","fluid","staticClass","src","_v","type","label","required","model","value","callback","$$v","username","expression","password","on","click","login","signup","href","src_components_Home","Home_normalizeComponent","Lobby","trim","myId","receiveConnection","searchForOpponent","_this3","room","then","res","data","roomCode","addPeer","catch","_this4","json","dataConnection","peerId","_this5","moveToGameRoom","length","_this6","_this7","Request","sanitizedRoomCode","opponent","words","role","startTime","endTime","opponentConnection","components_Lobby","status","createRoom","submit","$event","preventDefault","joinRoom","_s","numPlayers","src_components_Lobby","Lobby_normalizeComponent","$","window","jQuery","validator","e","Error","code","Room","connectedPeers","peer2","i","tool_name","Me","Peer","offsetLeft","offsetTop","height","p2","receiveOpponentScore","left_word","right_word","drawer1","drawer2","p1","timer","score","word_list","wordIndex","key","$el","block","canvas","tool","x","y","dragging","color","beginPath","closePath","stroke","toDataURL","Image","opponent_score","displayResult","keyword","guess","url","answer","compound_word","old_words","innerHTML","element","go","components_Room","_m","backToLobby","myRole","placeholder","sendGuess","toolDisplay","src_components_Room","Room_normalizeComponent","components_NotFoundComponent","home","src_components_NotFoundComponent","NotFoundComponent_normalizeComponent","requireAuth","req","next","api","getCurrentUser","console","log","path","vue_esm","use","vue_router_esm","router","routes","component","beforeEnter","props","vuetify_default","a","config","productionTip","main_peer","peer_default","host","port","secure","prototype","$peer","el","components","App","template","send","method","xhr","XMLHttpRequest","onload","responseText","JSON","parse","open","setRequestHeader","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","l","document","cookie","split","signin","signout","getUsernames","createGameRoom","__webpack_exports__","t","n","r","s","o","u","require","f","call","1","RTCSessionDescription","mozRTCSessionDescription","RTCPeerConnection","mozRTCPeerConnection","webkitRTCPeerConnection","RTCIceCandidate","mozRTCIceCandidate","2","util","EventEmitter","Negotiator","Reliable","DataConnection","peer","provider","options","extend","serialization","reliable","connectionId","_idPrefix","randomToken","metadata","_buffer","_buffering","bufferSize","_chunkedData","_payload","_peerBrowser","browser","startConnection","originator","inherits","initialize","dc","_dc","dataChannel","_configureDataChannel","self","supports","sctp","binaryType","onopen","emit","_reliable","debug","onmessage","msg","_handleDataMessage","onclose","close","datatype","constructor","Blob","blobToArrayBuffer","ab","unpack","ArrayBuffer","String","binaryStringToArrayBuffer","__peerData","chunkInfo","count","total","cleanup","chunked","_bufferedSend","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_json_stringify___default","blob","pack","chunkedBrowsers","size","chunkedMTU","_sendChunks","binaryBlob","blobToBinaryString","str","_trySend","setTimeout","_tryBuffer","shift","blobs","chunk","ii","handleMessage","message","payload","handleSDP","sdp","handleCandidate","candidate","warn","./negotiator","./util","eventemitter3","3","Socket","MediaConnection","BinaryPack","./adapter","./dataconnection","./mediaconnection","./peer","./socket","js-binarypack","4","localStream","_stream","addStream","remoteStream","stream","messages","_getMessages","5","pcs","media","queue","connection","pc","_getPeerConnection","peerConnection","createDataChannel","onnegotiationneeded","_makeOffer","error","signalingState","_startPeerConnection","optional","DtlsSrtpKeyAgreement","RtpDataChannels","_setupListeners","pc_id","onicecandidate","evt","socket","dst","oniceconnectionstatechange","iceConnectionState","noop","onicechange","ondatachannel","channel","getConnection","onaddstream","readyState","createOffer","offer","higherBandwidthSDP","setLocalDescription","emitError","constraints","createAnswer","setRemoteDescription","_makeAnswer","ice","sdpMLineIndex","addIceCandidate","6","Object","undefined","toString","CLOUD_HOST","CLOUD_PORT","token","defaultConfig","location","hostname","isSecure","logFunction","setLogFunction","setLogLevel","audioVideo","validateId","validateKey","_delayedAbort","destroyed","disconnected","connections","_lostMessages","_initializeServerConnection","_initialize","_retrieveId","_handleMessage","_abort","disconnect","cb","http","Date","getTime","Math","random","onerror","pathError","onreadystatechange","start","_cleanupPeer","_addConnection","_storeMessage","connect","setZeroTimeout","_lastServerId","destroy","_cleanup","peers","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_keys___default","j","jj","reconnect","listAllPeers","helpfulError","7","_queue","httpProtocol","wsProtocol","_httpUrl","_wsUrl","_startXhrStream","_startWebSocket","_socket","WebSocket","event","_timeout","clearTimeout","_http","abort","_sendQueuedMessages","_index","_streamIndex","old","_handleStream","_setHTTPTimeout","index","bufferedMessage","_wsOpen","toLowerCase","8","iceServers","dataCount","Chrome","logLevel","level","debugLevel","parseInt","isNaN","_printWith","_print","fn","Function","prefix","copy","Array","slice","arguments","unshift","apply","reliablePC","negotiationPC","binary","exec","ctor","superCtor","super_","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_create___default","enumerable","writable","configurable","dest","source","hasOwnProperty","global","timeouts","messageName","stopPropagation","addEventListener","attachEvent","postMessage","bl","chunks","ceil","end","min","b","fr","FileReader","target","result","readAsArrayBuffer","readAsBinaryString","byteArray","Uint8Array","charCodeAt","buffer","substr","protocol","9","EE","context","once","_events","listeners","ee","a1","a2","a3","a4","a5","args","len","removeListener","events","removeAllListeners","off","addListener","setMaxListeners","EventEmitter2","EventEmitter3","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default","10","BufferBuilder","binaryFeatures","Unpacker","packer","Packer","getBuffer","dataBuffer","dataView","byteLength","bufferBuilder","_utf8Replace","m","unpack_uint8","unpack_raw","unpack_string","unpack_array","unpack_map","unpack_float","unpack_double","unpack_uint16","unpack_uint32","unpack_uint64","unpack_int8","unpack_int16","unpack_int32","unpack_int64","byte","bytes","read","uint16","uint32","uint64","uint8","pow","buf","c","fromCharCode","objects","map","exp","h32","l32","sign","frac","subarray","pack_string","floor","pack_integer","pack_double","append","pack_array","File","pack_bin","useArrayBufferView","pack_object","toBinaryPack","flush","pack_uint8","pack_uint16","pack_uint32","replace","utf8Length","ary","num","pack_int8","pack_int16","pack_int32","pack_int64","pack_uint64","LN2","frac0","frac1","b32","obj","prop","high","low","./bufferbuilder","11","useBlobBuilder","BlobBuilder","_pieces","_parts","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","builder","getBlob","12","_outgoing","_incoming","_received","_window","_mtu","_interval","_count","_setupDC","_handleSend","ack","_chunk","_sendWindowedChunks","_setupInterval","setInterval","_multiple","_intervalSend","_processAcks","item","indexOf","idata","odata","_ack","max","_calculateNextAck","_complete","ch","limit","sent","version","navigator","appVersion","match","parts","13","./background.png","./black.png","./blue.png","./color-swatch-brown.png","./color-swatch-erase.png","./color-swatch-green.png","./color-swatch-yellow.png","./eraser.png","./frame.png","./green.png","./logo.png","./marker-outline.png","./red.png","./yellow.png","webpackContext","webpackContextResolve","keys","resolve"],"mappings":"8DAAAA,EAAAC,QAAA,qxICAAD,EAAAC,QAAA,sYCAAD,EAAAC,QAAA,2PCAAD,EAAAC,QAAAC,EAAAC,EAAA,wDCAAH,EAAAC,QAAA,izCCAAD,EAAAC,QAAA,2iECAAD,EAAAC,QAAA,mXCGAG,GADiBC,OAFjB,WAA0B,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBE,OAAOC,GAAA,SAAYH,EAAA,SAAAA,EAAA,sBAAnGF,KAAmGM,OAAAC,KAAAL,EAAA,cAA4EE,OAAOG,KAAA,cAAAC,KAAA,SAAAC,qBAAA,kBAAAC,qBAAA,sBAAqHR,EAAA,mBAAAA,EAAA,4BAEpTS,oBCCjB,IAuBAC,EAvBAjB,EAAA,OAcAkB,OCCA,ODCAhB,GATA,EAVA,SAAAiB,GACAnB,EAAA,SAaA,KAEA,MAUA,oDELAoB,QAEA,uCAGA,YAEA,yEAKA,IAAAC,EAAAhB,qGAEAiB,EAAAD,EAAAE,QAAAC,KACA,+BAGA,IAAAC,EAAApB,qGAEAiB,EAAAG,EAAAF,QAAAC,KACA,eCvCAE,GADiBvB,OAFjB,WAA0B,IAAAwB,EAAAtB,KAAaD,EAAAuB,EAAArB,eAA0BC,EAAAoB,EAAAnB,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,eAAyBE,OAAOmB,MAAA,GAAAlB,GAAA,UAAwBH,EAAA,OAAYsB,YAAA,OAAApB,OAA0BqB,IAAA9B,EAAA,WAAgD2B,EAAAI,GAAA,KAAAxB,EAAA,eAAAA,EAAA,UAA6CsB,YAAA,yBAAmCtB,EAAA,gBAAqBsB,YAAA,aAAApB,OAAgCuB,KAAA,OAAAC,MAAA,sBAAAC,SAAA,IAA0DC,OAAQC,MAAAT,EAAA,SAAAU,SAAA,SAAAC,GAA8CX,EAAAY,SAAAD,GAAiBE,WAAA,cAAwBb,EAAAI,GAAA,KAAAxB,EAAA,gBAAiCsB,YAAA,aAAApB,OAAgCuB,KAAA,WAAAC,MAAA,sBAAAC,SAAA,IAA8DC,OAAQC,MAAAT,EAAA,SAAAU,SAAA,SAAAC,GAA8CX,EAAAc,SAAAH,GAAiBE,WAAA,eAAwB,OAAAb,EAAAI,GAAA,KAAAxB,EAAA,UAAmCmC,IAAIC,MAAAhB,EAAAiB,SAAmBjB,EAAAI,GAAA,WAAAJ,EAAAI,GAAA,KAAAxB,EAAA,UAA6CmC,IAAIC,MAAAhB,EAAAkB,UAAoBlB,EAAAI,GAAA,aAAAJ,EAAAI,GAAA,KAAAxB,EAAA,OAAAA,EAAA,KAAoDE,OAAOqC,KAAA,uBAA4BnB,EAAAI,GAAA,0BAAAJ,EAAAI,GAAA,KAAAxB,EAAA,OAAyDsB,YAAA,WAAoB,IAEr/Bb,oBCCjB,IAuBA+B,EAvBA/C,EAAA,OAcAgD,CACA5B,EACAM,GATA,EAVA,SAAAP,GACAnB,EAAA,SAaA,kBAEA,MAUA,kDCDAiD,GAFAjD,EAAA,cAIA,iCAGA,kBAEA,YACA,8BAEA,OACA,SACA,QACA,gCAGA,mEAIAkD,6FAWA,IAAA7B,EAAAhB,8DAMAK,eACAyC,mDAOAC,yBAEAC,qFAGA,oHAUAD,qDAKA,IAAAE,EAAAjD,8DASAK,eACAyC,0CAOA,6CAGA,iBACA,+BAIA,4BACAI,GAAAC,KAAA,SAAAC,2CAKA,kBAEAD,KAAA,SAAAE,gBAGAC,yEAGA,iBACA,+BAGA,uCAIAR,eACAS,GAAAJ,KAAA,SAAAC,2CAKA,kBAEAD,KAAA,SAAAE,2EAKAG,MAAA,SAAAvC,UAGA,YACA,SACA,wBAGAuC,MAAA,SAAAvC,UAGA,YACA,SAEA,2BAIA8B,8BAEA,sBACA,8BAIA,IAAAU,EAAAzD,4DAKAK,eACAyC,4BAIAzC,sEAGA,iBACA,8BAIA,4BACA6C,GAAAC,KAAA,SAAAC,oBAGAM,uBAEA,kBAEAP,KAAA,SAAAE,cAEA,iEAIA,iBACA,+BAGA,uCAIAP,eACAS,GAAAJ,KAAA,SAAAC,oBAGAM,uBAEA,kBAEAP,KAAA,SAAAE,mEAMA,gCAKA,qEAEAM,qEAEAC,eACAD,wEAcAZ,2BACA,kBACA,WACAS,MAAA,SAAAvC,eAEAA,SACA,oDACA,QAIAuC,MAAA,SAAAvC,eAEAA,SACA,oDACA,0BAKA,IAAA4C,EAAA7D,oFAQA8D,+CAKA,2IAMAC,2KAYA,mEACA,yCASA,IAAAC,EAAAhE,6GAOA2D,qCAMA,IAAAM,EAAAjE,qCAKA,WAEAkE,QAAA,aAAAlE,KAAAmE,kBACA,0BAEA,iBACA,+BAGA,qCAKA,kBACAC,GAAAjB,KAAA,SAAAC,2CAKA,kBAEAD,KAAA,SAAAE,uBAWA,2CAEA,iBACA,+BAGA,qDAKAgB,GAAAlB,KAAA,SAAAC,oBAGAM,uBAEA,8BAEAP,KAAA,SAAAE,+CAKA,gCAMA,kEAEAM,qLAcA,WAGAG,0HAUA,WAGAA,mBAIAN,MAAA,SAAAvC,mCAUAuC,MAAA,SAAAvC,eAEAA,4DAaA,yBAGA6B,eACAwB,wGAIAC,uBACAC,gCAGAC,6IAQAd,sBCxdAe,GADiB5E,OAFjB,WAA0B,IAAAwB,EAAAtB,KAAaD,EAAAuB,EAAArB,eAA0BC,EAAAoB,EAAAnB,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,eAAyBE,OAAOmB,MAAA,GAAAlB,GAAA,WAAyBH,EAAA,OAAYsB,YAAA,OAAApB,OAA0BqB,IAAA9B,EAAA,WAAgD2B,EAAAI,GAAA,gBAAAJ,EAAAqD,OAAAzE,EAAA,OAAkDsB,YAAA,WAAqBtB,EAAA,UAAesB,YAAA,cAAAa,IAA8BC,MAAAhB,EAAAsD,cAAwBtD,EAAAI,GAAA,iBAAAJ,EAAAI,GAAA,KAAAxB,EAAA,OAAAoB,EAAAI,GAAA,QAAAJ,EAAAI,GAAA,KAAAxB,EAAA,QAAsFsB,YAAA,WAAAa,IAA2BwC,OAAA,SAAAC,GAAkD,OAAxBA,EAAAC,iBAAwBzD,EAAA0D,SAAAF,OAA8B5E,EAAA,gBAAqBsB,YAAA,aAAApB,OAAgCuB,KAAA,OAAAC,MAAA,kBAAArB,KAAA,WAAAF,GAAA,YAA0EyB,OAAQC,MAAAT,EAAA,SAAAU,SAAA,SAAAC,GAA8CX,EAAAgC,SAAArB,GAAiBE,WAAA,cAAwBb,EAAAI,GAAA,KAAAxB,EAAA,UAA2BsB,YAAA,YAAApB,OAA+BuB,KAAA,YAAiBL,EAAAI,GAAA,qBAAAxB,EAAA,OAAwCsB,YAAA,WAAqBtB,EAAA,QAAAA,EAAA,KAAAoB,EAAAI,GAAA,mBAAAJ,EAAA2D,GAAA3D,EAAAwB,SAAAxB,EAAAI,GAAA,KAAAxB,EAAA,KAAAoB,EAAAI,GAAA,qBAAAJ,EAAA2D,GAAA3D,EAAAgC,aAAAhC,EAAAI,GAAA,KAAAxB,EAAA,KAAAoB,EAAAI,GAAA,uBAAAJ,EAAA2D,GAAA3D,EAAA4D,YAAA,0BAAA5D,EAAAI,GAAA,KAAAxB,EAAA,UAAuQmC,IAAIC,MAAAhB,EAAA0B,qBAA+B1B,EAAAI,GAAA,oBAEprCf,oBCCjB,IAuBAwE,EAvBAxF,EAAA,OAcAyF,CACAxC,EACA8B,GATA,EAVA,SAAA5D,GACAnB,EAAA,SAaA,kBAEA,MAUA,QCsBA0F,EAAA1F,EAAA,QACA2F,OAAAC,OAAAF,EACA,IAAAG,EAAA7F,GAAA,eAAA8F,EAAA,IAAAC,MAAA,wCAAAD,EAAAE,KAAA,mBAAAF,EAAA,IAGAG,QAEA,gEACA,qDAGA,SACA,gDACA,kDAIA,QACA,yBACA,UACA,SACA,YACA,iBACA,cACA,8HACA,aACA,0BAGA,UAEA,OACA,YACA,SAGA,uEAIA,2BAEAtB,yBACAD,0BAEA,IAAArD,EAAAhB,cAIA6F,+DAKAxF,gCACAA,uBAGA,eAEA,uCAEA,eADAL,mCAGA8F,GAHA9F,wBAMA8F,oEAKA,8HAQA9F,kBAGA,yBACA,+CACA,eACA+F,eACAC,gCAEA,6CACA,gGAEAC,oCACAC,uBAEA,qBAEA,wDAEAC,wBAEAC,mBACA,kDACAA,sBACAN,+GAKA,cACAA,kDAKA,mDAIA,iHAIAO,2BACA,sDAKA,WACAhD,eACAA,mBACA,oBAGAiD,mBACAA,yCAGAC,mCACA,mCAMAvG,kBAEA,EAFAA,2DAGAwG,iBAHAxG,KAIAqD,MAJArD,2DAKAyG,kBALAzG,KAMAqD,MANArD,kBAQA,GARAA,gBASA,WATAA,gBAUA,wCACA,4CACA,6FAEA0G,oCACAC,uBAEA,qBACA,MAlBA3G,mBAmBA4G,GAnBA5G,mBAoBAsG,cApBAtG,oCAsBAuG,uBAtBAvG,eAuBA,qDAKA,sDAIA,oCAEA6G,oEAEAC,0DAIAC,oBACAC,0DACA,yCACA3D,6BACAA,wBACA,yBACA,eACA,cACA4D,uBACAC,iDACA,eAGA,mBAGA,0BACA,8DAMAC,4BAGA,8CACA,+CACA,yBAGAC,wDAIA,kCAEA,mBACApB,yBACA,6BACA,qBACAqB,SAEArH,gCADAgG,+CAGAA,qBACA,qEAMA,kBACAD,gEAEA,sDAEA,kDAMAuB,oBACAC,uBACAC,4CAIA,uDAGA,gCACA,oBACA,gCAEA,iCACAC,kBACA,cAGA,mEAEAC,yEAEA,0CAEA3B,wCAEAA,MACA4B,cACAC,gCAGA,yCAEA,kBACAC,wBACAxE,kBACAA,uBACA,oBAEAwE,wBACAxE,kBACAA,wCAOArD,WACA8H,mFAMAC,iBACAC,6EAMAjB,6BACAC,mBACA,YACAC,iBACAC,yCACA,QAEAD,iBACAC,wCACA,kCAIAe,2BACAjB,uCAGAF,qBACAA,iCAIAoB,wDAMA7B,0BAEA8B,gEAEA9B,kDACAA,mBAGA8B,kEAEA9B,gGAQAtE,0HAEA,qBAEA,cACA,mBACA,uBACAqG,kEAGApB,uEACAR,iCACAnD,iEACAoD,kCACApD,wBACA,OACA,2DAGAgF,mCAEAC,oDAGA,qBACA,uBACAF,8BACA/E,6BACAA,sBACA,2DAMA,qDAEA,8BACA,YACA,+CAGAkF,UAAA,oGAEAA,UAAA,wDAEAA,UAAA,gHAEAC,mBAEA,+CAKAxI,oEAGAqD,0BAEA0E,8BACA,mBACA1E,uBACAA,QACA2E,kEAMA,wBACA,oBACAS,+BAIA,IAAArH,EAAApB,6CAGA,iBACA,+BAGA,wCAIAsI,YACAjE,GAAAlB,KAAA,SAAAC,oBAGAM,uBAEA,8BAEAP,KAAA,SAAAE,kCAIAA,oBACA,oDACAmD,2BACAnD,wDACAoD,4BACApD,qBACA,KACAG,MAAA,SAAAvC,qCAUA,IAAAgC,EAAAjD,6GAKA2D,UC3gBA+E,GADiB5I,OAFjB,WAA0B,IAAAwB,EAAAtB,KAAaD,EAAAuB,EAAArB,eAA0BC,EAAAoB,EAAAnB,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiB+G,IAAA3F,EAAA2F,IAAA7G,OAAmBC,GAAA,UAAaiB,EAAAqH,GAAA,GAAArH,EAAAI,GAAA,KAAAxB,EAAA,OAAkCE,OAAOC,GAAA,YAAeH,EAAA,QAAaE,OAAOC,GAAA,SAAagC,IAAKC,MAAAhB,EAAAsH,eAAyBtH,EAAAI,GAAA,OAAAJ,EAAAI,GAAA,KAAAxB,EAAA,OAAsCE,OAAOC,GAAA,oBAAuBH,EAAA,KAAAoB,EAAAI,GAAA,kBAAAJ,EAAA2D,GAAAjF,KAAAqD,KAAAyD,OAAA,uBAAAxF,EAAAI,GAAA,KAAAxB,EAAA,KAAAoB,EAAAI,GAAA,6BAAAJ,EAAAI,GAAA,iBAAAJ,EAAAuH,OAAA3I,EAAA,OAA2LE,OAAOC,GAAA,sBAAyBH,EAAA,OAAYsB,YAAA,SAAApB,OAA4BC,GAAA,aAAgBiB,EAAAI,GAAA,KAAAxB,EAAA,OAAwBsB,YAAA,SAAApB,OAA4BC,GAAA,aAAgBiB,EAAAI,GAAA,KAAAxB,EAAA,OAAwBsB,YAAA,iBAA2BtB,EAAA,OAAYE,OAAOC,GAAA,eAAkBH,EAAA,OAAYsB,YAAA,UAAoBF,EAAAI,GAAA,UAAAJ,EAAA2D,GAAA3D,EAAAwF,UAAAxF,EAAAI,GAAA,KAAAxB,EAAA,SAAgEE,OAAOuB,KAAA,OAAAtB,GAAA,aAAAyI,YAAA,eAAAjH,SAAA,MAA4EP,EAAAI,GAAA,KAAAxB,EAAA,UAA2BsB,YAAA,MAAAa,IAAsBC,MAAAhB,EAAAyH,aAAuBzH,EAAAI,GAAA,wBAAAxB,EAAA,OAA2CE,OAAOC,GAAA,qBAAwBH,EAAA,OAAYE,OAAOC,GAAA,aAAgBiB,EAAAI,GAAA,kBAAAJ,EAAA2D,GAAA3D,EAAA2G,YAAA3G,EAAAI,GAAA,KAAAxB,EAAA,OAAwEsB,YAAA,SAAApB,OAA4BC,GAAA,cAAiBiB,EAAAI,GAAA,KAAAxB,EAAA,OAAwBE,OAAOC,GAAA,SAAagC,IAAKC,MAAAhB,EAAA0H,eAAyB1H,EAAAI,GAAA,KAAAxB,EAAA,OAAwBsB,YAAA,SAAApB,OAA4BC,GAAA,gBAAmBiB,EAAAI,GAAA,KAAAxB,EAAA,OAAwBsB,YAAA,UAAoBF,EAAAI,GAAA,WAAAJ,EAAAI,GAAA,KAAAxB,EAAA,OAA0CE,OAAOC,GAAA,eAAkBH,EAAA,OAAAoB,EAAAI,GAAA,2BAAAJ,EAAA2D,GAAA3D,EAAA8G,WAAA9G,EAAAI,GAAA,KAAAxB,EAAA,OAAAoB,EAAAI,GAAA,UAAAJ,EAAA2D,GAAAjF,KAAAqD,KAAAyD,cAAAxF,EAAAI,GAAA,KAAAxB,EAAA,OAAAoB,EAAAI,GAAA,eAAAJ,EAAA2D,GAAAjF,KAAAsD,UAAA,UAAApD,EAAA,OAAAoB,EAAAI,GAAA,cAAAJ,EAAA2D,GAAA3D,EAAAgD,cAEh8C3D,iBADjB,WAAoC,IAAaZ,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,OAAiBE,OAAOC,GAAA,gBAAmBH,EAAA,OAAYE,OAAOC,GAAA,gBCGjK,IAuBA4I,EAvBAtJ,EAAA,OAcAuJ,CACAtD,EACA8C,GATA,EAXA,SAAA5H,GACAnB,EAAA,QACAA,EAAA,SAaA,KAEA,MAUA,QCxBAwJ,GADiBrJ,OAFjB,WAA0B,IAAaC,EAAbC,KAAaC,eAA0BC,EAAvCF,KAAuCG,MAAAD,IAAAH,EAAwB,OAAAG,EAAA,eAAyBE,OAAOmB,MAAA,GAAAlB,GAAA,UAAwBH,EAAA,OAAYsB,YAAA,OAAApB,OAA0BqB,IAAA9B,EAAA,WAA7JK,KAA6M0B,GAAA,KAAAxB,EAAA,MAA7MF,KAA6M0B,GAAA,mBAA7M1B,KAA6M0B,GAAA,KAAAxB,EAAA,UAA0EmC,IAAIC,MAA3RtC,KAA2RoJ,QAA3RpJ,KAA6S0B,GAAA,wBAEtTf,oBCCjB,IAuBA0I,EAvBA1J,EAAA,OAcA2J,OCNA,+DAGA,QDKAH,GATA,EAVA,SAAArI,GACAnB,EAAA,SAaA,kBAEA,MAUA,QEhBA,SAAS4J,EAAaC,EAAKpG,EAAKqG,GACzBC,EAAA,QAAIC,iBAMPF,KALAG,QAAQC,IAAI,6BACZJ,GACEK,KAAM,OANZC,EAAA,EAAIC,IAAIC,EAAA,GAaR,IAAAC,EAAA,IAAmBD,EAAA,GACjBzJ,KAAM,UACN2J,SAEIL,KAAM,IACNvJ,KAAM,OACN6J,UAAW1H,IAIXoH,KAAM,SACNvJ,KAAM,QACN6J,UAAWjF,EACXkF,YAAad,IAGbO,KAAM,kBACNvJ,KAAM,OACN6J,UAAWnB,EACXoB,YAAad,EACbe,OAAO,IAGPR,KAAM,IACNvJ,KAAM,oBACN6J,UAAWf,gBCtCjB1J,EAAQ,QAGRoK,EAAA,EAAIC,IAAIO,EAAAC,GAERT,EAAA,EAAIU,OAAOC,eAAgB,EAE3B,IAAMC,EAAO,IAAIC,EAAAJ,GAAOK,KAAM,gCAAiCC,KAAM,IAAKC,QAAQ,IAElFhB,EAAA,EAAIiB,UAAUC,MAAQN,EAGtB,IAAIZ,EAAA,GACFmB,GAAI,OACJhB,SACAiB,YAAcC,IAAAxK,GACdyK,SAAU,6ICxBR3B,EAAO,WACT,IAAIjK,KAGJ,SAAS6L,EAAKC,EAAQpD,EAAK9E,EAAMrB,GAC/B,IAAIwJ,EAAM,IAAIC,eAEdD,EAAIE,OAAS,WAEQ,MAAfF,EAAI7G,OACN3C,EAAS,IAAMwJ,EAAI7G,OAAS,IAAM6G,EAAIG,aAAc,MAEpD3J,EAAS,KAAM4J,KAAKC,MAAML,EAAIG,gBAIlCH,EAAIM,KAAKP,EAAQpD,GAAK,GACjB9E,GAEHmI,EAAIO,iBAAiB,eAAgB,oBACrCP,EAAIF,KAAKU,IAAe3I,KAHfmI,EAAIF,OAwCjB,OAjCA7L,EAAOkK,eAAiB,WACtBC,QAAQC,IAAI,kBACZ,IAAIoC,EAAIC,SAASC,OAAOC,MAAM,aAE9B,OADAxC,QAAQC,IAAIoC,GACRA,EAAElI,OAAS,EAAUkI,EAAE,GACpB,MAITxM,EAAO+C,OAAS,SAASN,EAAUE,EAAUJ,GAC3CsJ,EAAK,OAAQ,gBAAiBpJ,SAAUA,EAAUE,SAAUA,GAAWJ,IAIzEvC,EAAO4M,OAAS,SAASnK,EAAUE,EAAUJ,GAC3CsJ,EAAK,OAAQ,gBAAiBpJ,SAAUA,EAAUE,SAAUA,GAAWJ,IAIzEvC,EAAO6M,QAAU,SAAStK,GACxBsJ,EAAK,MAAO,gBAAiBtJ,IAI/BvC,EAAO8M,aAAe,SAASvK,GAC7BsJ,EAAK,MAAO,kBAAmB,KAAMtJ,IAIvCvC,EAAO+M,eAAiB,SAASxK,GAC/BsJ,EAAK,OAAQ,wBAAyB,KAAMtJ,IAGvCvC,EAzDE,GA4DXgN,EAAA,gCC5DAhN,EAAAC,QAAAC,EAAAC,EAAA,kDCAAH,EAAAC,QAAA,yPCAAD,EAAAC,QAAA,8zECAAD,EAAAC,QAAA,0/ECAAD,EAAAC,QAAA,ggECAgG,SAAU+F,EAAEiH,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAA2C,IAAIC,IAAxB,mBAATC,GAAqBA,GAAiB,OAAOA,EAAEF,GAAE,GAAI,GAAG/G,EAAE,OAAOA,EAAE+G,GAAE,GAAI,IAAIG,EAAE,IAAIvH,MAAM,uBAAuBoH,EAAE,KAAK,MAAMG,EAAEtH,KAAK,mBAAmBsH,EAAE,IAAIhB,EAAEU,EAAEG,IAAIpN,YAAYgN,EAAEI,GAAG,GAAGI,KAAKjB,EAAEvM,QAAQ,SAAS+F,GAAG,IAAIkH,EAAED,EAAEI,GAAG,GAAGrH,GAAG,OAAOoH,EAAEF,GAAIlH,IAAIwG,EAAEA,EAAEvM,QAAQ+F,EAAEiH,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGpN,QAAkD,IAA1C,IAAIqG,EAAkB,mBAATiH,GAAqBA,EAAgBF,EAAE,EAAEA,EAAEF,EAAE7I,OAAO+I,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAAvb,EAA4bM,GAAG,SAASH,EAAQvN,EAAOC,GACvjBD,EAAOC,QAAQ0N,sBAAwB9H,OAAO8H,uBAC7C9H,OAAO+H,yBACR5N,EAAOC,QAAQ4N,kBAAoBhI,OAAOgI,mBACzChI,OAAOiI,sBAAwBjI,OAAOkI,wBACvC/N,EAAOC,QAAQ+N,gBAAkBnI,OAAOmI,iBACvCnI,OAAOoI,wBAEFC,GAAG,SAASX,EAAQvN,EAAOC,GACjC,IAAIkO,EAAOZ,EAAQ,UACfa,EAAeb,EAAQ,iBACvBc,EAAad,EAAQ,gBACrBe,EAAWf,EAAQ,YAKvB,SAASgB,EAAeC,EAAMC,EAAUC,GACtC,KAAMnO,gBAAgBgO,GAAiB,OAAO,IAAIA,EAAeC,EAAMC,EAAUC,GACjFN,EAAaX,KAAKlN,MAElBA,KAAKmO,QAAUP,EAAKQ,QAClBC,cAAe,SACfC,UAAU,GACTH,GAGHnO,KAAK8L,MAAO,EACZ9L,KAAK2B,KAAO,OACZ3B,KAAKiO,KAAOA,EACZjO,KAAKkO,SAAWA,EAEhBlO,KAAKK,GAAKL,KAAKmO,QAAQI,cAAgBP,EAAeQ,UAAYZ,EAAKa,cAEvEzO,KAAK4B,MAAQ5B,KAAKmO,QAAQvM,OAAS5B,KAAKK,GACxCL,KAAK0O,SAAW1O,KAAKmO,QAAQO,SAC7B1O,KAAKqO,cAAgBrO,KAAKmO,QAAQE,cAClCrO,KAAKsO,SAAWtO,KAAKmO,QAAQG,SAG7BtO,KAAK2O,WACL3O,KAAK4O,YAAa,EAClB5O,KAAK6O,WAAa,EAGlB7O,KAAK8O,gBAED9O,KAAKmO,QAAQY,WACf/O,KAAKgP,aAAehP,KAAKmO,QAAQY,SAASE,SAG5CnB,EAAWoB,gBACTlP,KACAA,KAAKmO,QAAQY,WACXI,YAAY,IAKlBvB,EAAKwB,SAASpB,EAAgBH,GAE9BG,EAAeQ,UAAY,MAG3BR,EAAehD,UAAUqE,WAAa,SAASC,GAC7CtP,KAAKuP,IAAMvP,KAAKwP,YAAcF,EAC9BtP,KAAKyP,yBAGPzB,EAAehD,UAAUyE,sBAAwB,WAC/C,IAAIC,EAAO1P,KACP4N,EAAK+B,SAASC,OAChB5P,KAAKuP,IAAIM,WAAa,eAExB7P,KAAKuP,IAAIO,OAAS,WAChBlC,EAAK/D,IAAI,mCACT6F,EAAK5D,MAAO,EACZ4D,EAAKK,KAAK,UAIPnC,EAAK+B,SAASC,MAAQ5P,KAAKsO,WAC9BtO,KAAKgQ,UAAY,IAAIjC,EAAS/N,KAAKuP,IAAK3B,EAAKqC,QAG3CjQ,KAAKgQ,UACPhQ,KAAKgQ,UAAUE,UAAY,SAASC,GAClCT,EAAKK,KAAK,OAAQI,IAGpBnQ,KAAKuP,IAAIW,UAAY,SAASzK,GAC5BiK,EAAKU,mBAAmB3K,IAG5BzF,KAAKuP,IAAIc,QAAU,SAAS5K,GAC1BmI,EAAK/D,IAAI,0BAA2B6F,EAAKzB,MACzCyB,EAAKY,UAKTtC,EAAehD,UAAUoF,mBAAqB,SAAS3K,GACrD,IAAIiK,EAAO1P,KACPqD,EAAOoC,EAAEpC,KACTkN,EAAWlN,EAAKmN,YACpB,GAA2B,WAAvBxQ,KAAKqO,eAAqD,gBAAvBrO,KAAKqO,cAAiC,CAC3E,GAAIkC,IAAaE,KAMf,YAJA7C,EAAK8C,kBAAkBrN,EAAM,SAASsN,GACpCtN,EAAOuK,EAAKgD,OAAOD,GACnBjB,EAAKK,KAAK,OAAQ1M,KAGf,GAAIkN,IAAaM,YACtBxN,EAAOuK,EAAKgD,OAAOvN,QACd,GAAIkN,IAAaO,OAAQ,CAE9B,IAAIH,EAAK/C,EAAKmD,0BAA0B1N,GACxCA,EAAOuK,EAAKgD,OAAOD,QAEW,SAAvB3Q,KAAKqO,gBACdhL,EAAOuI,KAAKC,MAAMxI,IAKpB,GAAIA,EAAK2N,WAAY,CACnB,IAAI3Q,EAAKgD,EAAK2N,WACVC,EAAYjR,KAAK8O,aAAazO,KAAQgD,QAAU6N,MAAO,EAAGC,MAAO9N,EAAK8N,OAe1E,OAbAF,EAAU5N,KAAKA,EAAKsJ,GAAKtJ,EAAKA,KAC9B4N,EAAUC,OAAS,EAEfD,EAAUE,QAAUF,EAAUC,eAEzBlR,KAAK8O,aAAazO,GAGzBgD,EAAO,IAAIoN,KAAKQ,EAAU5N,MAC1BrD,KAAKoQ,oBAAoB/M,KAAMA,UAGjCrD,KAAK8O,aAAazO,GAAM4Q,GAI1BjR,KAAK+P,KAAK,OAAQ1M,IAQpB2K,EAAehD,UAAUsF,MAAQ,WAC1BtQ,KAAK8L,OAGV9L,KAAK8L,MAAO,EACZgC,EAAWsD,QAAQpR,MACnBA,KAAK+P,KAAK,WAIZ/B,EAAehD,UAAUM,KAAO,SAASjI,EAAMgO,GAC7C,GAAKrR,KAAK8L,KAIV,GAAI9L,KAAKgQ,UAGPhQ,KAAKgQ,UAAU1E,KAAKjI,OAHtB,CAMA,IAAIqM,EAAO1P,KACX,GAA2B,SAAvBA,KAAKqO,cACPrO,KAAKsR,cAAcC,IAAelO,SAC7B,GAA2B,WAAvBrD,KAAKqO,eAAqD,gBAAvBrO,KAAKqO,cAAiC,CAClF,IAAImD,EAAO5D,EAAK6D,KAAKpO,GAKrB,IADoBuK,EAAK8D,gBAAgB1R,KAAKgP,eAAiBpB,EAAK8D,gBAAgB9D,EAAKqB,YACnEoC,GAAWG,EAAKG,KAAO/D,EAAKgE,WAEhD,YADA5R,KAAK6R,YAAYL,GAKd5D,EAAK+B,SAASC,KAIPhC,EAAK+B,SAASmC,WAOxB9R,KAAKsR,cAAcE,GAJnB5D,EAAK8C,kBAAkBc,EAAM,SAASb,GACpCjB,EAAK4B,cAAcX,KAPrB/C,EAAKmE,mBAAmBP,EAAM,SAASQ,GACrCtC,EAAK4B,cAAcU,UAYvBhS,KAAKsR,cAAcjO,QAtCnBrD,KAAK+P,KAAK,QAAS,IAAIrK,MAAM,6FA0CjCsI,EAAehD,UAAUsG,cAAgB,SAASnB,IAC5CnQ,KAAK4O,YAAe5O,KAAKiS,SAAS9B,KACpCnQ,KAAK2O,QAAQxN,KAAKgP,GAClBnQ,KAAK6O,WAAa7O,KAAK2O,QAAQ5K,SAKnCiK,EAAehD,UAAUiH,SAAW,SAAS9B,GAC3C,IACEnQ,KAAKuP,IAAIjE,KAAK6E,GACd,MAAO1K,GACPzF,KAAK4O,YAAa,EAElB,IAAIc,EAAO1P,KAMX,OALAkS,WAAW,WAETxC,EAAKd,YAAa,EAClBc,EAAKyC,cACJ,MACI,EAET,OAAO,GAITnE,EAAehD,UAAUmH,WAAa,WACpC,GAA4B,IAAxBnS,KAAK2O,QAAQ5K,OAAjB,CAIA,IAAIoM,EAAMnQ,KAAK2O,QAAQ,GAEnB3O,KAAKiS,SAAS9B,KAChBnQ,KAAK2O,QAAQyD,QACbpS,KAAK6O,WAAa7O,KAAK2O,QAAQ5K,OAC/B/D,KAAKmS,gBAITnE,EAAehD,UAAU6G,YAAc,SAASL,GAE9C,IADA,IAAIa,EAAQzE,EAAK0E,MAAMd,GACdzL,EAAI,EAAGwM,EAAKF,EAAMtO,OAAQgC,EAAIwM,EAAIxM,GAAK,EAAG,CAC7CyL,EAAOa,EAAMtM,GACjB/F,KAAKsL,KAAKkG,GAAM,KAIpBxD,EAAehD,UAAUwH,cAAgB,SAASC,GAChD,IAAIC,EAAUD,EAAQC,QAEtB,OAAQD,EAAQ9Q,MACd,IAAK,SACH3B,KAAKgP,aAAe0D,EAAQzD,QAG5BnB,EAAW6E,UAAUF,EAAQ9Q,KAAM3B,KAAM0S,EAAQE,KACjD,MACF,IAAK,YACH9E,EAAW+E,gBAAgB7S,KAAM0S,EAAQI,WACzC,MACF,QACElF,EAAKmF,KAAK,6BAA8BN,EAAQ9Q,KAAM,aAAc3B,KAAKiO,QAK/ExO,EAAOC,QAAUsO,IAEdgF,eAAe,EAAEC,SAAS,EAAEC,cAAgB,EAAE5E,SAAW,KAAK6E,GAAG,SAASnG,EAAQvN,EAAOC,GAC5F4F,OAAO8N,OAASpG,EAAQ,YACxB1H,OAAO+N,gBAAkBrG,EAAQ,qBACjC1H,OAAO0I,eAAiBhB,EAAQ,oBAChC1H,OAAOY,KAAO8G,EAAQ,UACtB1H,OAAOgI,kBAAoBN,EAAQ,aAAaM,kBAChDhI,OAAO8H,sBAAwBJ,EAAQ,aAAaI,sBACpD9H,OAAOmI,gBAAkBT,EAAQ,aAAaS,gBAC9CnI,OAAOwI,WAAad,EAAQ,gBAC5B1H,OAAOsI,KAAOZ,EAAQ,UACtB1H,OAAOgO,WAAatG,EAAQ,mBAEzBuG,YAAY,EAAEC,mBAAmB,EAAEC,oBAAoB,EAAET,eAAe,EAAEU,SAAS,EAAEC,WAAW,EAAEV,SAAS,EAAEW,gBAAgB,KAAKC,GAAG,SAAS7G,EAAQvN,EAAOC,GAChK,IAAIkO,EAAOZ,EAAQ,UACfa,EAAeb,EAAQ,iBACvBc,EAAad,EAAQ,gBAKzB,SAASqG,EAAgBpF,EAAMC,EAAUC,GACvC,KAAMnO,gBAAgBqT,GAAkB,OAAO,IAAIA,EAAgBpF,EAAMC,EAAUC,GACnFN,EAAaX,KAAKlN,MAElBA,KAAKmO,QAAUP,EAAKQ,UAAWD,GAE/BnO,KAAK8L,MAAO,EACZ9L,KAAK2B,KAAO,QACZ3B,KAAKiO,KAAOA,EACZjO,KAAKkO,SAAWA,EAChBlO,KAAK0O,SAAW1O,KAAKmO,QAAQO,SAC7B1O,KAAK8T,YAAc9T,KAAKmO,QAAQ4F,QAEhC/T,KAAKK,GAAKL,KAAKmO,QAAQI,cAAgB8E,EAAgB7E,UAAYZ,EAAKa,cACpEzO,KAAK8T,aACPhG,EAAWoB,gBACTlP,MACC+T,QAAS/T,KAAK8T,YAAa3E,YAAY,IAK9CvB,EAAKwB,SAASiE,EAAiBxF,GAE/BwF,EAAgB7E,UAAY,MAE5B6E,EAAgBrI,UAAUgJ,UAAY,SAASC,GAC7CrG,EAAK/D,IAAI,mBAAoBoK,GAE7BjU,KAAKiU,aAAeA,EACpBjU,KAAK+P,KAAK,SAAUkE,IAItBZ,EAAgBrI,UAAUwH,cAAgB,SAASC,GACjD,IAAIC,EAAUD,EAAQC,QAEtB,OAAQD,EAAQ9Q,MACd,IAAK,SAEHmM,EAAW6E,UAAUF,EAAQ9Q,KAAM3B,KAAM0S,EAAQE,KACjD5S,KAAK8L,MAAO,EACZ,MACF,IAAK,YACHgC,EAAW+E,gBAAgB7S,KAAM0S,EAAQI,WACzC,MACF,QACElF,EAAKmF,KAAK,6BAA8BN,EAAQ9Q,KAAM,aAAc3B,KAAKiO,QAK/EoF,EAAgBrI,UAAU5C,OAAS,SAAS8L,GAC1C,GAAIlU,KAAK8T,YACPlG,EAAKmF,KAAK,4FADZ,CAKA/S,KAAKmO,QAAQY,SAASgF,QAAUG,EAEhClU,KAAK8T,YAAcI,EACnBpG,EAAWoB,gBACTlP,KACAA,KAAKmO,QAAQY,UAIf,IADA,IAAIoF,EAAWnU,KAAKkO,SAASkG,aAAapU,KAAKK,IACtC0F,EAAI,EAAGwM,EAAK4B,EAASpQ,OAAQgC,EAAIwM,EAAIxM,GAAK,EACjD/F,KAAKwS,cAAc2B,EAASpO,IAE9B/F,KAAK8L,MAAO,IAQduH,EAAgBrI,UAAUsF,MAAQ,WAC3BtQ,KAAK8L,OAGV9L,KAAK8L,MAAO,EACZgC,EAAWsD,QAAQpR,MACnBA,KAAK+P,KAAK,WAGZtQ,EAAOC,QAAU2T,IAEdL,eAAe,EAAEC,SAAS,EAAEC,cAAgB,IAAImB,GAAG,SAASrH,EAAQvN,EAAOC,GAC9E,IAAIkO,EAAOZ,EAAQ,UACfM,EAAoBN,EAAQ,aAAaM,kBACzCF,EAAwBJ,EAAQ,aAAaI,sBAC7CK,EAAkBT,EAAQ,aAAaS,gBAKvCK,GACFwG,KACEjR,QACAkR,UAGFC,SAGF1G,UAAuB,MAGvBA,gBAA6B,SAAS2G,EAAYtG,GAChD,IAAIuG,EAAK5G,EAAW6G,mBAAmBF,EAAYtG,GAUnD,GARwB,UAApBsG,EAAW9S,MAAoBwM,EAAQ4F,SAEzCW,EAAGV,UAAU7F,EAAQ4F,SAIvBU,EAAWC,GAAKD,EAAWG,eAAiBF,EAExCvG,EAAQgB,WAAY,CACtB,GAAwB,SAApBsF,EAAW9S,KAAiB,CAE9B,IAAI8I,KAQCmD,EAAK+B,SAASC,OACjBnF,GAAU6D,SAAUH,EAAQG,WAE9B,IAAIgB,EAAKoF,EAAGG,kBAAkBJ,EAAW7S,MAAO6I,GAChDgK,EAAWpF,WAAWC,GAGnB1B,EAAK+B,SAASmF,qBACjBhH,EAAWiH,WAAWN,QAGxB3G,EAAW6E,UAAU,QAAS8B,EAAYtG,EAAQyE,MAItD9E,mBAAgC,SAAS2G,EAAYtG,GAC9CL,EAAWwG,IAAIG,EAAW9S,OAC7BiM,EAAKoH,MAAMP,EAAW9S,KAAO,sFAG1BmM,EAAWwG,IAAIG,EAAW9S,MAAM8S,EAAWxG,QAC9CH,EAAWwG,IAAIG,EAAW9S,MAAM8S,EAAWxG,UAE7C,IAEIyG,EAFkB5G,EAAWwG,IAAIG,EAAW9S,MAAM8S,EAAWxG,MAoBjE,OAPIE,EAAQuG,KACVA,EAAK5G,EAAWwG,IAAIG,EAAW9S,MAAM8S,EAAWxG,MAAME,EAAQuG,KAG3DA,GAA4B,WAAtBA,EAAGO,iBACZP,EAAK5G,EAAWoH,qBAAqBT,IAEhCC,GAiBT5G,qBAAkC,SAAS2G,GACzC7G,EAAK/D,IAAI,+BAET,IAAIxJ,EAAKyN,EAAWU,UAAYZ,EAAKa,cACjC0G,KAEoB,SAApBV,EAAW9S,MAAoBiM,EAAK+B,SAASC,KAElB,UAApB6E,EAAW9S,OAEpBwT,GAAYA,WAAYC,sBAAsB,MAH9CD,GAAYA,WAAYE,iBAAiB,KAM3C,IAAIX,EAAK,IAAIpH,EAAkBmH,EAAWvG,SAASC,QAAQ1D,OAAQ0K,GAKnE,OAJArH,EAAWwG,IAAIG,EAAW9S,MAAM8S,EAAWxG,MAAM5N,GAAMqU,EAEvD5G,EAAWwH,gBAAgBb,EAAYC,EAAIrU,GAEpCqU,GAIT5G,gBAA6B,SAAS2G,EAAYC,EAAIa,GACpD,IAAI3R,EAAS6Q,EAAWxG,KACpBM,EAAekG,EAAWpU,GAC1B6N,EAAWuG,EAAWvG,SAG1BN,EAAK/D,IAAI,iCACT6K,EAAGc,eAAiB,SAASC,GACvBA,EAAI3C,YACNlF,EAAK/D,IAAI,+BAAgC4K,EAAWxG,MACpDC,EAASwH,OAAOpK,MACd3J,KAAM,YACN+Q,SACEI,UAAW2C,EAAI3C,UACfnR,KAAM8S,EAAW9S,KACjB4M,aAAckG,EAAWpU,IAE3BsV,IAAK/R,MAKX8Q,EAAGkB,2BAA6B,WAC9B,OAAQlB,EAAGmB,oBACT,IAAK,eACL,IAAK,SACHjI,EAAK/D,IAAI,8DAAgEjG,GACzE6Q,EAAWnE,QACX,MACF,IAAK,YACHoE,EAAGc,eAAiB5H,EAAKkI,OAM/BpB,EAAGqB,YAAcrB,EAAGkB,2BAGpBhI,EAAK/D,IAAI,qCACT6K,EAAGI,oBAAsB,WACvBlH,EAAK/D,IAAI,iCACgB,UAArB6K,EAAGO,eACLnH,EAAWiH,WAAWN,GAEtB7G,EAAK/D,IAAI,4FAKb+D,EAAK/D,IAAI,8BAGT6K,EAAGsB,cAAgB,SAASP,GAC1B7H,EAAK/D,IAAI,yBACT,IAAIyF,EAAKmG,EAAIQ,QACI/H,EAASgI,cAActS,EAAQ2K,GACrCc,WAAWC,IAIxB1B,EAAK/D,IAAI,+BACT6K,EAAGyB,YAAc,SAASV,GACxB7H,EAAK/D,IAAI,0BACT,IAAIqK,EAASuB,EAAIvB,OACbO,EAAavG,EAASgI,cAActS,EAAQ2K,GAMxB,UAApBkG,EAAW9S,MACb8S,EAAWT,UAAUE,KAK3BpG,QAAqB,SAAS2G,GAC5B7G,EAAK/D,IAAI,iCAAmC4K,EAAWxG,MAEvD,IAAIyG,EAAKD,EAAWC,IAEdA,GAAyB,WAAlBA,EAAG0B,YAAiD,WAAtB1B,EAAGO,iBAC5CP,EAAGpE,QACHmE,EAAWC,GAAK,OAIpB5G,WAAwB,SAAS2G,GAC/B,IAAIC,EAAKD,EAAWC,GACpBA,EAAG2B,YAAY,SAASC,GACtB1I,EAAK/D,IAAI,mBAEJ+D,EAAK+B,SAASC,MAA4B,SAApB6E,EAAW9S,MAAmB8S,EAAWnG,WAClEgI,EAAM1D,IAAM7E,SAASwI,mBAAmBD,EAAM1D,MAGhD8B,EAAG8B,oBAAoBF,EAAO,WAC5B1I,EAAK/D,IAAI,8BAA+B,OAAQ4K,EAAWxG,MAC3DwG,EAAWvG,SAASwH,OAAOpK,MACzB3J,KAAM,QACN+Q,SACEE,IAAK0D,EACL3U,KAAM8S,EAAW9S,KACjBC,MAAO6S,EAAW7S,MAClB2M,aAAckG,EAAWpU,GACzBiO,SAAUmG,EAAWnG,SACrBD,cAAeoG,EAAWpG,cAC1BK,SAAU+F,EAAW/F,SACrBO,QAASrB,EAAKqB,SAEhB0G,IAAKlB,EAAWxG,QAEjB,SAAShN,GACVwT,EAAWvG,SAASuI,UAAU,SAAUxV,GACxC2M,EAAK/D,IAAI,kCAAmC5I,MAE7C,SAASA,GACVwT,EAAWvG,SAASuI,UAAU,SAAUxV,GACxC2M,EAAK/D,IAAI,0BAA2B5I,IACnCwT,EAAWtG,QAAQuI,cAGxB5I,YAAyB,SAAS2G,GAChC,IAAIC,EAAKD,EAAWC,GAEpBA,EAAGiC,aAAa,SAASvO,GACvBwF,EAAK/D,IAAI,oBAEJ+D,EAAK+B,SAASC,MAA4B,SAApB6E,EAAW9S,MAAmB8S,EAAWnG,WAClElG,EAAOwK,IAAM7E,SAASwI,mBAAmBnO,EAAOwK,MAGlD8B,EAAG8B,oBAAoBpO,EAAQ,WAC7BwF,EAAK/D,IAAI,+BAAgC,OAAQ4K,EAAWxG,MAC5DwG,EAAWvG,SAASwH,OAAOpK,MACzB3J,KAAM,SACN+Q,SACEE,IAAKxK,EACLzG,KAAM8S,EAAW9S,KACjB4M,aAAckG,EAAWpU,GACzB4O,QAASrB,EAAKqB,SAEhB0G,IAAKlB,EAAWxG,QAEjB,SAAShN,GACVwT,EAAWvG,SAASuI,UAAU,SAAUxV,GACxC2M,EAAK/D,IAAI,kCAAmC5I,MAE7C,SAASA,GACVwT,EAAWvG,SAASuI,UAAU,SAAUxV,GACxC2M,EAAK/D,IAAI,4BAA6B5I,MAK1C6M,UAAuB,SAASnM,EAAM8S,EAAY7B,GAChDA,EAAM,IAAIxF,EAAsBwF,GAChC,IAAI8B,EAAKD,EAAWC,GAEpB9G,EAAK/D,IAAI,6BAA8B+I,GACvC8B,EAAGkC,qBAAqBhE,EAAK,WAC3BhF,EAAK/D,IAAI,yBAA0BlI,EAAM,OAAQ8S,EAAWxG,MAE/C,UAATtM,GACFmM,EAAW+I,YAAYpC,IAExB,SAASxT,GACVwT,EAAWvG,SAASuI,UAAU,SAAUxV,GACxC2M,EAAK/D,IAAI,mCAAoC5I,MAKjD6M,gBAA6B,SAAS2G,EAAYqC,GAChD,IAAIhE,EAAYgE,EAAIhE,UAChBiE,EAAgBD,EAAIC,cACxBtC,EAAWC,GAAGsC,gBAAgB,IAAIvJ,GAChCsJ,cAAeA,EACfjE,UAAWA,KAEblF,EAAK/D,IAAI,2BAA4B4K,EAAWxG,QAGlDxO,EAAOC,QAAUoO,IAEdyF,YAAY,EAAEN,SAAS,IAAIgE,GAAG,SAASjK,EAAQvN,EAAOC,GACzD,IAAIkO,EAAOZ,EAAQ,UACfa,EAAeb,EAAQ,iBACvBoG,EAASpG,EAAQ,YACjBqG,EAAkBrG,EAAQ,qBAC1BgB,EAAiBhB,EAAQ,oBAK7B,SAAS9G,EAAK7F,EAAI8N,GAChB,KAAMnO,gBAAgBkG,GAAO,OAAO,IAAIA,EAAK7F,EAAI8N,GACjDN,EAAaX,KAAKlN,MAGdK,GAAMA,EAAGmQ,aAAe0G,QAC1B/I,EAAU9N,EACVA,OAAK8W,GACI9W,IAETA,EAAKA,EAAG+W,YAKVjJ,EAAUP,EAAKQ,QACb6B,MAAO,EACPpF,KAAM+C,EAAKyJ,WACXvM,KAAM8C,EAAK0J,WACXrQ,IAAK,SACL6C,KAAM,IACNyN,MAAO3J,EAAKa,cACZhE,OAAQmD,EAAK4J,eACZrJ,GACHnO,KAAKmO,QAAUA,EAEM,MAAjBA,EAAQtD,OACVsD,EAAQtD,KAAOvF,OAAOmS,SAASC,UAGT,MAApBvJ,EAAQrE,KAAK,KACfqE,EAAQrE,KAAO,IAAMqE,EAAQrE,MAEe,MAA1CqE,EAAQrE,KAAKqE,EAAQrE,KAAK/F,OAAS,KACrCoK,EAAQrE,MAAQ,UAIKqN,IAAnBhJ,EAAQpD,QAAwBoD,EAAQtD,OAAS+C,EAAKyJ,aACxDlJ,EAAQpD,OAAS6C,EAAK+J,YAGpBxJ,EAAQyJ,aACVhK,EAAKiK,eAAe1J,EAAQyJ,aAE9BhK,EAAKkK,YAAY3J,EAAQ8B,OAKpBrC,EAAK+B,SAASoI,YAAenK,EAAK+B,SAAStM,KAK3CuK,EAAKoK,WAAW3X,GAKhBuN,EAAKqK,YAAY9J,EAAQlH,KAK1BkH,EAAQpD,QAA2B,iBAAjBoD,EAAQtD,KAC5B7K,KAAKkY,cAAc,kBACjB,oGAMJlY,KAAKmY,WAAY,EACjBnY,KAAKoY,cAAe,EACpBpY,KAAK8L,MAAO,EAIZ9L,KAAKqY,eACLrY,KAAKsY,iBAILtY,KAAKuY,8BACDlY,EACFL,KAAKwY,YAAYnY,GAEjBL,KAAKyY,eA3BLzY,KAAKkY,cAAc,cAAe,YAAc/J,EAAQlH,IAAM,gBAL9DjH,KAAKkY,cAAc,aAAc,OAAS7X,EAAK,gBAL/CL,KAAKkY,cAAc,uBAAwB,+CA0C/CtK,EAAKwB,SAASlJ,EAAM2H,GAIpB3H,EAAK8E,UAAUuN,4BAA8B,WAC3C,IAAI7I,EAAO1P,KACXA,KAAK0V,OAAS,IAAItC,EAAOpT,KAAKmO,QAAQpD,OAAQ/K,KAAKmO,QAAQtD,KAAM7K,KAAKmO,QAAQrD,KAAM9K,KAAKmO,QAAQrE,KAAM9J,KAAKmO,QAAQlH,KACpHjH,KAAK0V,OAAOrT,GAAG,UAAW,SAASgB,GACjCqM,EAAKgJ,eAAerV,KAEtBrD,KAAK0V,OAAOrT,GAAG,QAAS,SAAS2S,GAC/BtF,EAAKiJ,OAAO,eAAgB3D,KAE9BhV,KAAK0V,OAAOrT,GAAG,eAAgB,WAExBqN,EAAK0I,eACR1I,EAAK+G,UAAU,UAAW,8BAC1B/G,EAAKkJ,gBAGT5Y,KAAK0V,OAAOrT,GAAG,QAAS,WAEjBqN,EAAK0I,cACR1I,EAAKiJ,OAAO,gBAAiB,2CAMnCzS,EAAK8E,UAAUyN,YAAc,SAASI,GACpC,IAAInJ,EAAO1P,KACP8Y,EAAO,IAAIrN,eAEXtD,GADWnI,KAAKmO,QAAQpD,OAAS,WAAa,WAC7B/K,KAAKmO,QAAQtD,KAAO,IAAM7K,KAAKmO,QAAQrD,KAC1D9K,KAAKmO,QAAQrE,KAAO9J,KAAKmO,QAAQlH,IAAM,MAEzCkB,GADkB,QAAS,IAAI4Q,MAAOC,UAAiBC,KAAKC,SAI5DJ,EAAKhN,KAAK,MAAO3D,GAAK,GACtB2Q,EAAKK,QAAU,SAAS1T,GACtBmI,EAAKoH,MAAM,sBAAuBvP,GAClC,IAAI2T,EAAY,GACU,MAAtB1J,EAAKvB,QAAQrE,MAAgB4F,EAAKvB,QAAQtD,OAAS+C,EAAKyJ,aAC1D+B,EAAY,mIAId1J,EAAKiJ,OAAO,eAAgB,uCAAyCS,IAEvEN,EAAKO,mBAAqB,WACA,IAApBP,EAAK1C,aAGW,MAAhB0C,EAAKnU,OAIT+K,EAAK8I,YAAYM,EAAKnN,cAHpBmN,EAAKK,YAKTL,EAAKxN,KAAK,OAIZpF,EAAK8E,UAAUwN,YAAc,SAASnY,GACpCL,KAAKK,GAAKA,EACVL,KAAK0V,OAAO4D,MAAMtZ,KAAKK,GAAIL,KAAKmO,QAAQoJ,QAI1CrR,EAAK8E,UAAU0N,eAAiB,SAASjG,GACvC,IAGIgC,EAHA9S,EAAO8Q,EAAQ9Q,KACf+Q,EAAUD,EAAQC,QAClBzE,EAAOwE,EAAQhR,IAGnB,OAAQE,GACN,IAAK,OACH3B,KAAK+P,KAAK,OAAQ/P,KAAKK,IACvBL,KAAK8L,MAAO,EACZ,MACF,IAAK,QACH9L,KAAK2Y,OAAO,eAAgBjG,EAAQvC,KACpC,MACF,IAAK,WACHnQ,KAAK2Y,OAAO,iBAAkB,OAAS3Y,KAAKK,GAAK,cACjD,MACF,IAAK,cACHL,KAAK2Y,OAAO,cAAe,YAAc3Y,KAAKmO,QAAQlH,IAAM,gBAC5D,MAGF,IAAK,QACH2G,EAAK/D,IAAI,8BAA+BoE,GACxCjO,KAAKuZ,aAAatL,GAClB,MAEF,IAAK,SACHjO,KAAKyW,UAAU,mBAAoB,6BAA+BxI,GAClE,MACF,IAAK,QACH,IAAIM,EAAemE,EAAQnE,aAG3B,GAFAkG,EAAazU,KAAKkW,cAAcjI,EAAMM,GAGpCX,EAAKmF,KAAK,6CAA8CxE,OAEnD,CAEL,GAAqB,UAAjBmE,EAAQ/Q,KACV8S,EAAa,IAAIpB,EAAgBpF,EAAMjO,MACrCuO,aAAcA,EACdQ,SAAU2D,EACVhE,SAAUgE,EAAQhE,WAEpB1O,KAAKwZ,eAAevL,EAAMwG,GAC1BzU,KAAK+P,KAAK,OAAQ0E,OACb,IAAqB,SAAjB/B,EAAQ/Q,KAajB,YADAiM,EAAKmF,KAAK,sCAAuCL,EAAQ/Q,MAXzD8S,EAAa,IAAIzG,EAAeC,EAAMjO,MACpCuO,aAAcA,EACdQ,SAAU2D,EACVhE,SAAUgE,EAAQhE,SAClB9M,MAAO8Q,EAAQ9Q,MACfyM,cAAeqE,EAAQrE,cACvBC,SAAUoE,EAAQpE,WAEpBtO,KAAKwZ,eAAevL,EAAMwG,GAC1BzU,KAAK+P,KAAK,aAAc0E,GAO1B,IADA,IAAIN,EAAWnU,KAAKoU,aAAa7F,GACxBxI,EAAI,EAAGwM,EAAK4B,EAASpQ,OAAQgC,EAAIwM,EAAIxM,GAAK,EACjD0O,EAAWjC,cAAc2B,EAASpO,IAGtC,MACF,QACE,IAAK2M,EAEH,YADA9E,EAAKmF,KAAK,yCAA2C9E,EAAO,YAActM,GAI5E,IAAItB,EAAKqS,EAAQnE,cACjBkG,EAAazU,KAAKkW,cAAcjI,EAAM5N,KAEpBoU,EAAWC,GAE3BD,EAAWjC,cAAcC,GAChBpS,EAETL,KAAKyZ,cAAcpZ,EAAIoS,GAEvB7E,EAAKmF,KAAK,wCAAyCN,KAO3DvM,EAAK8E,UAAUyO,cAAgB,SAASlL,EAAckE,GAC/CzS,KAAKsY,cAAc/J,KACtBvO,KAAKsY,cAAc/J,OAErBvO,KAAKsY,cAAc/J,GAAcpN,KAAKsR,IAIxCvM,EAAK8E,UAAUoJ,aAAe,SAAS7F,GACrC,IAAI4F,EAAWnU,KAAKsY,cAAc/J,GAClC,OAAI4F,UACKnU,KAAKsY,cAAc/J,GACnB4F,OAUXjO,EAAK8E,UAAU0O,QAAU,SAASzL,EAAME,GACtC,GAAInO,KAAKoY,aAMP,OALAxK,EAAKmF,KAAK,sPAIV/S,KAAKyW,UAAU,eAAgB,+DAGjC,IAAIhC,EAAa,IAAIzG,EAAeC,EAAMjO,KAAMmO,GAEhD,OADAnO,KAAKwZ,eAAevL,EAAMwG,GACnBA,GAOTvO,EAAK8E,UAAUkC,KAAO,SAASe,EAAMiG,EAAQ/F,GAC3C,GAAInO,KAAKoY,aAKP,OAJAxK,EAAKmF,KAAK,0KAGV/S,KAAKyW,UAAU,eAAgB,+DAGjC,GAAKvC,EAAL,EAIA/F,EAAUA,OACF4F,QAAUG,EAClB,IAAIhH,EAAO,IAAImG,EAAgBpF,EAAMjO,KAAMmO,GAE3C,OADAnO,KAAKwZ,eAAevL,EAAMf,GACnBA,EAPLU,EAAKoH,MAAM,kFAWf9O,EAAK8E,UAAUwO,eAAiB,SAASvL,EAAMwG,GACxCzU,KAAKqY,YAAYpK,KACpBjO,KAAKqY,YAAYpK,OAEnBjO,KAAKqY,YAAYpK,GAAM9M,KAAKsT,IAI9BvO,EAAK8E,UAAUkL,cAAgB,SAASjI,EAAM5N,GAC5C,IAAIgY,EAAcrY,KAAKqY,YAAYpK,GACnC,IAAKoK,EACH,OAAO,KAET,IAAK,IAAItS,EAAI,EAAGwM,EAAK8F,EAAYtU,OAAQgC,EAAIwM,EAAIxM,IAC/C,GAAIsS,EAAYtS,GAAG1F,KAAOA,EACxB,OAAOgY,EAAYtS,GAGvB,OAAO,MAGTG,EAAK8E,UAAUkN,cAAgB,SAASvW,EAAM8Q,GAC5C,IAAI/C,EAAO1P,KACX4N,EAAK+L,eAAe,WAClBjK,EAAKiJ,OAAOhX,EAAM8Q,MAStBvM,EAAK8E,UAAU2N,OAAS,SAAShX,EAAM8Q,GACrC7E,EAAKoH,MAAM,aACNhV,KAAK4Z,cAGR5Z,KAAK4Y,aAFL5Y,KAAK6Z,UAIP7Z,KAAKyW,UAAU9U,EAAM8Q,IAIvBvM,EAAK8E,UAAUyL,UAAY,SAAS9U,EAAMV,GACxC2M,EAAKoH,MAAM,SAAU/T,GACF,iBAARA,IACTA,EAAM,IAAIyE,MAAMzE,IAElBA,EAAIU,KAAOA,EACX3B,KAAK+P,KAAK,QAAS9O,IASrBiF,EAAK8E,UAAU6O,QAAU,WAClB7Z,KAAKmY,YACRnY,KAAK8Z,WACL9Z,KAAK4Y,aACL5Y,KAAKmY,WAAY,IAMrBjS,EAAK8E,UAAU8O,SAAW,WACxB,GAAI9Z,KAAKqY,YAEP,IADA,IAAI0B,EAAQC,IAAYha,KAAKqY,aACpBtS,EAAI,EAAGwM,EAAKwH,EAAMhW,OAAQgC,EAAIwM,EAAIxM,IACzC/F,KAAKuZ,aAAaQ,EAAMhU,IAG5B/F,KAAK+P,KAAK,UAIZ7J,EAAK8E,UAAUuO,aAAe,SAAStL,GAErC,IADA,IAAIoK,EAAcrY,KAAKqY,YAAYpK,GAC1BgM,EAAI,EAAGC,EAAK7B,EAAYtU,OAAQkW,EAAIC,EAAID,GAAK,EACpD5B,EAAY4B,GAAG3J,SAUnBpK,EAAK8E,UAAU4N,WAAa,WAC1B,IAAIlJ,EAAO1P,KACX4N,EAAK+L,eAAe,WACbjK,EAAK0I,eACR1I,EAAK0I,cAAe,EACpB1I,EAAK5D,MAAO,EACR4D,EAAKgG,QACPhG,EAAKgG,OAAOpF,QAEdZ,EAAKK,KAAK,eAAgBL,EAAKrP,IAC/BqP,EAAKkK,cAAgBlK,EAAKrP,GAC1BqP,EAAKrP,GAAK,SAMhB6F,EAAK8E,UAAUmP,UAAY,WACzB,GAAIna,KAAKoY,eAAiBpY,KAAKmY,UAC7BvK,EAAK/D,IAAI,6CAA+C7J,KAAK4Z,eAC7D5Z,KAAKoY,cAAe,EACpBpY,KAAKuY,8BACLvY,KAAKwY,YAAYxY,KAAK4Z,mBACjB,IAAI5Z,KAAKmY,UACd,MAAM,IAAIzS,MAAM,4EACX,GAAK1F,KAAKoY,cAAiBpY,KAAK8L,KAIrC,MAAM,IAAIpG,MAAM,QAAU1F,KAAKK,GAAK,qEAFpCuN,EAAKoH,MAAM,oEAYf9O,EAAK8E,UAAUoP,aAAe,SAASvB,GACrCA,EAAKA,GAAM,aACX,IAAInJ,EAAO1P,KACP8Y,EAAO,IAAIrN,eAEXtD,GADWnI,KAAKmO,QAAQpD,OAAS,WAAa,WAC7B/K,KAAKmO,QAAQtD,KAAO,IAAM7K,KAAKmO,QAAQrD,KAC1D9K,KAAKmO,QAAQrE,KAAO9J,KAAKmO,QAAQlH,IAAM,SAEzCkB,GADkB,QAAS,IAAI4Q,MAAOC,UAAiBC,KAAKC,SAI5DJ,EAAKhN,KAAK,MAAO3D,GAAK,GACtB2Q,EAAKK,QAAU,SAAS1T,GACtBiK,EAAKiJ,OAAO,eAAgB,wCAC5BE,OAEFC,EAAKO,mBAAqB,WACxB,GAAwB,IAApBP,EAAK1C,WAAT,CAGA,GAAoB,MAAhB0C,EAAKnU,OAAgB,CACvB,IAAI0V,EAAe,GASnB,MAPEA,EADE3K,EAAKvB,QAAQtD,OAAS+C,EAAKyJ,WACd,sHAGA,2FAGjBwB,MACM,IAAInT,MAAM,+DAAkE2U,GACzD,MAAhBvB,EAAKnU,OACdkU,MAEAA,EAAGjN,KAAKC,MAAMiN,EAAKnN,iBAGvBmN,EAAKxN,KAAK,OAGZ7L,EAAOC,QAAUwG,IAEdsN,mBAAmB,EAAEC,oBAAoB,EAAEE,WAAW,EAAEV,SAAS,EAAEC,cAAgB,IAAIoH,GAAG,SAAStN,EAAQvN,EAAOC,GACrH,IAAIkO,EAAOZ,EAAQ,UACfa,EAAeb,EAAQ,iBAM3B,SAASoG,EAAOrI,EAAQF,EAAMC,EAAMhB,EAAM7C,GACxC,KAAMjH,gBAAgBoT,GAAS,OAAO,IAAIA,EAAOrI,EAAQF,EAAMC,EAAMhB,EAAM7C,GAE3E4G,EAAaX,KAAKlN,MAGlBA,KAAKoY,cAAe,EACpBpY,KAAKua,UAEL,IAAIC,EAAezP,EAAS,WAAa,UACrC0P,EAAa1P,EAAS,SAAW,QACrC/K,KAAK0a,SAAWF,EAAe3P,EAAO,IAAMC,EAAOhB,EAAO7C,EAC1DjH,KAAK2a,OAASF,EAAa5P,EAAO,IAAMC,EAAOhB,EAAO,cAAgB7C,EAGxE2G,EAAKwB,SAASgE,EAAQvF,GAItBuF,EAAOpI,UAAUsO,MAAQ,SAASjZ,EAAIkX,GACpCvX,KAAKK,GAAKA,EAEVL,KAAK0a,UAAY,IAAMra,EAAK,IAAMkX,EAClCvX,KAAK2a,QAAU,OAASta,EAAK,UAAYkX,EAEzCvX,KAAK4a,kBACL5a,KAAK6a,mBAKPzH,EAAOpI,UAAU6P,gBAAkB,SAASxa,GAC1C,IAAIqP,EAAO1P,KAEPA,KAAK8a,UAIT9a,KAAK8a,QAAU,IAAIC,UAAU/a,KAAK2a,QAElC3a,KAAK8a,QAAQ5K,UAAY,SAAS8K,GAChC,IACE,IAAI3X,EAAOuI,KAAKC,MAAMmP,EAAM3X,MAC5B,MAAMoC,GAEN,YADAmI,EAAK/D,IAAI,yBAA0BmR,EAAM3X,MAG3CqM,EAAKK,KAAK,UAAW1M,IAGvBrD,KAAK8a,QAAQzK,QAAU,SAAS2K,GAC9BpN,EAAK/D,IAAI,kBACT6F,EAAK0I,cAAe,EACpB1I,EAAKK,KAAK,iBAKZ/P,KAAK8a,QAAQhL,OAAS,WAChBJ,EAAKuL,WACPC,aAAaxL,EAAKuL,UAClB/I,WAAW,WACTxC,EAAKyL,MAAMC,QACX1L,EAAKyL,MAAQ,MACZ,MAELzL,EAAK2L,sBACLzN,EAAK/D,IAAI,kBAKbuJ,EAAOpI,UAAU4P,gBAAkB,SAASjO,GAC1C,IACE,IAAI+C,EAAO1P,KACXA,KAAKmb,MAAQ,IAAI1P,eACjBzL,KAAKmb,MAAMG,OAAS,EACpBtb,KAAKmb,MAAMI,aAAe5O,GAAK,EAC/B3M,KAAKmb,MAAMrP,KAAK,OAAQ9L,KAAK0a,SAAW,SAAW1a,KAAKmb,MAAMI,cAAc,GAC5Evb,KAAKmb,MAAMhC,QAAU,WAGnB+B,aAAaxL,EAAKuL,UAClBvL,EAAKK,KAAK,iBAEZ/P,KAAKmb,MAAM9B,mBAAqB,WACP,GAAnBrZ,KAAKoW,YAAmBpW,KAAKwb,KAC/Bxb,KAAKwb,IAAIJ,eACFpb,KAAKwb,KACHxb,KAAKoW,WAAa,GAAqB,MAAhBpW,KAAK2E,QAAkB3E,KAAK2L,cAC5D+D,EAAK+L,cAAczb,OAGvBA,KAAKmb,MAAM7P,KAAK,MAChBtL,KAAK0b,kBACL,MAAMjW,GACNmI,EAAK/D,IAAI,4DAMbuJ,EAAOpI,UAAUyQ,cAAgB,SAAS3C,GAExC,IAAI3E,EAAW2E,EAAKnN,aAAaS,MAAM,MAGvC,GAAI0M,EAAKnK,QACP,KAAOmK,EAAKnK,QAAQ5K,OAAS,GAAG,CAC9B,IAAI4X,EAAQ7C,EAAKnK,QAAQyD,QACrBwJ,EAAkBzH,EAASwH,GAC/B,IACEC,EAAkBhQ,KAAKC,MAAM+P,GAC7B,MAAMnW,GACNqT,EAAKnK,QAAQyD,MAAMuJ,GACnB,MAEF3b,KAAK+P,KAAK,UAAW6L,GAIzB,IAAInJ,EAAU0B,EAAS2E,EAAKwC,QAC5B,GAAI7I,EAKF,GAJAqG,EAAKwC,QAAU,EAIXxC,EAAKwC,SAAWnH,EAASpQ,OACtB+U,EAAKnK,UACRmK,EAAKnK,YAEPmK,EAAKnK,QAAQxN,KAAK2X,EAAKwC,OAAS,OAC3B,CACL,IACE7I,EAAU7G,KAAKC,MAAM4G,GACrB,MAAMhN,GAEN,YADAmI,EAAK/D,IAAI,yBAA0B4I,GAGrCzS,KAAK+P,KAAK,UAAW0C,KAK3BW,EAAOpI,UAAU0Q,gBAAkB,WACjC,IAAIhM,EAAO1P,KACXA,KAAKib,SAAW/I,WAAW,WACzB,IAAIsJ,EAAM9L,EAAKyL,MACVzL,EAAKmM,UAIRL,EAAIJ,SAHJ1L,EAAKkL,gBAAgBY,EAAID,aAAe,GACxC7L,EAAKyL,MAAMK,IAAMA,IAIlB,OAILpI,EAAOpI,UAAU6Q,QAAU,WACzB,OAAO7b,KAAK8a,SAAsC,GAA3B9a,KAAK8a,QAAQ1E,YAItChD,EAAOpI,UAAUqQ,oBAAsB,WACrC,IAAK,IAAItV,EAAI,EAAGwM,EAAKvS,KAAKua,OAAOxW,OAAQgC,EAAIwM,EAAIxM,GAAK,EACpD/F,KAAKsL,KAAKtL,KAAKua,OAAOxU,KAK1BqN,EAAOpI,UAAUM,KAAO,SAASjI,GAC/B,IAAIrD,KAAKoY,aAMT,GAAKpY,KAAKK,GAKV,GAAKgD,EAAK1B,KAAV,CAKA,IAAI8Q,EAAUlB,IAAelO,GAC7B,GAAIrD,KAAK6b,UACP7b,KAAK8a,QAAQxP,KAAKmH,OACb,CACL,IAAIqG,EAAO,IAAIrN,eACXtD,EAAMnI,KAAK0a,SAAW,IAAMrX,EAAK1B,KAAKma,cAC1ChD,EAAKhN,KAAK,OAAQ3D,GAAK,GACvB2Q,EAAK/M,iBAAiB,eAAgB,oBACtC+M,EAAKxN,KAAKmH,SAZVzS,KAAK+P,KAAK,QAAS,wBALnB/P,KAAKua,OAAOpZ,KAAKkC,IAqBrB+P,EAAOpI,UAAUsF,MAAQ,YAClBtQ,KAAKoY,cAAgBpY,KAAK6b,YAC7B7b,KAAK8a,QAAQxK,QACbtQ,KAAKoY,cAAe,IAIxB3Y,EAAOC,QAAU0T,IAEdH,SAAS,EAAEC,cAAgB,IAAI6I,GAAG,SAAS/O,EAAQvN,EAAOC,GAC7D,IAAI8X,GAAiBwE,aAAiB7T,IAAO,kCACzC8T,EAAY,EAEZ3I,EAAatG,EAAQ,iBACrBM,EAAoBN,EAAQ,aAAaM,kBAEzCM,GACFkI,KAAM,aAENuB,WAAY,eACZC,WAAY,IAGZ5F,iBAAkBwK,OAAU,GAC5BtK,WAAY,MAGZuK,SAAU,EACVrE,YAAa,SAASsE,GACpB,IAAIC,EAAaC,SAASF,EAAO,IAC5BG,MAAMD,SAASF,EAAO,KAIzBxO,EAAKuO,SAAWC,EAAQ,EAAI,EAH5BxO,EAAKuO,SAAWE,EAKlBzO,EAAK/D,IAAM+D,EAAKmF,KAAOnF,EAAKoH,MAAQpH,EAAKkI,KACrClI,EAAKuO,SAAW,IAClBvO,EAAKoH,MAAQpH,EAAK4O,WAAW,UAE3B5O,EAAKuO,SAAW,IAClBvO,EAAKmF,KAAOnF,EAAK4O,WAAW,YAE1B5O,EAAKuO,SAAW,IAClBvO,EAAK/D,IAAM+D,EAAK6O,SAGpB5E,eAAgB,SAAS6E,GACnBA,EAAGlM,cAAgBmM,SACrB/O,EAAKmF,KAAK,iFAEVnF,EAAK6O,OAASC,GAIlBF,WAAY,SAASI,GACnB,OAAO,WACL,IAAIC,EAAOC,MAAM9R,UAAU+R,MAAM7P,KAAK8P,WACtCH,EAAKI,QAAQL,GACbhP,EAAK6O,OAAOS,MAAMtP,EAAMiP,KAG5BJ,OAAQ,WACN,IAAIxb,GAAM,EACN4b,EAAOC,MAAM9R,UAAU+R,MAAM7P,KAAK8P,WACtCH,EAAKI,QAAQ,YACb,IAAK,IAAIlX,EAAI,EAAGkG,EAAI4Q,EAAK9Y,OAAQgC,EAAIkG,EAAGlG,IAClC8W,EAAK9W,aAAcL,QACrBmX,EAAK9W,GAAK,IAAM8W,EAAK9W,GAAGxF,KAAO,KAAOsc,EAAK9W,GAAG0M,QAC9CxR,GAAM,GAGVA,EAAM2I,QAAQoL,MAAMkI,MAAMtT,QAASiT,GAAQjT,QAAQC,IAAIqT,MAAMtT,QAASiT,IAKxErF,cAAeA,EAIfvI,QACM3J,OAAOiI,qBACF,UACEjI,OAAOkI,wBACT,SACElI,OAAOgI,kBACT,YAEA,cAMXqC,SAAW,WACT,QAAiC,IAAtBrC,EACT,SAGF,IAOIoH,EAAIpF,EAPJjM,GAAO,EACP0U,GAAa,EAEbjG,GAAa,EACblC,GAAO,EACPkF,IAAwBxP,OAAOkI,wBAGnC,IACEkH,EAAK,IAAIpH,EAAkBkK,GAAgBrC,WAAYE,iBAAiB,MACxE,MAAO5P,GACPpC,GAAO,EACP0U,GAAa,EAGf,GAAI1U,EACF,IACEiM,EAAKoF,EAAGG,kBAAkB,eAC1B,MAAOpP,GACPpC,GAAO,EAIX,GAAIA,EAAM,CAER,IACEiM,EAAGO,WAAa,OAChBiC,GAAa,EACb,MAAOrM,IAMT,IAAI0X,EAAa,IAAI7P,EAAkBkK,MACvC,IAEE5H,EADiBuN,EAAWtI,kBAAkB,0BAC5BvG,SAClB,MAAO7I,IAET0X,EAAW7M,QAUb,GANIyH,IACFA,IAAerD,EAAGV,YAKfc,GAAuBzR,EAAM,CAEhC,IAAI+Z,EAAgB,IAAI9P,EAAkBkK,GAAgBrC,WAAYE,iBAAiB,MACvF+H,EAActI,oBAAsB,WAClCA,GAAsB,EAElBlH,GAAQA,EAAK+B,WACf/B,EAAK+B,SAASmF,qBAAsB,IAGxCsI,EAAcvI,kBAAkB,0BAEhC3C,WAAW,WACTkL,EAAc9M,SACb,KAOL,OAJIoE,GACFA,EAAGpE,SAIHyH,WAAYA,EACZ1U,KAAMA,EACNyO,WAAYA,EACZuL,OAAQzN,EACRtB,SAAUsB,EACVA,KAAMA,EACNkF,oBAAqBA,GAnFd,GAyFXkD,WAAY,SAAS3X,GAEnB,OAAQA,GAAM,yCAAyCid,KAAKjd,IAG9D4X,YAAa,SAAShR,GAEpB,OAAQA,GAAO,yCAAyCqW,KAAKrW,IAI/DgJ,OAAO,EAEPb,SAAU,SAASmO,EAAMC,GACvBD,EAAKE,OAASD,EACdD,EAAKvS,UAAY0S,IAAcF,EAAUxS,WACvCwF,aACEzO,MAAOwb,EACPI,YAAY,EACZC,UAAU,EACVC,cAAc,MAIpBzP,OAAQ,SAAS0P,EAAMC,GACrB,IAAI,IAAI9W,KAAO8W,EACVA,EAAOC,eAAe/W,KACvB6W,EAAK7W,GAAO8W,EAAO9W,IAGvB,OAAO6W,GAETrM,KAAM6B,EAAW7B,KACjBb,OAAQ0C,EAAW1C,OAEnB/G,IAAK,WACH,GAAI+D,EAAKqC,MAAO,CACd,IAAIhP,GAAM,EACN4b,EAAOC,MAAM9R,UAAU+R,MAAM7P,KAAK8P,WACtCH,EAAKI,QAAQ,YACb,IAAK,IAAIlX,EAAI,EAAGkG,EAAI4Q,EAAK9Y,OAAQgC,EAAIkG,EAAGlG,IAClC8W,EAAK9W,aAAcL,QACrBmX,EAAK9W,GAAK,IAAM8W,EAAK9W,GAAGxF,KAAO,KAAOsc,EAAK9W,GAAG0M,QAC9CxR,GAAM,GAGVA,EAAM2I,QAAQoL,MAAMkI,MAAMtT,QAASiT,GAAQjT,QAAQC,IAAIqT,MAAMtT,QAASiT,KAI1ElD,eAAiB,SAASsE,GACxB,IAAIC,KACAC,EAAc,uBAUlB,SAAS3L,EAAcwI,GACjBA,EAAM+C,QAAUE,GAAUjD,EAAM3X,MAAQ8a,IACtCnD,EAAMoD,iBACRpD,EAAMoD,kBAEJF,EAASna,QACXma,EAAS9L,OAAT8L,IASN,OALID,EAAOI,iBACTJ,EAAOI,iBAAiB,UAAW7L,GAAe,GACzCyL,EAAOK,aAChBL,EAAOK,YAAY,YAAa9L,GAlBlC,SAAmCkK,GACjCwB,EAAS/c,KAAKub,GACduB,EAAOM,YAAYJ,EAAa,MATnB,CA4Bf7Y,QAKFgN,MAAO,SAASkM,GAMd,IALA,IAAIC,KACA9M,EAAO6M,EAAG7M,KACV2H,EAAQ,EACVqC,EAAQ,EACNxK,EAAQ8H,KAAKyF,KAAK/M,EAAO/D,EAAKgE,YAC3B0H,EAAQ3H,GAAM,CACnB,IAAIgN,EAAM1F,KAAK2F,IAAIjN,EAAM2H,EAAQ1L,EAAKgE,YAClCiN,EAAIL,EAAGzB,MAAMzD,EAAOqF,GAEpBrM,GACFtB,WAAYiL,EACZtP,EAAGgP,EACHtY,KAAMwb,EACN1N,MAAOA,GAGTsN,EAAOtd,KAAKmR,GAEZgH,EAAQqF,EACRhD,GAAS,EAGX,OADAM,GAAa,EACNwC,GAGT/N,kBAAmB,SAASc,EAAMqH,GAChC,IAAIiG,EAAK,IAAIC,WACbD,EAAGpT,OAAS,SAAS+J,GACnBoD,EAAGpD,EAAIuJ,OAAOC,SAEhBH,EAAGI,kBAAkB1N,IAEvBO,mBAAoB,SAASP,EAAMqH,GACjC,IAAIiG,EAAK,IAAIC,WACbD,EAAGpT,OAAS,SAAS+J,GACnBoD,EAAGpD,EAAIuJ,OAAOC,SAEhBH,EAAGK,mBAAmB3N,IAExBT,0BAA2B,SAASsM,GAElC,IADA,IAAI+B,EAAY,IAAIC,WAAWhC,EAAOtZ,QAC7BgC,EAAI,EAAGA,EAAIsX,EAAOtZ,OAAQgC,IACjCqZ,EAAUrZ,GAA4B,IAAvBsX,EAAOiC,WAAWvZ,GAEnC,OAAOqZ,EAAUG,QAEnB9Q,YAAa,WACX,OAAOwK,KAAKC,SAAS9B,SAAS,IAAIoI,OAAO,IAI3C7H,SAAU,WACR,MAA6B,WAAtBF,SAASgI,WAIpBhgB,EAAOC,QAAUkO,IAEd2F,YAAY,EAAEK,gBAAgB,KAAK8L,GAAG,SAAS1S,EAAQvN,EAAOC,GAWjE,SAASigB,EAAGjD,EAAIkD,EAASC,GACvB7f,KAAK0c,GAAKA,EACV1c,KAAK4f,QAAUA,EACf5f,KAAK6f,KAAOA,IAAQ,EAUtB,SAAShS,KAQTA,EAAa7C,UAAU8U,aAAU3I,EASjCtJ,EAAa7C,UAAU+U,UAAY,SAAmB/E,GACpD,IAAKhb,KAAK8f,UAAY9f,KAAK8f,QAAQ9E,GAAQ,SAE3C,IAAK,IAAIjV,EAAI,EAAGkG,EAAIjM,KAAK8f,QAAQ9E,GAAOjX,OAAQic,KAASja,EAAIkG,EAAGlG,IAC9Dia,EAAG7e,KAAKnB,KAAK8f,QAAQ9E,GAAOjV,GAAG2W,IAGjC,OAAOsD,GAUTnS,EAAa7C,UAAU+E,KAAO,SAAciL,EAAOiF,EAAIC,EAAIC,EAAIC,EAAIC,GACjE,IAAKrgB,KAAK8f,UAAY9f,KAAK8f,QAAQ9E,GAAQ,OAAO,EAElD,IAIIsF,EACAva,EAAGkU,EALH8F,EAAY/f,KAAK8f,QAAQ9E,GACzBjX,EAASgc,EAAUhc,OACnBwc,EAAMvD,UAAUjZ,OAChBic,EAAKD,EAAU,GAInB,GAAI,IAAMhc,EAAQ,CAGhB,OAFIic,EAAGH,MAAM7f,KAAKwgB,eAAexF,EAAOgF,EAAGtD,IAAI,GAEvC6D,GACN,KAAK,EAAG,OAAOP,EAAGtD,GAAGxP,KAAK8S,EAAGJ,UAAU,EACvC,KAAK,EAAG,OAAOI,EAAGtD,GAAGxP,KAAK8S,EAAGJ,QAASK,IAAK,EAC3C,KAAK,EAAG,OAAOD,EAAGtD,GAAGxP,KAAK8S,EAAGJ,QAASK,EAAIC,IAAK,EAC/C,KAAK,EAAG,OAAOF,EAAGtD,GAAGxP,KAAK8S,EAAGJ,QAASK,EAAIC,EAAIC,IAAK,EACnD,KAAK,EAAG,OAAOH,EAAGtD,GAAGxP,KAAK8S,EAAGJ,QAASK,EAAIC,EAAIC,EAAIC,IAAK,EACvD,KAAK,EAAG,OAAOJ,EAAGtD,GAAGxP,KAAK8S,EAAGJ,QAASK,EAAIC,EAAIC,EAAIC,EAAIC,IAAK,EAG7D,IAAKta,EAAI,EAAGua,EAAO,IAAIxD,MAAMyD,EAAK,GAAIxa,EAAIwa,EAAKxa,IAC7Cua,EAAKva,EAAI,GAAKiX,UAAUjX,GAG1Bia,EAAGtD,GAAGQ,MAAM8C,EAAGJ,QAASU,QAExB,IAAKva,EAAI,EAAGA,EAAIhC,EAAQgC,IAGtB,OAFIga,EAAUha,GAAG8Z,MAAM7f,KAAKwgB,eAAexF,EAAO+E,EAAUha,GAAG2W,IAAI,GAE3D6D,GACN,KAAK,EAAGR,EAAUha,GAAG2W,GAAGxP,KAAK6S,EAAUha,GAAG6Z,SAAU,MACpD,KAAK,EAAGG,EAAUha,GAAG2W,GAAGxP,KAAK6S,EAAUha,GAAG6Z,QAASK,GAAK,MACxD,KAAK,EAAGF,EAAUha,GAAG2W,GAAGxP,KAAK6S,EAAUha,GAAG6Z,QAASK,EAAIC,GAAK,MAC5D,QACE,IAAKI,EAAM,IAAKrG,EAAI,EAAGqG,EAAO,IAAIxD,MAAMyD,EAAK,GAAItG,EAAIsG,EAAKtG,IACxDqG,EAAKrG,EAAI,GAAK+C,UAAU/C,GAG1B8F,EAAUha,GAAG2W,GAAGQ,MAAM6C,EAAUha,GAAG6Z,QAASU,GAKpD,OAAO,GAWTzS,EAAa7C,UAAU3I,GAAK,SAAY2Y,EAAO0B,EAAIkD,GAKjD,OAJK5f,KAAK8f,UAAS9f,KAAK8f,YACnB9f,KAAK8f,QAAQ9E,KAAQhb,KAAK8f,QAAQ9E,OACvChb,KAAK8f,QAAQ9E,GAAO7Z,KAAK,IAAIwe,EAAIjD,EAAIkD,GAAW5f,OAEzCA,MAWT6N,EAAa7C,UAAU6U,KAAO,SAAc7E,EAAO0B,EAAIkD,GAKrD,OAJK5f,KAAK8f,UAAS9f,KAAK8f,YACnB9f,KAAK8f,QAAQ9E,KAAQhb,KAAK8f,QAAQ9E,OACvChb,KAAK8f,QAAQ9E,GAAO7Z,KAAK,IAAIwe,EAAGjD,EAAIkD,GAAW5f,MAAM,IAE9CA,MAWT6N,EAAa7C,UAAUwV,eAAiB,SAAwBxF,EAAO0B,EAAImD,GACzE,IAAK7f,KAAK8f,UAAY9f,KAAK8f,QAAQ9E,GAAQ,OAAOhb,KAElD,IAAI+f,EAAY/f,KAAK8f,QAAQ9E,GACzByF,KAEJ,GAAI/D,EAAI,IAAK,IAAI3W,EAAI,EAAGhC,EAASgc,EAAUhc,OAAQgC,EAAIhC,EAAQgC,IACzDga,EAAUha,GAAG2W,KAAOA,GAAMqD,EAAUha,GAAG8Z,OAASA,GAClDY,EAAOtf,KAAK4e,EAAUha,IAU1B,OAHI0a,EAAO1c,OAAQ/D,KAAK8f,QAAQ9E,GAASyF,EACpCzgB,KAAK8f,QAAQ9E,GAAS,KAEpBhb,MAST6N,EAAa7C,UAAU0V,mBAAqB,SAA4B1F,GACtE,OAAKhb,KAAK8f,SAEN9E,EAAOhb,KAAK8f,QAAQ9E,GAAS,KAC5Bhb,KAAK8f,WAEH9f,MALmBA,MAW5B6N,EAAa7C,UAAU2V,IAAM9S,EAAa7C,UAAUwV,eACpD3S,EAAa7C,UAAU4V,YAAc/S,EAAa7C,UAAU3I,GAK5DwL,EAAa7C,UAAU6V,gBAAkB,WACvC,OAAO7gB,MAMT6N,EAAaA,aAAeA,EAC5BA,EAAaiT,cAAgBjT,EAC7BA,EAAakT,cAAgBlT,EAEzB,qBAAoBpO,EAApB,YAAAuhB,IAAoBvhB,KAAUA,EAAOC,UACvCD,EAAOC,QAAUmO,QAGboT,IAAI,SAASjU,EAAQvN,EAAOC,GAClC,IAAIwhB,EAAgBlU,EAAQ,mBAAmBkU,cAC3CC,EAAiBnU,EAAQ,mBAAmBmU,eAE5C7N,GACF1C,OAAQ,SAASvN,GAEf,OADe,IAAI+d,EAAS/d,GACZuN,UAElBa,KAAM,SAASpO,GACb,IAAIge,EAAS,IAAIC,EAGjB,OAFAD,EAAO5P,KAAKpO,GACCge,EAAOE,cAOxB,SAASH,EAAU/d,GAEjBrD,KAAK2b,MAAQ,EACb3b,KAAKwhB,WAAane,EAClBrD,KAAKyhB,SAAW,IAAIpC,WAAWrf,KAAKwhB,YACpCxhB,KAAK+D,OAAS/D,KAAKwhB,WAAWE,WAwOhC,SAASJ,IACPthB,KAAK2hB,cAAgB,IAAIT,EAqP3B,SAASU,EAAaC,GACpB,IAAIlc,EAAOkc,EAAEvC,WAAW,GAExB,OAAG3Z,GAAQ,KAAc,KACtBA,GAAQ,MAAe,MACvBA,GAAQ,QAAiB,OACzBA,GAAQ,SAAkB,QACtB,SA5eTlG,EAAOC,QAAU4T,EAUjB8N,EAASpW,UAAU4F,OAAS,WAC1B,IAQIe,EARAhQ,EAAO3B,KAAK8hB,eAChB,GAAIngB,EAAO,IAET,OADsBA,EAEjB,IAAY,IAAPA,GAAe,GAEzB,OAD8B,IAAPA,GAAe,GAIxC,IAAKgQ,EAAc,IAAPhQ,IAAgB,GAC1B,OAAO3B,KAAK+hB,WAAWpQ,GAClB,IAAKA,EAAc,IAAPhQ,IAAgB,GACjC,OAAO3B,KAAKgiB,cAAcrQ,GACrB,IAAKA,EAAc,IAAPhQ,IAAgB,GACjC,OAAO3B,KAAKiiB,aAAatQ,GACpB,IAAKA,EAAc,IAAPhQ,IAAgB,GACjC,OAAO3B,KAAKkiB,WAAWvQ,GAEzB,OAAOhQ,GACL,KAAK,IACH,OAAO,KACT,KAAK,IACH,OACF,KAAK,IACH,OAAO,EACT,KAAK,IACH,OAAO,EACT,KAAK,IACH,OAAO3B,KAAKmiB,eACd,KAAK,IACH,OAAOniB,KAAKoiB,gBACd,KAAK,IACH,OAAOpiB,KAAK8hB,eACd,KAAK,IACH,OAAO9hB,KAAKqiB,gBACd,KAAK,IACH,OAAOriB,KAAKsiB,gBACd,KAAK,IACH,OAAOtiB,KAAKuiB,gBACd,KAAK,IACH,OAAOviB,KAAKwiB,cACd,KAAK,IACH,OAAOxiB,KAAKyiB,eACd,KAAK,IACH,OAAOziB,KAAK0iB,eACd,KAAK,IACH,OAAO1iB,KAAK2iB,eACd,KAAK,IAEL,KAAK,IAEL,KAAK,IAEL,KAAK,IACH,OACF,KAAK,IAEH,OADAhR,EAAO3R,KAAKqiB,gBACLriB,KAAKgiB,cAAcrQ,GAC5B,KAAK,IAEH,OADAA,EAAO3R,KAAKsiB,gBACLtiB,KAAKgiB,cAAcrQ,GAC5B,KAAK,IAEH,OADAA,EAAO3R,KAAKqiB,gBACLriB,KAAK+hB,WAAWpQ,GACzB,KAAK,IAEH,OADAA,EAAO3R,KAAKsiB,gBACLtiB,KAAK+hB,WAAWpQ,GACzB,KAAK,IAEH,OADAA,EAAO3R,KAAKqiB,gBACLriB,KAAKiiB,aAAatQ,GAC3B,KAAK,IAEH,OADAA,EAAO3R,KAAKsiB,gBACLtiB,KAAKiiB,aAAatQ,GAC3B,KAAK,IAEH,OADAA,EAAO3R,KAAKqiB,gBACLriB,KAAKkiB,WAAWvQ,GACzB,KAAK,IAEH,OADAA,EAAO3R,KAAKsiB,gBACLtiB,KAAKkiB,WAAWvQ,KAI7ByP,EAASpW,UAAU8W,aAAe,WAChC,IAAIc,EAAmC,IAA5B5iB,KAAKyhB,SAASzhB,KAAK2b,OAE9B,OADA3b,KAAK2b,QACEiH,GAGTxB,EAASpW,UAAUqX,cAAgB,WACjC,IAAIQ,EAAQ7iB,KAAK8iB,KAAK,GAClBC,EACmB,KAAR,IAAXF,EAAM,KAAgC,IAAXA,EAAM,IAErC,OADA7iB,KAAK2b,OAAS,EACPoH,GAGT3B,EAASpW,UAAUsX,cAAgB,WACjC,IAAIO,EAAQ7iB,KAAK8iB,KAAK,GAClBE,EAGa,KADA,KADA,IAAZH,EAAM,GACNA,EAAM,IACNA,EAAM,IACNA,EAAM,GAEX,OADA7iB,KAAK2b,OAAS,EACPqH,GAGT5B,EAASpW,UAAUuX,cAAgB,WACjC,IAAIM,EAAQ7iB,KAAK8iB,KAAK,GAClBG,EAOa,KADA,KADA,KADA,KADA,KADA,KADE,IAAZJ,EAAM,GACRA,EAAM,IACNA,EAAM,IACNA,EAAM,IACNA,EAAM,IACNA,EAAM,IACNA,EAAM,IACNA,EAAM,GAEX,OADA7iB,KAAK2b,OAAS,EACPsH,GAIT7B,EAASpW,UAAUwX,YAAc,WAC/B,IAAIU,EAAQljB,KAAK8hB,eACjB,OAAQoB,EAAQ,IAASA,EAAQA,OAGnC9B,EAASpW,UAAUyX,aAAe,WAChC,IAAIM,EAAS/iB,KAAKqiB,gBAClB,OAAQU,EAAS,MAAWA,EAASA,SAGvC3B,EAASpW,UAAU0X,aAAe,WAChC,IAAIM,EAAShjB,KAAKsiB,gBAClB,OAAQU,EAAS/J,KAAKkK,IAAI,EAAG,IAAQH,EACnCA,EAAS/J,KAAKkK,IAAI,EAAG,KAGzB/B,EAASpW,UAAU2X,aAAe,WAChC,IAAIM,EAASjjB,KAAKuiB,gBAClB,OAAQU,EAAShK,KAAKkK,IAAI,EAAG,IAAQF,EACnCA,EAAShK,KAAKkK,IAAI,EAAG,KAGzB/B,EAASpW,UAAU+W,WAAa,SAASpQ,GACvC,GAAK3R,KAAK+D,OAAS/D,KAAK2b,MAAQhK,EAC9B,MAAM,IAAIjM,MAAM,4CACN1F,KAAK2b,MAAQ,IAAMhK,EAAO,IAAM3R,KAAK+D,QAEjD,IAAIqf,EAAMpjB,KAAKwhB,WAAWzE,MAAM/c,KAAK2b,MAAO3b,KAAK2b,MAAQhK,GAKzD,OAJA3R,KAAK2b,OAAShK,EAIPyR,GAGThC,EAASpW,UAAUgX,cAAgB,SAASrQ,GAG1C,IAFA,IACqB0R,EAAG1d,EADpBkd,EAAQ7iB,KAAK8iB,KAAKnR,GAClB5L,EAAI,EAAGiM,EAAM,GACXjM,EAAI4L,IACR0R,EAAIR,EAAM9c,IACD,KACPiM,GAAOlB,OAAOwS,aAAaD,GAC3Btd,MACc,IAAJsd,GAAY,IACtB1d,GAAa,IAAJ0d,IAAa,EAAmB,GAAbR,EAAM9c,EAAE,GACpCiM,GAAOlB,OAAOwS,aAAa3d,GAC3BI,GAAK,IAELJ,GAAa,GAAJ0d,IAAW,IAAqB,GAAbR,EAAM9c,EAAE,KAAY,EAChC,GAAb8c,EAAM9c,EAAE,GACXiM,GAAOlB,OAAOwS,aAAa3d,GAC3BI,GAAK,GAIT,OADA/F,KAAK2b,OAAShK,EACPK,GAGToP,EAASpW,UAAUiX,aAAe,SAAStQ,GAEzC,IADA,IAAI4R,EAAU,IAAIzG,MAAMnL,GAChB5L,EAAI,EAAGA,EAAI4L,EAAO5L,IACxBwd,EAAQxd,GAAK/F,KAAK4Q,SAEpB,OAAO2S,GAGTnC,EAASpW,UAAUkX,WAAa,SAASvQ,GAEvC,IADA,IAAI6R,KACIzd,EAAI,EAAGA,EAAI4L,EAAO5L,IAAI,CAC5B,IAAIkB,EAAOjH,KAAK4Q,SACZ7O,EAAQ/B,KAAK4Q,SACjB4S,EAAIvc,GAAOlF,EAEb,OAAOyhB,GAGTpC,EAASpW,UAAUmX,aAAe,WAChC,IAAIa,EAAShjB,KAAKsiB,gBAEdmB,GAAST,GAAU,GAAM,KAAQ,IAErC,OAAgB,GAHLA,GAAU,GAGD,GAAK,IADC,QAATA,EAAsB,SAE1B/J,KAAKkK,IAAI,EAAGM,EAAM,KAGjCrC,EAASpW,UAAUoX,cAAgB,WACjC,IAAIsB,EAAM1jB,KAAKsiB,gBACXqB,EAAM3jB,KAAKsiB,gBACXsB,EAAOF,GAAO,GACdD,GAASC,GAAO,GAAM,MAAS,KAE/BG,GADgB,QAANH,EAAkB,SACbzK,KAAKkK,IAAI,EAAGM,EAAM,IACnCE,EAAQ1K,KAAKkK,IAAI,EAAGM,EAAM,IAC5B,OAAgB,GAARG,EAAY,GAAK,GAAKC,GAGhCzC,EAASpW,UAAU8X,KAAO,SAAS/e,GACjC,IAAIkW,EAAIja,KAAK2b,MACb,GAAI1B,EAAIlW,GAAU/D,KAAK+D,OACrB,OAAO/D,KAAKyhB,SAASqC,SAAS7J,EAAGA,EAAIlW,GAErC,MAAM,IAAI2B,MAAM,+CAQpB4b,EAAOtW,UAAUuW,UAAY,WAC3B,OAAOvhB,KAAK2hB,cAAcJ,aAG5BD,EAAOtW,UAAUyG,KAAO,SAAS1P,GAC/B,IAAIJ,OAAA,IAAcI,EAAd,YAAAif,IAAcjf,GAClB,GAAY,UAARJ,EACF3B,KAAK+jB,YAAYhiB,QACZ,GAAY,UAARJ,EACLsX,KAAK+K,MAAMjiB,KAAWA,EACxB/B,KAAKikB,aAAaliB,GAElB/B,KAAKkkB,YAAYniB,QAEd,GAAY,WAARJ,GACK,IAAVI,EACF/B,KAAK2hB,cAAcwC,OAAO,MACP,IAAVpiB,GACT/B,KAAK2hB,cAAcwC,OAAO,UAEvB,GAAY,aAARxiB,EACT3B,KAAK2hB,cAAcwC,OAAO,SACrB,IAAY,UAARxiB,EAgCT,MAAM,IAAI+D,MAAM,SAAW/D,EAAO,uBA/BlC,GAAc,OAAVI,EACF/B,KAAK2hB,cAAcwC,OAAO,SACrB,CACL,IAAI3T,EAAczO,EAAMyO,YACxB,GAAIA,GAAesM,MACjB9c,KAAKokB,WAAWriB,QACX,GAAIyO,GAAeC,MAAQD,GAAe6T,KAC/CrkB,KAAKskB,SAASviB,QACT,GAAIyO,GAAeK,YACrBsQ,EAAeoD,mBAChBvkB,KAAKskB,SAAS,IAAIjF,WAAWtd,IAE7B/B,KAAKskB,SAASviB,QAEX,GAAI,sBAAuBA,EAC7Bof,EAAeoD,mBAChBvkB,KAAKskB,SAAS,IAAIjF,WAAWtd,EAAMwd,SAEnCvf,KAAKskB,SAASviB,EAAMwd,aAEjB,GAAI/O,GAAe0G,OACxBlX,KAAKwkB,YAAYziB,QACZ,GAAIyO,GAAeuI,KACxB/Y,KAAK+jB,YAAYhiB,EAAMqV,gBAClB,IAAiC,mBAAtBrV,EAAM0iB,aAGtB,MAAM,IAAI/e,MAAM,SAAW8K,EAAY4G,WAAa,uBAFpDpX,KAAK2hB,cAAcwC,OAAOpiB,EAAM0iB,kBAQtCzkB,KAAK2hB,cAAc+C,SAIrBpD,EAAOtW,UAAUsZ,SAAW,SAAS9S,GACnC,IAAIzN,EAASyN,EAAKzN,QAAUyN,EAAKkQ,YAAclQ,EAAKG,KACpD,GAAI5N,GAAU,GACZ/D,KAAK2kB,WAAW,IAAO5gB,QAClB,GAAIA,GAAU,MACnB/D,KAAK2hB,cAAcwC,OAAO,KAC1BnkB,KAAK4kB,YAAY7gB,OACZ,MAAIA,GAAU,YAInB,MAAM,IAAI2B,MAAM,kBAHhB1F,KAAK2hB,cAAcwC,OAAO,KAC1BnkB,KAAK6kB,YAAY9gB,GAInB/D,KAAK2hB,cAAcwC,OAAO3S,IAG5B8P,EAAOtW,UAAU+Y,YAAc,SAAS/R,GACtC,IAAIjO,EA+KN,SAAoBiO,GAClB,OAAIA,EAAIjO,OAAS,IAEP,IAAI0M,MAAMuB,IAAOL,KAElBK,EAAI8S,QAAQ,oBAAqBlD,GAAc7d,OApL3CghB,CAAW/S,GAExB,GAAIjO,GAAU,GACZ/D,KAAK2kB,WAAW,IAAO5gB,QAClB,GAAIA,GAAU,MACnB/D,KAAK2hB,cAAcwC,OAAO,KAC1BnkB,KAAK4kB,YAAY7gB,OACZ,MAAIA,GAAU,YAInB,MAAM,IAAI2B,MAAM,kBAHhB1F,KAAK2hB,cAAcwC,OAAO,KAC1BnkB,KAAK6kB,YAAY9gB,GAInB/D,KAAK2hB,cAAcwC,OAAOnS,IAG5BsP,EAAOtW,UAAUoZ,WAAa,SAASY,GACrC,IAAIjhB,EAASihB,EAAIjhB,OACjB,GAAIA,GAAU,GACZ/D,KAAK2kB,WAAW,IAAO5gB,QAClB,GAAIA,GAAU,MACnB/D,KAAK2hB,cAAcwC,OAAO,KAC1BnkB,KAAK4kB,YAAY7gB,OACZ,MAAIA,GAAU,YAInB,MAAM,IAAI2B,MAAM,kBAHhB1F,KAAK2hB,cAAcwC,OAAO,KAC1BnkB,KAAK6kB,YAAY9gB,GAInB,IAAI,IAAIgC,EAAI,EAAGA,EAAIhC,EAASgC,IAC1B/F,KAAKyR,KAAKuT,EAAIjf,KAIlBub,EAAOtW,UAAUiZ,aAAe,SAASgB,GACvC,IAAM,IAAQA,GAAOA,GAAO,IAC1BjlB,KAAK2hB,cAAcwC,OAAa,IAANc,QACrB,GAAI,GAAQA,GAAOA,GAAO,IAC/BjlB,KAAK2hB,cAAcwC,OAAO,KAC1BnkB,KAAK2kB,WAAWM,QACX,IAAK,KAAQA,GAAOA,GAAO,IAChCjlB,KAAK2hB,cAAcwC,OAAO,KAC1BnkB,KAAKklB,UAAUD,QACV,GAAK,GAAUA,GAAOA,GAAO,MAClCjlB,KAAK2hB,cAAcwC,OAAO,KAC1BnkB,KAAK4kB,YAAYK,QACZ,IAAK,OAAUA,GAAOA,GAAO,MAClCjlB,KAAK2hB,cAAcwC,OAAO,KAC1BnkB,KAAKmlB,WAAWF,QACX,GAAK,GAAcA,GAAOA,GAAO,WACtCjlB,KAAK2hB,cAAcwC,OAAO,KAC1BnkB,KAAK6kB,YAAYI,QACZ,IAAK,YAAcA,GAAOA,GAAO,WACtCjlB,KAAK2hB,cAAcwC,OAAO,KAC1BnkB,KAAKolB,WAAWH,QACX,IAAK,oBAAsBA,GAAOA,GAAO,mBAC9CjlB,KAAK2hB,cAAcwC,OAAO,KAC1BnkB,KAAKqlB,WAAWJ,OACX,MAAI,GAAsBA,GAAOA,GAAO,qBAI7C,MAAM,IAAIvf,MAAM,mBAHhB1F,KAAK2hB,cAAcwC,OAAO,KAC1BnkB,KAAKslB,YAAYL,KAMrB3D,EAAOtW,UAAUkZ,YAAc,SAASe,GACtC,IAAIrB,EAAO,EACPqB,EAAM,IACRrB,EAAO,EACPqB,GAAOA,GAET,IAAIxB,EAAOxK,KAAK+K,MAAM/K,KAAKpP,IAAIob,GAAOhM,KAAKsM,KACvCC,EAAQP,EAAMhM,KAAKkK,IAAI,EAAGM,GAAO,EACjCgC,EAAQxM,KAAK+K,MAAMwB,EAAQvM,KAAKkK,IAAI,EAAG,KACvCuC,EAAQzM,KAAKkK,IAAI,EAAG,IACpBO,EAAOE,GAAQ,GAAQH,EAAI,MAAS,GACnCgC,EAAQC,EAAO,QAChB/B,EAAM8B,EAAQC,EAClB1lB,KAAK2hB,cAAcwC,OAAO,KAC1BnkB,KAAKolB,WAAW1B,GAChB1jB,KAAKolB,WAAWzB,IAGlBrC,EAAOtW,UAAUwZ,YAAc,SAASmB,GACtC,IACI5hB,EADOiW,IAAY2L,GACL5hB,OAClB,GAAIA,GAAU,GACZ/D,KAAK2kB,WAAW,IAAO5gB,QAClB,GAAIA,GAAU,MACnB/D,KAAK2hB,cAAcwC,OAAO,KAC1BnkB,KAAK4kB,YAAY7gB,OACZ,MAAIA,GAAU,YAInB,MAAM,IAAI2B,MAAM,kBAHhB1F,KAAK2hB,cAAcwC,OAAO,KAC1BnkB,KAAK6kB,YAAY9gB,GAInB,IAAI,IAAI6hB,KAAQD,EACVA,EAAI3H,eAAe4H,KACrB5lB,KAAKyR,KAAKmU,GACV5lB,KAAKyR,KAAKkU,EAAIC,MAKpBtE,EAAOtW,UAAU2Z,WAAa,SAASM,GACrCjlB,KAAK2hB,cAAcwC,OAAOc,IAG5B3D,EAAOtW,UAAU4Z,YAAc,SAASK,GACtCjlB,KAAK2hB,cAAcwC,OAAOc,GAAO,GACjCjlB,KAAK2hB,cAAcwC,OAAa,IAANc,IAG5B3D,EAAOtW,UAAU6Z,YAAc,SAASI,GACtC,IAAItY,EAAU,WAANsY,EACRjlB,KAAK2hB,cAAcwC,QAAY,WAAJxX,KAAoB,IAC/C3M,KAAK2hB,cAAcwC,QAAY,SAAJxX,KAAoB,IAC/C3M,KAAK2hB,cAAcwC,QAAY,MAAJxX,KAAqB,GAChD3M,KAAK2hB,cAAcwC,OAAY,IAAJxX,IAG7B2U,EAAOtW,UAAUsa,YAAc,SAASL,GACtC,IAAIY,EAAOZ,EAAMhM,KAAKkK,IAAI,EAAG,IACzB2C,EAAOb,EAAMhM,KAAKkK,IAAI,EAAG,IAC7BnjB,KAAK2hB,cAAcwC,QAAe,WAAP0B,KAAuB,IAClD7lB,KAAK2hB,cAAcwC,QAAe,SAAP0B,KAAuB,IAClD7lB,KAAK2hB,cAAcwC,QAAe,MAAP0B,KAAwB,GACnD7lB,KAAK2hB,cAAcwC,OAAe,IAAP0B,GAC3B7lB,KAAK2hB,cAAcwC,QAAe,WAAP2B,KAAuB,IAClD9lB,KAAK2hB,cAAcwC,QAAe,SAAP2B,KAAuB,IAClD9lB,KAAK2hB,cAAcwC,QAAe,MAAP2B,KAAwB,GACnD9lB,KAAK2hB,cAAcwC,OAAe,IAAP2B,IAG7BxE,EAAOtW,UAAUka,UAAY,SAASD,GACpCjlB,KAAK2hB,cAAcwC,OAAa,IAANc,IAG5B3D,EAAOtW,UAAUma,WAAa,SAASF,GACrCjlB,KAAK2hB,cAAcwC,QAAc,MAANc,IAAiB,GAC5CjlB,KAAK2hB,cAAcwC,OAAa,IAANc,IAG5B3D,EAAOtW,UAAUoa,WAAa,SAASH,GACrCjlB,KAAK2hB,cAAcwC,OAAQc,IAAQ,GAAM,KACzCjlB,KAAK2hB,cAAcwC,QAAc,SAANc,KAAsB,IACjDjlB,KAAK2hB,cAAcwC,QAAc,MAANc,KAAsB,GACjDjlB,KAAK2hB,cAAcwC,OAAc,IAANc,IAG7B3D,EAAOtW,UAAUqa,WAAa,SAASJ,GACrC,IAAIY,EAAO5M,KAAK+K,MAAMiB,EAAMhM,KAAKkK,IAAI,EAAG,KACpC2C,EAAOb,EAAMhM,KAAKkK,IAAI,EAAG,IAC7BnjB,KAAK2hB,cAAcwC,QAAe,WAAP0B,KAAuB,IAClD7lB,KAAK2hB,cAAcwC,QAAe,SAAP0B,KAAuB,IAClD7lB,KAAK2hB,cAAcwC,QAAe,MAAP0B,KAAwB,GACnD7lB,KAAK2hB,cAAcwC,OAAe,IAAP0B,GAC3B7lB,KAAK2hB,cAAcwC,QAAe,WAAP2B,KAAuB,IAClD9lB,KAAK2hB,cAAcwC,QAAe,SAAP2B,KAAuB,IAClD9lB,KAAK2hB,cAAcwC,QAAe,MAAP2B,KAAwB,GACnD9lB,KAAK2hB,cAAcwC,OAAe,IAAP2B,MAsB1BC,kBAAkB,KAAKC,IAAI,SAAShZ,EAAQvN,EAAOC,GACtD,IAAIyhB,KACJA,EAAe8E,eAAkB,WAC/B,IAEE,OADA,IAAIxV,UACG,EACP,MAAOhL,GACP,OAAO,GALsB,GASjC0b,EAAeoD,oBAAsBpD,EAAe8E,gBAAmB,WACrE,IACE,OAAiD,IAAzC,IAAIxV,MAAM,IAAI4O,iBAAkB1N,KACxC,MAAOlM,GACP,OAAO,GAJ4D,GAQvEhG,EAAOC,QAAQyhB,eAAiBA,EAChC,IAAI+E,EAAczmB,EAAOC,QAAQwmB,YAMjC,SAAShF,IACPlhB,KAAKmmB,WACLnmB,KAAKomB,UAPc,oBAAV9gB,SACT4gB,EAAczmB,EAAOC,QAAQwmB,YAAc5gB,OAAO+gB,mBAChD/gB,OAAOghB,gBAAkBhhB,OAAOihB,eAAiBjhB,OAAO4gB,aAQ5DhF,EAAclW,UAAUmZ,OAAS,SAAS9gB,GACrB,iBAATA,EACRrD,KAAKmmB,QAAQhlB,KAAKkC,IAElBrD,KAAK0kB,QACL1kB,KAAKomB,OAAOjlB,KAAKkC,KAIrB6d,EAAclW,UAAU0Z,MAAQ,WAC9B,GAAI1kB,KAAKmmB,QAAQpiB,OAAS,EAAG,CAC3B,IAAIqf,EAAM,IAAI/D,WAAWrf,KAAKmmB,SAC1BhF,EAAeoD,qBACjBnB,EAAMA,EAAI7D,QAEZvf,KAAKomB,OAAOjlB,KAAKiiB,GACjBpjB,KAAKmmB,aAITjF,EAAclW,UAAUuW,UAAY,WAElC,GADAvhB,KAAK0kB,QACFvD,EAAe8E,eAAgB,CAEhC,IADA,IAAIO,EAAU,IAAIN,EACVngB,EAAI,EAAGwM,EAAKvS,KAAKomB,OAAOriB,OAAQgC,EAAIwM,EAAIxM,IAC9CygB,EAAQrC,OAAOnkB,KAAKomB,OAAOrgB,IAE7B,OAAOygB,EAAQC,UAEf,OAAO,IAAIhW,KAAKzQ,KAAKomB,SAIzB3mB,EAAOC,QAAQwhB,cAAgBA,OAEzBwF,IAAI,SAAS1Z,EAAQvN,EAAOC,GAClC,IAAIkO,EAAOZ,EAAQ,UAMnB,SAASe,EAASuB,EAAIW,GACpB,KAAMjQ,gBAAgB+N,GAAW,OAAO,IAAIA,EAASuB,GACrDtP,KAAKuP,IAAMD,EAEX1B,EAAKqC,MAAQA,EAIbjQ,KAAK2mB,aAEL3mB,KAAK4mB,aACL5mB,KAAK6mB,aAGL7mB,KAAK8mB,QAAU,IAEf9mB,KAAK+mB,KAAO,IAEZ/mB,KAAKgnB,UAAY,EAGjBhnB,KAAKinB,OAAS,EAGdjnB,KAAKua,UAELva,KAAKknB,WAIPnZ,EAAS/C,UAAUM,KAAO,SAAS6E,GAEjC,IAAIqO,EAAK5Q,EAAK6D,KAAKtB,GACfqO,EAAG7M,KAAO3R,KAAK+mB,KACjB/mB,KAAKmnB,aAAa,KAAM3I,KAI1Bxe,KAAK2mB,UAAU3mB,KAAKinB,SAClBG,IAAK,EACL3I,OAAQze,KAAKqnB,OAAO7I,IAGlB5Q,EAAKqC,QACPjQ,KAAK2mB,UAAU3mB,KAAKinB,QAAQpgB,MAAQ,IAAIkS,MAI1C/Y,KAAKsnB,oBAAoBtnB,KAAKinB,QAC9BjnB,KAAKinB,QAAU,IAIjBlZ,EAAS/C,UAAUuc,eAAiB,WAGlC,IAAI7X,EAAO1P,KACXA,KAAKib,SAAWuM,YAAY,WAE1B,IAAIrX,EAAMT,EAAK6K,OAAOnI,QACtB,GAAIjC,EAAIsX,UACN,IAAK,IAAI1hB,EAAI,EAAGwM,EAAKpC,EAAIpM,OAAQgC,EAAIwM,EAAIxM,GAAK,EAC5C2J,EAAKgY,cAAcvX,EAAIpK,SAGzB2J,EAAKgY,cAAcvX,IAEpBnQ,KAAKgnB,YAGVjZ,EAAS/C,UAAU0c,cAAgB,SAASvX,GAC1C,IAAIT,EAAO1P,KACXmQ,EAAMvC,EAAK6D,KAAKtB,GAChBvC,EAAKmE,mBAAmB5B,EAAK,SAAS6B,GACpCtC,EAAKH,IAAIjE,KAAK0G,KAEW,IAAvBtC,EAAK6K,OAAOxW,SACdmX,aAAaxL,EAAKuL,UAClBvL,EAAKuL,SAAW,OAMpBlN,EAAS/C,UAAU2c,aAAe,WAChC,IAAK,IAAItnB,KAAML,KAAK2mB,UACd3mB,KAAK2mB,UAAU3I,eAAe3d,IAChCL,KAAKsnB,oBAAoBjnB,IAO/B0N,EAAS/C,UAAUmc,YAAc,SAAShX,GAExC,IADA,IAAIhP,GAAO,EACF4E,EAAI,EAAGwM,EAAKvS,KAAKua,OAAOxW,OAAQgC,EAAIwM,EAAIxM,GAAK,EAAG,CACvD,IAAI6hB,EAAO5nB,KAAKua,OAAOxU,GACnB6hB,IAASzX,EACXhP,GAAO,EACEymB,EAAKH,YAAoC,IAAvBG,EAAKC,QAAQ1X,KACxChP,GAAO,GAGPA,IACFnB,KAAKua,OAAOpZ,KAAKgP,GACZnQ,KAAKib,UACRjb,KAAKunB,mBAMXxZ,EAAS/C,UAAUkc,SAAW,WAE5B,IAAIxX,EAAO1P,KACXA,KAAKuP,IAAIW,UAAY,SAASzK,GAC5B,IAAI0K,EAAM1K,EAAEpC,KAIZ,GAHe8M,EAAIK,cAGFM,OAAQ,CACvB,IAAIH,EAAK/C,EAAKmD,0BAA0BZ,GACxCA,EAAMvC,EAAKgD,OAAOD,GAClBjB,EAAKgJ,eAAevI,MAM1BpC,EAAS/C,UAAU0N,eAAiB,SAASvI,GAC3C,IAGI9M,EAHAhD,EAAK8P,EAAI,GACT2X,EAAQ9nB,KAAK4mB,UAAUvmB,GACvB0nB,EAAQ/nB,KAAK2mB,UAAUtmB,GAE3B,OAAQ8P,EAAI,IAEV,IAAK,KACH,IAAIsC,EAAUpS,EACRoS,GACJzS,KAAKkQ,UAAUtC,EAAKgD,OAAO6B,IAE7B,MAEF,IAAK,MAMH,GALApP,EAAOykB,EAGP9nB,KAAK6mB,UAAUxmB,GAAM8P,EAAI,IAEpB9M,EACH,MAGFrD,KAAKgoB,KAAK3nB,GACV,MACF,IAAK,MAEH,GADAgD,EAAO0kB,EACK,CACV,IAAIX,EAAMjX,EAAI,GAEd9M,EAAK+jB,IAAMnO,KAAKgP,IAAIb,EAAK/jB,EAAK+jB,KAG1B/jB,EAAK+jB,KAAO/jB,EAAKob,OAAO1a,QAC1B6J,EAAK/D,IAAI,SAAU,IAAIkP,KAAS1V,EAAKwD,cAC9B7G,KAAK2mB,UAAUtmB,IAEtBL,KAAK2nB,eAIT,MAEF,IAAK,QAGH,KADAtkB,EAAOykB,GACI,CAET,IAAY,IADF9nB,KAAK6mB,UAAUxmB,GAEvB,MAEFgD,GACE+jB,KAAM,MAAO/mB,EAAI,GACjBoe,WAEFze,KAAK4mB,UAAUvmB,GAAMgD,EAGvB,IAAIsJ,EAAIwD,EAAI,GACRmC,EAAQnC,EAAI,GAChB9M,EAAKob,OAAO9R,GAAK,IAAI0S,WAAW/M,GAI5B3F,IAAMtJ,EAAK+jB,IAAI,IACjBpnB,KAAKkoB,kBAAkB7nB,GAEzBL,KAAKgoB,KAAK3nB,GACV,MACF,QAGEL,KAAKmnB,YAAYhX,KAMvBpC,EAAS/C,UAAUqc,OAAS,SAAS7I,GAInC,IAHA,IAAIC,KACA9M,EAAO6M,EAAG7M,KACV2H,EAAQ,EACLA,EAAQ3H,GAAM,CACnB,IAAIgN,EAAM1F,KAAK2F,IAAIjN,EAAM2H,EAAQtZ,KAAK+mB,MAElCzU,GACFI,QAFM8L,EAAGzB,MAAMzD,EAAOqF,IAIxBF,EAAOtd,KAAKmR,GACZgH,EAAQqF,EAGV,OADA/Q,EAAK/D,IAAI,UAAW4U,EAAO1a,OAAQ,WAC5B0a,GAIT1Q,EAAS/C,UAAUgd,KAAO,SAAS3nB,GACjC,IAAI+mB,EAAMpnB,KAAK4mB,UAAUvmB,GAAI+mB,IAGzBpnB,KAAK6mB,UAAUxmB,KAAQ+mB,EAAI,KAC7BpnB,KAAKmoB,UAAU9nB,GACfL,KAAK6mB,UAAUxmB,IAAM,GAGvBL,KAAKmnB,YAAYC,IAInBrZ,EAAS/C,UAAUkd,kBAAoB,SAAS7nB,GAG9C,IAFA,IAAIgD,EAAOrD,KAAK4mB,UAAUvmB,GACtBoe,EAASpb,EAAKob,OACT1Y,EAAI,EAAGwM,EAAKkM,EAAO1a,OAAQgC,EAAIwM,EAAIxM,GAAK,EAE/C,QAAkBoR,IAAdsH,EAAO1Y,GAET,YADA1C,EAAK+jB,IAAI,GAAKrhB,GAIlB1C,EAAK+jB,IAAI,GAAK3I,EAAO1a,QAIvBgK,EAAS/C,UAAUsc,oBAAsB,SAASjnB,GAChDuN,EAAK/D,IAAI,2BAA4BxJ,GAKrC,IAJA,IAAIgD,EAAOrD,KAAK2mB,UAAUtmB,GACtB+nB,EAAK/kB,EAAKob,OACVA,KACA4J,EAAQpP,KAAK2F,IAAIvb,EAAK+jB,IAAMpnB,KAAK8mB,QAASsB,EAAGrkB,QACxCgC,EAAI1C,EAAK+jB,IAAKrhB,EAAIsiB,EAAOtiB,GAAK,EAChCqiB,EAAGriB,GAAGuiB,MAAQviB,IAAM1C,EAAK+jB,MAC5BgB,EAAGriB,GAAGuiB,MAAO,EACb7J,EAAOtd,MAAM,QAASd,EAAI0F,EAAGqiB,EAAGriB,GAAG2M,WAGnCrP,EAAK+jB,IAAMpnB,KAAK8mB,SAAWsB,EAAGrkB,QAChC0a,EAAOtd,MAAM,MAAOd,EAAI+nB,EAAGrkB,SAE7B0a,EAAOgJ,WAAY,EACnBznB,KAAKmnB,YAAY1I,IAInB1Q,EAAS/C,UAAUmd,UAAY,SAAS9nB,GACtCuN,EAAK/D,IAAI,uBAAwBxJ,GACjC,IAAIqP,EAAO1P,KACPye,EAASze,KAAK4mB,UAAUvmB,GAAIoe,OAC5BD,EAAK,IAAI/N,KAAKgO,GAClB7Q,EAAK8C,kBAAkB8N,EAAI,SAAS7N,GAClCjB,EAAKQ,UAAUtC,EAAKgD,OAAOD,aAEtB3Q,KAAK4mB,UAAUvmB,IAIxB0N,EAASwI,mBAAqB,SAAS3D,GAOrC,IAAI2V,EAAUC,UAAUC,WAAWC,MAAM,kBACzC,GAAIH,IACFA,EAAUjM,SAASiM,EAAQ,GAAGnc,MAAM,KAAKgG,UAC3B,GAAI,CAChB,IAAIuW,EAAQ/V,EAAIxG,MAAM,WAEtB,GAAIuc,EAAM5kB,OAAS,EACjB,OAAO4kB,EAAM,GAFD,cAEgBA,EAAM,GAKxC,OAAO/V,GAIT7E,EAAS/C,UAAUkF,UAAY,SAASC,KAExC1Q,EAAOC,QAAQqO,SAAWA,IAEvBkF,SAAS,KAAK2V,IAAI,SAAS5b,EAAQvN,EAAOC,GAC7C,IAAI4T,EAAatG,EAAQ,iBAErBY,GACFqC,OAAO,EAEPb,SAAU,SAASmO,EAAMC,GACvBD,EAAKE,OAASD,EACdD,EAAKvS,UAAY0S,IAAcF,EAAUxS,WACvCwF,aACEzO,MAAOwb,EACPI,YAAY,EACZC,UAAU,EACVC,cAAc,MAIpBzP,OAAQ,SAAS0P,EAAMC,GACrB,IAAI,IAAI9W,KAAO8W,EACVA,EAAOC,eAAe/W,KACvB6W,EAAK7W,GAAO8W,EAAO9W,IAGvB,OAAO6W,GAETrM,KAAM6B,EAAW7B,KACjBb,OAAQ0C,EAAW1C,OAEnB/G,IAAK,WACH,GAAI+D,EAAKqC,MAAO,CAEd,IADA,IAAI4M,KACK9W,EAAI,EAAGA,EAAIiX,UAAUjZ,OAAQgC,IACpC8W,EAAK9W,GAAKiX,UAAUjX,GAEtB8W,EAAKI,QAAQ,cACbrT,QAAQC,IAAIqT,MAAMtT,QAASiT,KAI/BlD,eAAiB,SAASsE,GACxB,IAAIC,KACAC,EAAc,uBAUlB,SAAS3L,EAAcwI,GACjBA,EAAM+C,QAAUE,GAAUjD,EAAM3X,MAAQ8a,IACtCnD,EAAMoD,iBACRpD,EAAMoD,kBAEJF,EAASna,QACXma,EAAS9L,OAAT8L,IASN,OALID,EAAOI,iBACTJ,EAAOI,iBAAiB,UAAW7L,GAAe,GACzCyL,EAAOK,aAChBL,EAAOK,YAAY,YAAa9L,GAlBlC,SAAmCkK,GACjCwB,EAAS/c,KAAKub,GACduB,EAAOM,YAAYJ,EAAa,MATnB,CA4Bfne,MAEF0Q,kBAAmB,SAASc,EAAMqH,GAChC,IAAIiG,EAAK,IAAIC,WACbD,EAAGpT,OAAS,SAAS+J,GACnBoD,EAAGpD,EAAIuJ,OAAOC,SAEhBH,EAAGI,kBAAkB1N,IAEvBO,mBAAoB,SAASP,EAAMqH,GACjC,IAAIiG,EAAK,IAAIC,WACbD,EAAGpT,OAAS,SAAS+J,GACnBoD,EAAGpD,EAAIuJ,OAAOC,SAEhBH,EAAGK,mBAAmB3N,IAExBT,0BAA2B,SAASsM,GAElC,IADA,IAAI+B,EAAY,IAAIC,WAAWhC,EAAOtZ,QAC7BgC,EAAI,EAAGA,EAAIsX,EAAOtZ,OAAQgC,IACjCqZ,EAAUrZ,GAA4B,IAAvBsX,EAAOiC,WAAWvZ,GAEnC,OAAOqZ,EAAUG,QAEnB9Q,YAAa,WACX,OAAOwK,KAAKC,SAAS9B,SAAS,IAAIoI,OAAO,KAI7C/f,EAAOC,QAAUkO,IAEdgG,gBAAgB,UAAU,wBC33F7BnU,EAAAC,QAAA,ilECAAD,EAAAC,QAAA,+iFCAA,IAAA8jB,GACAqF,mBAAA,OACAC,cAAA,OACAC,aAAA,OACAC,2BAAA,OACAC,2BAAA,OACAC,2BAAA,OACAC,4BAAA,OACAC,eAAA,OACAC,cAAA,OACAC,cAAA,OACAC,aAAA,OACAC,uBAAA,OACAC,YAAA,OACAC,eAAA,QAEA,SAAAC,EAAAngB,GACA,OAAA7J,EAAAiqB,EAAApgB,IAEA,SAAAogB,EAAApgB,GACA,IAAAnJ,EAAAmjB,EAAAha,GACA,KAAAnJ,EAAA,GACA,UAAAqF,MAAA,uBAAA8D,EAAA,MACA,OAAAnJ,EAEAspB,EAAAE,KAAA,WACA,OAAA3S,OAAA2S,KAAArG,IAEAmG,EAAAG,QAAAF,EACAnqB,EAAAC,QAAAiqB,EACAA,EAAAtpB,GAAA","file":"static/js/app.50991ed840af6a98f707.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/media/frame.png\n// module id = 3q37\n// module chunks = 1","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAxQTFRF/xcX/9HR3d3d////xEaMXQAAAHpJREFUeNqMyscBwCAMBDAD+++c0N0PvUX1AdUGFMKpUIHpPw2lflAaB6R58rROmvbJ0jlJuidO7ISJnyiJEyR5/KSOm/TxkjlOsscm55jkHZ3co5J/ZAqOSNHhKTwsxeem5JyUnZ3Ss1J+ZgJnJHR6gqcneHp68AkwAL0lDbvWu4JdAAAAAElFTkSuQmCC\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/media/color-swatch-erase.png\n// module id = 6Is8\n// module chunks = 1","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAlQTFRF3d3d/////88zjKi6LQAAACZJREFUeNpiYCAKMBIEIEVMBMCoolFFo4pGFQ2UImIKMSIAQIABAC3mCIUCx3laAAAAAElFTkSuQmCC\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/media/color-swatch-yellow.png\n// module id = 9rie\n// module chunks = 1","module.exports = __webpack_public_path__ + \"static/img/background.3f48091.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/media/background.png\n// module id = Efnd\n// module chunks = 1","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF0AAAAuCAYAAABKxxWsAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADMUlEQVR4Xu2aSYsTURRGE2dFRBFREaeFuHLjwo2oC8WFIKgI/kNRUEHBAUTEnVsRXLpUwZXi0PYUv1PUF29XowS5SZGq98HhVtLd6X4nt1+9vKrhaDQalMw2G+paMsMU6S2kSG8hRXoLGQrEU5143JfE1YSP1zyXueBA8Na6Wn5fpcNqqD6ubGdaR/BOsVFE6X0TH0WvNKjEZ0vfLTYJi29ON12Ox+muRvKyWKor8NxqtvR9YrOI4vsinbGS2OmL4lddkQ9I52spQW7aO9iRfBBnxIKw/OVM6X6nS/6ERpzqf36fpxfGypiBMR8Uj8VHcU78EHQ7LKrTmdtTgty+nkgZ7xbhhjsknohPAuk/a6ppJlt6X5eMiEa6OSyeCaSfF7HTF7Kl9/XDEdK3CcaP9KPiuWB6QTqy3enp0pvTSV+kM60g3OKPi5fCc/q4yyFb+jh64fqo2xkqKu50g/RXYurS6fKSGadIbyFFegsp0ltIkd5CypKxpSUjS6covg/SPW4vF5F+TMzswxG/kGrxXZbu8QGdvl0wfj6RHhFPBdsAFwTbAFOTvqOuSG9ONV2Ix+OxUdlrQjpd7r0XNrweiaZ0KBteEyaOxQ3FOA2i6XLk8/iAeCAs/btAPBcy0qWXK0dr461dpHt6WcqWvkv43Y/dPo/x397sbE6arpFT4qq4KOh6won0rLD06lqppKdeI+3KRQz/zR5DU7phOr0srouTwvkmHorb4o1gakE4rGRL3yss3eLnVbppCqeeEDfEFYF45524LxD+VXipOL4oLcotGH9JFG7prE4uiZvitHCQypr8rngr3NFQnTgFt14wjwPOU6XvF5zJY7fPu3SWf7fENbFHOO8FXc0q5YvwDUXI9j0uPLZwppRqWsmW3vXVCwJfiDvitfBdWxYeQbAr2E2m805LZxWC6Hvis2iK9mNXi46ySXWcLb2L973YEAKRGonSIYr2z60znC29a/e9RHGWTo2i/RzfY4jrumRL79o2QBQZpbtG2cT1n8mW3qVdxigyyo3HQFwnSrb05nQyz9JJtBMlk/82lyo988VKJgtdXjLjFOktpEhvIUX6zDMY/Aah6nn8WG5N7wAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/media/eraser.png\n// module id = JtUg\n// module chunks = 1","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/media/blue.png\n// module id = M2yu\n// module chunks = 1","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAlQTFRF3d3d////ZZtBHPAPSwAAACZJREFUeNpiYCAKMBIEIEVMBMCoolFFo4pGFQ2UImIKMSIAQIABAC3mCIUCx3laAAAAAElFTkSuQmCC\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/media/color-swatch-green.png\n// module id = N8v+\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('v-app',[_c('v-content',[(_vm.$route.name !== 'Room')?_c('transition',{attrs:{\"name\":\"router-anim\",\"mode\":\"out-in\",\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated fadeOut\"}},[_c('router-view')],1):_c('router-view')],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-01180d66\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-01180d66\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-01180d66\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <v-app>\n      <v-content>\n        <transition v-if=\"$route.name !== 'Room'\" name=\"router-anim\" mode=\"out-in\"\n                    enter-active-class=\"animated fadeIn\"\n                    leave-active-class=\"animated fadeOut\">\n          <router-view/>\n        </transition>\n        <router-view v-else/>\n      </v-content>\n    </v-app>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"App\"\n};\n</script>\n\n<style>\n  @import \"./components/animate.css\";\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  font-size: large;\n}\n.logo {\n  border-radius: 30px;\n  height: 229px;\n  width: 330px;\n}\n\nbutton {\n  font-size: 20px;\n  height: 50px;\n  width: 100px;\n  display: inline-block;\n  margin: 15px 32px;\n}\n\nbutton:hover {\n  border-radius: 20px;\n  border-style: outset;\n\n}\n\n.form-input {\n  font-size: 14px;\n  font-weight: 800;\n  height: 50px;\n}\n\n#home, #lobby {\n  height:105%;\n  background-image: url(\"./../static/media/background.png\");\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: center;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n    <v-container fluid id=\"home\">\n      <img class=\"logo\" src=\"./../../static/media/logo.png\">\n      <v-container>\n        <v-flex class=\"text-xs-center login\">\n          <v-text-field class=\"form-input\" v-model=\"username\" type=\"text\" label=\"Enter your username\" required/>\n          <v-text-field class=\"form-input\" v-model=\"password\" type=\"password\" label=\"Enter your password\" required/>\n        </v-flex>\n      </v-container>\n      <button v-on:click=\"login\">Login</button>\n      <button v-on:click=\"signup\">Sign up</button>\n      <div>\n        <a href=\"/api/login/google\">Log In with Google</a>\n      </div>\n      <div class=\"alert\"></div>\n    </v-container>\n</template>\n\n<script>\n  const api = require('./api.js').default;\n\nexport default {\n  name: 'Home',\n  data() {\n    return {\n      username: '',\n      password: ''\n    }\n  },\n  created() {},\n  mounted() {},\n  methods: {\n    login() {\n      api.signin(this.username, this.password, (err, res) => {\n        if (err) document.querySelector('.alert').innerHTML = err;\n        else this.$router.push('/lobby')\n      })\n    },\n    signup() {\n      api.signup(this.username, this.password, (err, res) => {\n        if (err) document.querySelector('.alert').innerHTML = err;\n        else this.$router.push('/lobby')\n      })\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n  ul {\n    list-style-type: none;\n    padding: 0;\n  }\n\n  li {\n    display: inline-block;\n    margin: 0 10px;\n  }\n\n  a {\n    color: #42b983;\n  }\n\n  .alert{\n    margin-top: 30px;\n    color: #2B2922;\n    justify-content: center;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\",\"id\":\"home\"}},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"./../../static/media/logo.png\")}}),_vm._v(\" \"),_c('v-container',[_c('v-flex',{staticClass:\"text-xs-center login\"},[_c('v-text-field',{staticClass:\"form-input\",attrs:{\"type\":\"text\",\"label\":\"Enter your username\",\"required\":\"\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_vm._v(\" \"),_c('v-text-field',{staticClass:\"form-input\",attrs:{\"type\":\"password\",\"label\":\"Enter your password\",\"required\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.login}},[_vm._v(\"Login\")]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.signup}},[_vm._v(\"Sign up\")]),_vm._v(\" \"),_c('div',[_c('a',{attrs:{\"href\":\"/api/login/google\"}},[_vm._v(\"Log In with Google\")])]),_vm._v(\" \"),_c('div',{staticClass:\"alert\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2f63c788\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2f63c788\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2f63c788\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2f63c788\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Home.vue\n// module id = null\n// module chunks = ","<template>\n    <v-container fluid id=\"lobby\">\n      <img class=\"logo\" src=\"./../../static/media/logo.png\">\n      <div class=\"create\" v-if='status !== \"inRoom\"'>\n        <button v-on:click='createRoom' class='create-room'>Create Room</button>\n        <div>OR</div>\n        <form v-on:submit.prevent='joinRoom' class=\"roomForm\">\n          <v-text-field v-model='roomCode' class=\"form-input\" type='text' label='Enter room code' name='roomCode' id='roomCode'></v-text-field>\n          <button type='submit' class='join-room'>Join Room</button>\n        </form>\n      </div>\n      <div class=\"create\" v-else>\n            <span>\n              <p>Your peer id is {{ myId }}</p>\n              <p>Your room code is {{ roomCode }}</p>\n              <p>There are currently {{ numPlayers }} players in the room</p>\n              <button v-on:click='searchForOpponent'>Refresh</button>\n            </span>\n      </div>\n    </v-container>\n</template>\n\n<script>\nvar peerjs = require('./peer.js')\n\nexport default {\n  name: 'Lobby',\n  data() {\n    return {\n      p: '',\n      status: '', // toggle frontend, 2 states: waiting in a room or not in a room\n      myId: '',\n      roomCode: '',\n      connectedPeers: {},\n      numPeers: 0,\n      role: '',\n      show: true,\n      host: false,\n      words: null, // list of 20 words chosen from the db\n      opponentConnection: null\n    }\n  },\n  computed: {\n    sanitizedRoomCode() {\n      return this.roomCode.trim()\n    },\n\n    numPlayers() {\n      return this.numPeers// + 1\n    }\n  },\n  created() {\n    // if we want to define our own id, per user, then make request to db and set something as id\n    // this.p = new Peer({ host: 'drawalot-peerjs.herokuapp.com', port: 443, secure: true })\n  },\n  mounted() {\n    if (!this.$peer.open) {\n      // if connection wasn't already established\n      // this line probably won't run since we establish a connection so early on\n      this.$peer.on('open', id => {\n        // on connection with PeerServer and given a peer-id\n        this.myId = id\n        this.$peer.id = this.myId\n      })\n    }\n  },\n  watch: {\n    numPeers: function() { // when the num of peers changes, check for opponent and listen for connection close\n      this.receiveConnection()\n\n      this.searchForOpponent()\n\n      this.forEachActivePeer(dataConnection => {\n        dataConnection.on('close', () => {\n          alert('A player on your team has left')\n          dataConnection.close() // close conn?\n          delete this.connectedPeers[dataConnection.peer] // delete the peer from the set of connected users\n\n          // if this.connectedPeers becomes empty -> make a post request to delete the room or set it to inactive\n        })\n      })\n    },\n\n    opponentConnection: function() { // watch for connection change i.e. when we call .connect, it returns a dataconnection\n      this.receiveConnection()\n    },\n\n  },\n  methods: {\n    createRoom() {\n      // initiator\n      if (!this.$peer.open) {\n        // console.log('wot')\n        // if connection wasn't already established\n        // this line probably won't run since we establish a connection so early on\n        this.$peer.on('open', id => {\n          // console.log('GETTING ID')\n          // on connection with PeerServer and given a peer-id\n          this.myId = id\n          this.$peer.id = this.myId\n        })\n      }\n      // console.log(this.$peer.id)\n      // console.log(this.$peer)\n      this.myId = this.$peer.id // set peerId\n      this.host = true\n\n      var room = new Request('/api/room', {\n        // post the server and get the new code for the room\n        credentials: 'include',\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      })\n      fetch(room)\n        .then(res => {\n          if (res.ok) {\n            return res.json() // wait for response body and convert to json\n          } else {\n            throw new Error('invalid room')\n          }\n        })\n        .then(data => {\n          this.roomCode = data.roomCode\n\n          // when we receive room code, post our peerid to the room\n          var addPeer = new Request('/api/room/' + this.sanitizedRoomCode, {\n            credentials: 'include',\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              peerId: this.myId\n            })\n          })\n          fetch(addPeer)\n            .then(res => {\n              if (res.ok) {\n                return res.json() // wait for response body and convert to json\n              } else {\n                throw new Error('invalid room')\n              }\n            })\n            .then(data => { // room is successfully created\n              this.connectedPeers[this.myId] = null // add our own peerid to the list\n              this.numPeers = Object.keys(this.connectedPeers).length // update num users\n              // console.log(this.connectedPeers)\n            })\n            .catch(err => {\n              // console.log(err)\n              this.role = ''\n              this.status = ''\n              alert('Please try again')\n              return\n            })\n        })\n        .catch(err => {\n          // console.log(err)\n          this.role = ''\n          this.status = ''\n          // this.$router.replace('/')\n          alert('Please try again')\n          return\n        })\n\n      this.receiveConnection()\n      // set status\n      this.role = 'guesser'\n      this.status = 'inRoom'\n    },\n\n    // does each joining player also have to wait for conns?\n    joinRoom() {\n      // again, this probably won't run unless things are slow\n      if (!this.$peer.on) {\n        this.$peer.on('open', id => {\n          // on connection with PeerServer and given a peer-id\n          this.myId = id\n          this.$peer.id = this.myId\n        })\n      }\n      this.myId = this.$peer.id\n\n      var room = new Request('/api/room/' + this.sanitizedRoomCode, {\n        // check roomCode is valid via get request,\n        credentials: 'include',\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      })\n      fetch(room)\n        .then(res => {\n          if (res.ok) {\n            return res.json()\n          } else {\n            throw new Error('invalid room')\n          }\n        })\n        .then(data => {\n          if (data != null) {\n            // console.log(this.myId)\n            var addPeer = new Request('/api/room/' + this.sanitizedRoomCode, {\n              // post my peer id to the room db\n              credentials: 'include',\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                peerId: this.myId\n              })\n            })\n            fetch(addPeer)\n              .then(res => {\n                if (res.ok) {\n                  return res.json()\n                } else {\n                  throw new Error('invalid room')\n                }\n              })\n              .then(data => {\n                // body.peers is the list of users in this room\n                // console.log('my peers are ' + data.peers)\n                data.peers.forEach(peerId => {\n                  // for each unconnected, peer, connect with them\n                  if (!this.connectedPeers[peerId] && peerId !== this.myId) {\n                    // console.log('attempting to connect to each peer in the room ' + peerId)\n                    var dataConnection = this.$peer.connect(peerId, {\n                      // attempt to connect with peerid\n                      label: 'handshake'\n                    })\n                    console.log('join-room | creating a connection with: ', dataConnection)\n\n                    dataConnection.on('open', () => {\n                      console.log('connection established with ' + peerId)\n                      console.log(dataConnection)\n                      this.connect(dataConnection) // when connected to a peer, increment the # of peers and handle connection\n                    })\n\n                    dataConnection.on('error', err => {\n                      // if connection failed\n                      // console.log(err)\n                      return\n                    })\n\n                    // this.connectedPeers[peerId] = dataConnection\n                  }\n                  this.connectedPeers[peerId] = dataConnection // store our own peerid, maybe set ours to null? and store role?\n                })\n                this.receiveConnection()\n                this.role = 'drawer'\n                this.status = 'inRoom'\n              })\n              .catch(err => {\n                console.log(err)\n                alert('You have entered an invalid game room')\n                this.roomCode = ''\n                return\n              })\n          }\n        })\n        .catch(err => {\n          console.log(err)\n          alert('You have entered an invalid game room')\n          this.roomCode = ''\n          return\n        })\n    },\n\n    connect(dataConnection) {\n      if (dataConnection.label === 'handshake') {\n        // handle connection from peer\n        // this.numPeers++\n        dataConnection.on('data', data => { // when data is received from the connection\n          // console.log('RECEIVE DATA FROM A PEER')\n          // console.log(data)\n          if (data.type === 'move-to-game-room') {\n            this.moveToGameRoom()\n          }\n\n          dataConnection.on('close', () => {\n            // when the connection is closed\n            alert('A player on your team has left')\n            // this.numPeers--\n            delete this.connectedPeers[dataConnection.peer] // delete the peer from the set of connected users\n          })\n        })\n        this.connectedPeers[dataConnection.peer] = dataConnection // store the connection and the peerid\n        this.numPeers = Object.keys(this.connectedPeers).length\n      } else if (dataConnection.label === 'opponent-handshake') {\n        // console.log('opponent-handshake')\n        this.opponentConnection = dataConnection // set the opponent connection\n        // console.log(this.opponentConnection)\n        dataConnection.on('data', data => { // when data is received from the connection\n          if (data.type === 'notify-opponent') { // if data was a move to room command\n            // console.log(data.type)\n            this.searchForOpponent() // get words and move to room\n          }\n\n          dataConnection.on('close', () => { // when the connection is closed\n            alert(\"The opposing team's host has left the game\")\n            this.opponentConnection = null\n          })\n        })\n      }\n    },\n\n    /**\n     * @description Applies a lambda function to each peer's set of connections\n     **/\n    forEachActivePeer(lambda) {\n      // console.log(this.connectedPeers)\n      Object.keys(this.connectedPeers).forEach((peerId, index) => { // for each connected peer\n        if (peerId !== this.myId) {\n          // console.log('sending to' + peerId)\n          this.$peer.connections[peerId].forEach(dataConnection => {\n            // for each connection the peer has, apply a function to the connection\n            lambda(dataConnection)\n          })\n        }\n      })\n    },\n\n    searchForOpponent() {\n      // // console.log(this.numPeers)\n      if (this.numPeers === 3) {\n        // if the room is ready to play\n        // host will attempt to find a room, if it finds one, it will broadcast to the connected peers\n        if (this.host) {\n          // set the game room to ready state and post to the server\n          var opponent = new Request(\n            '/api/room/' + this.sanitizedRoomCode + '/matchmake',\n            {\n              credentials: 'include',\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                status: 'ready'\n              })\n            }\n          )\n          fetch(opponent)\n            .then(res => {\n              if (res.ok) {\n                return res.json() // wait for response body and convert to json\n              } else {\n                throw new Error('invalid room')\n              }\n            })\n            .then(data => {\n              // console.log(data)\n              if (!data) { // no other rooms are ready in db, our added room to db and set the status to ready\n                // console.log('no rooms are available')\n                //// alert('no rooms are available')\n                //setTimeout(function() { // alert('no opponent team is available, please be patient!'); }, 1);\n                // this.searchForOpponent();\n\n                this.receiveConnection() // listen for connections made by the other team's host\n              } else { // found another ready room\n                var oppId = data.peers[0]\n                var words = new Request('/api/words', { // get the keywords\n                  credentials: 'include',\n                  method: 'POST',\n                  headers: {\n                    'Content-Type': 'application/json'\n                  },\n                  body: JSON.stringify({\n                    'usedwords': []\n                  })\n                })\n                fetch(words)\n                .then(res => {\n                  if (res.ok) {\n                    return res.json()\n                  } else {\n                    throw new Error('failed to retrieve words')\n                  }\n                })\n                .then(data => { // host gets keywords\n                  this.words = { type: 'words', data: data } // create data as object so we can identify what kind of data this is, in case we receive data async\n                  // set start timer and end timer in game room? (or in lobby.vue?)\n\n                  if (oppId !== this.myId) {\n                    // connect to host of the other team ONLY IF WE THE TEAM THAT INITIATED THE MATCH\n                    // console.log('SENDING OPPONENT HANDSHAKE TO INITIATE CONNECTION WITH THE OTHER TEAM')\n                    var dataConnection = this.$peer.connect(oppId, {\n                      // attempt to connect with peerid\n                      label: 'opponent-handshake'\n                    })\n                    console.log('creating a connection with: ', dataConnection)\n\n                    /* when opponent receives connection (i.e. .on('connection')), then the connection is fully\n                    established and should be bi-directional at this point */\n                    dataConnection.on('open', () => {\n                      // console.log(dataConnection)\n                      this.opponentConnection = dataConnection // save the connection only when it is open\n                      // // console.log(this.opponentConnection)\n                      // // console.log(\"connection opened with opponent\")\n                      // this.connect(dataConnection) // when connected to a peer, increment the # of peers and handle connection\n                      // console.log('SENDING OPPONENT NOTIFY DATA')\n                      this.opponentConnection.send({ type: 'notify-opponent', data: null }) // notify opponent to move\n\n                      this.forEachActivePeer(dataConnection => { // notify peers to move to room\n                        // console.log('sending move-to-game-room')\n                        dataConnection.send({ type: 'move-to-game-room', data: null })\n                      })\n\n                      this.moveToGameRoom()\n                    })\n\n                    dataConnection.on('error', err => { // if connection failed\n                      // console.log(err)\n                      return\n                    })\n                  } else { // db returns your own room b/c your room was set to ingame by another team\n                    this.forEachActivePeer(dataConnection => { // notify peers to move to room\n                      // console.log('sending move-to-game-room')\n                      dataConnection.send({ type: 'move-to-game-room', data: null })\n                    })\n\n                    this.moveToGameRoom()\n                  }\n\n                  // this.moveToGameRoom()\n                })\n                .catch(err => {\n                  // console.log(err)\n                })\n\n                // this.forEachActivePeer(dataConnection => { // notify peers to move to room\n                //   // console.log('sending move-to-game-room')\n                //   dataConnection.send({ type: 'move-to-game-room', data: null })\n                // })\n              }\n            })\n            .catch(err => {\n              console.log(err)\n              // alert(err)\n            })\n        }\n      }\n    },\n\n    moveToGameRoom() {\n      //setTimeout(function() { alert('MOVE TO GAME ROOM'); }, 1);\n      //alert('MOVING TO GAME ROOM')\n      // console.log('moving to game room')\n      // console.log(this.opponentConnection)\n      this.$router.replace({\n        name: 'Room',\n        params: {\n          // send game info and connection data to component\n          myId: this.myId,\n          role: this.role,\n          roomCode: this.sanitizedRoomCode, // route param\n          connectedPeers: this.connectedPeers, // pass dataconnections to room component\n          words: this.words, // send keywords to room component\n          startTime: this.startTime,\n          endTime: this.endTime,\n          opponentConnection: this.opponentConnection\n        }\n      })\n    },\n\n    /**\n     * When room creator receives connections\n     */\n    receiveConnection() { // each time we receive a connection from another peer, the .on event is triggered\n      this.$peer.on('connection', dataConnection => {\n        console.log('Received a connection by', dataConnection)\n        // on incoming connection with a remote peer\n        this.connect(dataConnection) // increment the # of peers and handle the connection\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n  p {\n    font-size: 20px;\n  }\n\n  .create {\n    margin-left: 10%;\n    align-self: center;\n    margin-top: 30px;\n    width: 80%;\n  }\n\n  button {\n    width: 200px;\n  }\n\n  .roomForm{\n    margin-top: 20px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Lobby.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\",\"id\":\"lobby\"}},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"./../../static/media/logo.png\")}}),_vm._v(\" \"),(_vm.status !== \"inRoom\")?_c('div',{staticClass:\"create\"},[_c('button',{staticClass:\"create-room\",on:{\"click\":_vm.createRoom}},[_vm._v(\"Create Room\")]),_vm._v(\" \"),_c('div',[_vm._v(\"OR\")]),_vm._v(\" \"),_c('form',{staticClass:\"roomForm\",on:{\"submit\":function($event){$event.preventDefault();return _vm.joinRoom($event)}}},[_c('v-text-field',{staticClass:\"form-input\",attrs:{\"type\":\"text\",\"label\":\"Enter room code\",\"name\":\"roomCode\",\"id\":\"roomCode\"},model:{value:(_vm.roomCode),callback:function ($$v) {_vm.roomCode=$$v},expression:\"roomCode\"}}),_vm._v(\" \"),_c('button',{staticClass:\"join-room\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Join Room\")])],1)]):_c('div',{staticClass:\"create\"},[_c('span',[_c('p',[_vm._v(\"Your peer id is \"+_vm._s(_vm.myId))]),_vm._v(\" \"),_c('p',[_vm._v(\"Your room code is \"+_vm._s(_vm.roomCode))]),_vm._v(\" \"),_c('p',[_vm._v(\"There are currently \"+_vm._s(_vm.numPlayers)+\" players in the room\")]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.searchForOpponent}},[_vm._v(\"Refresh\")])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e644498a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Lobby.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-e644498a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Lobby.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Lobby.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Lobby.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e644498a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Lobby.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-e644498a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Lobby.vue\n// module id = null\n// module chunks = ","<template>\n    <div :key=\"key\" id=\"game\">\n      <div id=\"myProgress\">\n        <div id=\"myBar\"></div>\n      </div>\n      <div id=\"result\">\n        <span v-on:click=\"backToLobby\" id=\"close\">&times;</span>\n        <div id=\"result_content\">\n\n          <p>Your team made {{ this.data.score }} correct guesses!</p>\n          <p>Hope to See U Again</p>\n        </div>\n      </div>\n      <div v-if=\"myRole === 'guesser'\" id=\"guesserContainer\">\n        <div class= \"canvas\" id=\"canvas1\"></div>\n        <div class= \"canvas\" id=\"canvas2\"></div>\n        <div class= \"guesser_area\">\n          <div id=\"infoBoard\">\n            <div class=\"score\">SCORE: {{ score }}</div>\n              <input type=\"text\" id=\"post_guess\" placeholder=\"TAKE A GUESS\" required/>\n              <button v-on:click=\"sendGuess\" class=\"btn\">Submit Guess</button>\n          </div>\n        </div>\n      </div>\n      <div v-else id=\"drawerContainer\">\n        <div id=\"keyword\">YOUR KEY WORD: {{ keyword }}</div>\n        <div class= \"canvas\" id=\"canvasMe\"></div>\n        <div v-on:click=\"toolDisplay\" id=\"tools\"></div>\n\n        <div class= \"canvas\" id=\"canvasPeer\"></div>\n        <div class=\"clear\">CLEAR</div>\n        <div id=\"infoBoard\">\n            <div>GUESSER'S ANSWER GUESS: {{ answer }}</div>\n            <div>SCORE: {{ this.data.score }}</div>\n        </div>\n      </div>\n      <div>\n        Room: {{ this.roomCode }}\n        <div>My role is {{ role }}</div>\n      </div>\n    </div>\n</template>\n\n<style src=\"../../static/style/drawer_canvas.css\"></style>\n<style src=\"../../static/style/guesser_canvas.css\"></style>\n\n\n<script>\nvar $ = require('jquery');\nwindow.jQuery = $;\nvar validator = require('validator');\n\n\nexport default {\n  name: 'Room',\n  props: ['myId', 'role', 'roomCode', 'connectedPeers', 'words', 'opponentConnection'],\n  data() {\n    return {\n      isRoom: true,\n      myRole:'',\n      tools: [\"black\", \"red\", \"blue\", \"yellow\", \"green\", \"eraser\"],\n      clickX: [],\n      clickY: [],\n      clickDrag: [],\n      paint: false,\n      color: \"black\",\n      coordinate_index: 0,\n      keyword: '',\n      score:0,\n      listening:0,\n      opponent_score:10,\n      word_index: 0,\n      data: {guesser:0, url:'', eraser:0, clear:0, keyword:'', wordIndex: 0, guess:'', score:0, next_guesser:'', word_list:[], opponent_score:null},\n      answer: '',\n      peer: [],\n      peerId: [],\n      time: 100,\n      //time: 40,\n      timer: '',\n      key:0,\n      word_list: '',\n      count: 0\n\n    }\n  },\n  created() {\n    if(this.connectedPeers == null){\n      this.$router.replace('/lobby');\n    }\n    this.myRole = this.role;\n    this.word_list = this.words;\n  },\n  mounted() {\n    // console.log(\"mounting\");\n    // console.log(this.opponentConnection)\n    // console.log('end of opponentConnection')\n    var peers = Object.keys(this.connectedPeers);\n    var peer = [];\n    // console.log(peers)\n    peers.forEach(id => {\n      if (id !== this.myId) {\n        this.peerId.push(id);\n        this.peer.push(this.connectedPeers[id]);\n      }\n    })\n    var peer1 = this.peer[0]\n    var peer2 = this.peer[1]\n\n    var game = this;\n    this.timer = setInterval(this.barMove, 1000);\n    if(game.myRole == \"drawer\"){\n      game.drawer_gameflow(peer1, peer2);\n    } else {\n      game.guesser_gameflow(peer1, peer2);\n\n    }\n\n    this.forEachActivePeer(dataConnection => { // check for clients closing connection\n      dataConnection.on('close', () => {\n        alert('A player on your team has left')\n        delete this.connectedPeers[dataConnection.peer] // delete the peer from the set of connected users\n        dataConnection.close() // close conn\n      })\n    })\n  },\n  methods:{\n    drawer_gameflow(peer1, peer2){\n      var game = this;\n      //var peer1 = this.peer[0];\n      //var peer2 = this.peer[1];\n      game.initCanvas(\"canvasMe\");\n      game.initCanvas(\"canvasPeer\");\n      for(var i = 0; i<game.tools.length; i++){\n        var tool_name = game.tools[i];\n        game.loadTools(tool_name);\n      }\n      var Me = document.querySelector(\"#canvasMe canvas\");\n      var Peer = document.querySelector(\"#canvasPeer canvas\");\n      if(typeof G_vmlCanvasManager != 'undefined') {\n         Me = G_vmlCanvasManager.initElement(Me);\n         Peer = G_vmlCanvasManager.initElement(Peer);\n       }\n       var p1 = Me.getContext(\"2d\");\n       var p2 = Peer.getContext(\"2d\");\n\n       $('#canvasMe').mousedown(function(e){\n         var mouseX = e.pageX - this.offsetLeft;\n         var mouseY = e.pageY - this.offsetTop;\n\n         game.paint = true;\n         game.addClick(e.pageX - this.offsetLeft, e.pageY - this.offsetTop);\n         game.draw(Me, peer1, peer2);\n       });\n\n       $('#canvasMe').mousemove(function(e){\n         if(game.paint){\n           game.addClick(e.pageX - this.offsetLeft, e.pageY - this.offsetTop, true);\n           game.draw(Me, peer1, peer2);\n         }\n       });\n\n       $('#canvasMe').mouseup(function(e){\n         game.paint = false;\n       });\n\n       $('#canvasMe').mouseleave(function(e){\n         game.paint = false;\n       });\n\n       document.querySelector(\".clear\").addEventListener(\"click\", function(){\n         p1.clearRect(0, 0, p1.canvas.width, p1.canvas.height);\n         game.coordinate_index = 0;\n         game.clickX = [];\n         game.clickY = [];\n         game.clickDrag = [];\n         var url = \"clear\";\n         game.data.clear = 1;\n         peer1.send(game.data);\n         peer2.send(game.data);\n         game.data.clear = 0;\n       });\n\n       game.receiveData(peer1, p2);\n       game.receiveData(peer2, p2);\n       if(game.role == \"guesser\" && game.listening == 0){\n         // console.log(\"game listening\"+game.listening);\n         game.receiveOpponentScore();\n         game.listening = 1;\n       }\n\n    },\n\n    guesser_gameflow(peer1, peer2){\n      var game = this;\n      //// console.log(this.word_list);\n      game.data.guesser = 1;\n      game.data.keyword = game.word_list.data[game.data.wordIndex].left_word;\n      peer1.send(game.data);\n      game.data.keyword = game.word_list.data[game.data.wordIndex].right_word;\n      peer2.send(game.data);\n      game.data.keyword = '';\n\n      game.initCanvas(\"canvas1\");\n      game.initCanvas(\"canvas2\");\n      var drawer1 = document.querySelector(\"#canvas1 canvas\");\n      var drawer2 = document.querySelector(\"#canvas2 canvas\");\n      if(typeof G_vmlCanvasManager != 'undefined') {\n         drawer1 = G_vmlCanvasManager.initElement(drawer1);\n         drawer2 = G_vmlCanvasManager.initElement(drawer2);\n       }\n       var p1 = drawer1.getContext(\"2d\");\n       var p2 = drawer2.getContext(\"2d\");\n       game.receiveData(peer1, p1);\n       game.receiveData(peer2, p2);\n       if(game.role == \"guesser\" && game.listening == 0){\n         game.receiveOpponentScore();\n         game.listening = 1;\n       }\n    },\n\n    barMove() {\n      var bar = document.getElementById(\"myBar\");\n      //// console.log(this.time);\n      if (this.time <= 0) {\n        bar.style.width = 0 + '%';\n        this.count += 1;\n        if(this.count == 5){\n          clearInterval(this.timer);\n          if(this.role == \"guesser\"){\n            this.opponentConnection.send(this.data.score);\n          }\n        } else {\n          if(this.myRole == \"guesser\"){\n            this.data.word_list = this.word_list;\n            this.data.wordIndex ++;\n            this.data.next_guesser = this.peerId[Math.floor((Math.random() * 2))];\n            this.peer[0].send(this.data);\n            this.peer[1].send(this.data);\n            this.data.guesser = 0;\n            this.data.next_guesser = '';\n            this.myRole = \"drawer\";\n            this.key++;\n            this.$mount(this.$el);\n            this.drawer_gameflow(this.peer[0], this.peer[1]);\n          }\n        }\n        this.time = 100;\n        //this.time = 100;\n      } else {\n        this.time -= (5/3);\n        bar.style.width = this.time + '%';\n      }\n    },\n\n\n    initCanvas(block){\n      var canvas_container = document.querySelector(\"#\"+block);\n      // console.log(canvas_container);\n      var canvas = document.createElement('canvas');\n\n      canvas.setAttribute('width', $('#'+ block).css(\"width\"));\n      canvas.setAttribute('height', $('#'+ block).css(\"height\"));\n      // console.log(block);\n      canvas_container.appendChild(canvas);\n\n    },\n\n    loadTools(tool_name){\n      var tools = document.getElementById(\"tools\");\n      //var tool = new Image();\n      var tool = document.createElement(\"img\");\n      tool.className = tool_name;\n      tool.src = require(\"../../static/media/\"+ tool_name + \".png\");\n      tool.style.marginBottom = \"15px\";\n      tools.appendChild(tool);\n      var toolElement = document.querySelector(\".\"+tool_name);\n      var game = this;\n      toolElement.addEventListener(\"click\", function(){\n        game.color = tool_name;\n        tool.style.marginLeft = \"20px\";\n      });\n\n    },\n\n    toolDisplay(){\n      for(var i = 0; i<this.tools.length; i++){\n        var tool_name = this.tools[i];\n        if(tool_name == this.color){\n          document.querySelector(\".\"+tool_name).style.marginLeft = \"20px\";\n        } else {\n          document.querySelector(\".\"+tool_name).style.marginLeft = \"0px\";\n        }\n      }\n    },\n\n    addClick(x, y, dragging){\n      this.clickX.push(x);\n      this.clickY.push(y);\n      this.clickDrag.push(dragging);\n    },\n\n    draw(myCanvas, peer1, peer2){\n      var context = myCanvas.getContext(\"2d\");\n      var url;\n      if(this.color == \"eraser\"){\n        context.globalCompositeOperation = \"destination-out\";\n        context.strokeStyle = \"white\";\n        context.lineWidth = 10;\n      } else {\n        context.globalCompositeOperation = \"source-over\";\n        context.strokeStyle = this.color;\n        context.lineWidth = 5;\n      }\n      context.lineJoin = \"round\";\n\n      for(var i=this.coordinate_index; i < this.clickX.length; i++) {\n        context.beginPath();\n        if(this.clickDrag[i] && i){\n          context.moveTo(this.clickX[i-1], this.clickY[i-1]);\n         }else{\n           context.moveTo(this.clickX[i]-1, this.clickY[i]);\n         }\n         context.lineTo(this.clickX[i], this.clickY[i]);\n         context.closePath();\n         context.stroke();\n         this.coordinate_index += 1;\n\n\n         if(this.color == \"eraser\"){\n           this.data.eraser = 1;\n           this.data.url = myCanvas.toDataURL();\n           peer1.send(this.data);\n           peer2.send(this.data);\n           this.data.eraser = 0;\n         } else {\n           this.data.url = myCanvas.toDataURL();\n           peer1.send(this.data);\n           peer2.send(this.data);\n         }\n\n      }\n    },\n\n    receiveData(conn, changeCanvas){\n      var game = this;\n      var img = new Image();\n      conn.on('data', function(data){\n        if(data.guesser){\n          // console.log(data.opponent_score);\n          if(data.opponent_score != null){\n            // console.log(\"receiving opponent score!!!!\" + data.opponent_score);\n            game.opponent_score = data.opponent_score;\n            game.displayResult();\n          } else {\n            if(data.next_guesser != ''){\n              // console.log(\"next guesser is \"+ data.next_guesser+ \" my id is \"+game.myId);\n              if(game.myId == data.next_guesser){\n                // console.log(\"i m next guesser\");\n                game.word_list = data.word_list;\n                game.data.wordIndex = data.wordIndex;\n                game.myRole = \"guesser\";\n                game.key ++;\n                game.$mount(game.$el);\n                game.guesser_gameflow(game.peer[0], game.peer[1]);\n              } else {\n                game.key++;\n                game.$mount(game.$el);\n                game.drawer_gameflow(game.peer[0], game.peer[1]);\n              }\n            }\n            if(data.keyword != ''){\n              game.keyword = data.keyword;\n              game.data.wordIndex = data.wordIndex;\n              if(game.score != data.score){\n                // console.log(\"score in is \"+ data.score);\n                game.score = data.score;\n                game.data.score = data.score;\n              }\n            }\n            if(data.guess != ''){\n              game.answer = data.guess;\n            }\n\n          }\n        } else {\n          if(data.clear){\n            changeCanvas.clearRect(0, 0, changeCanvas.canvas.width, changeCanvas.canvas.height);\n          } else if (data.eraser) {\n            img.src = data.url;\n            img.onload = function() {\n              changeCanvas.clearRect(0, 0, changeCanvas.canvas.width, changeCanvas.canvas.height);\n              changeCanvas.drawImage(img, 0, 0, changeCanvas.canvas.width, changeCanvas.canvas.height);\n            };\n          } else {\n            img.src = data.url;\n            img.onload = function() {\n                changeCanvas.drawImage(img, 0, 0, changeCanvas.canvas.width, changeCanvas.canvas.height);\n            };\n          }\n        }\n      });\n    },\n\n    sendGuess(){\n      this.answer = validator.escape(document.getElementById(\"post_guess\").value);\n      if(this.answer == this.word_list.data[this.data.wordIndex].compound_word){\n        document.getElementById(\"post_guess\").value = '';\n        //setTimeout(function() {alert(\"Your guess is correct!!!\"); }, 0);\n        this.data.guesser = 1;\n        this.score += 1;\n        this.data.score += 1;\n        this.data.guess = this.answer;\n        // console.log(this.word_list.data.length);\n        if(this.data.wordIndex < this.word_list.data.length - 1){\n          this.data.wordIndex ++;\n          this.data.keyword = this.word_list.data[this.data.wordIndex].left_word;\n          this.peer[0].send(this.data);\n          this.data.keyword = this.word_list.data[this.data.wordIndex].right_word;\n          this.peer[1].send(this.data);\n          this.data.keyword = '';\n        } else {\n          var old_words = [];\n          this.word_list.data.forEach(function(word){\n            old_words.push(word.compound_word);\n          });\n          this.getMoreWords(old_words);\n        }\n      } else {\n        document.getElementById(\"post_guess\").value = '';\n        this.data.guesser = 1;\n        this.data.guess = this.answer;\n        this.peer[0].send(this.data);\n        this.peer[1].send(this.data);\n        this.data.guess = '';\n      }\n    },\n\n    displayResult(){\n        // console.log(\"displaying result\");\n        var result = document.getElementById(\"result\");\n        // console.log(document.getElementById(\"ending\"));\n        if(document.getElementById(\"ending\") == null){\n          var element = document.createElement('div');\n          element.id = \"ending\";\n          // console.log(this.data.score, this.opponent_score);\n          if(this.data.score > this.opponent_score){\n            element.innerHTML = `<p>GAME END!\\nCongratuations! Your team won the game!!</p>`\n          } else if(this.data.score == this.opponent_score){\n            element.innerHTML = `<p>GAME END!\\nWell done! Your team made a tie!!</p>`\n          } else {\n            element.innerHTML = `<p>GAME END!\\nYour team lost the game....try next time!</p>`\n          }\n          document.getElementById(\"result_content\").prepend(element);\n        }\n        result.style.display = \"block\";\n        // console.log(\"my id is\" + this.myId + \"my opponent id is \" + this.opponentConnection);\n    },\n\n    receiveOpponentScore(){\n      var game = this;\n      // console.log(\"listening opponent score!\");\n      this.opponentConnection.on('data', function(data){\n          game.opponent_score = data;\n          // console.log(\"opponent score is \" + game.opponent_score);\n          game.data.opponent_score = game.opponent_score;\n          game.data.guesser = 1;\n          game.peer[0].send(game.data);\n          game.peer[1].send(game.data);\n          game.displayResult();\n      });\n\n    },\n\n    backToLobby(){\n      var result = document.getElementById(\"result\");\n      result.style.display = \"none\";\n      this.$router.go();\n    },\n\n//===============================================================================================================\n    getMoreWords(old_words){\n      //var game = this;\n      var words = new Request('/api/words', { // get the keywords\n        credentials: 'include',\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          'usedwords': old_words\n        })\n      })\n      fetch(words)\n      .then(res => {\n        if (res.ok) {\n          return res.json()\n        } else {\n          throw new Error('failed to retrieve words')\n        }\n      })\n      .then(data => {\n        // console.log(\"from database: \")\n        // console.log(data)\n        this.word_list = { type: 'words', data: data }\n        this.data.wordIndex = 0;\n        this.data.keyword = this.word_list.data[this.data.wordIndex].left_word;\n        this.peer[0].send(this.data);\n        this.data.keyword = this.word_list.data[this.data.wordIndex].right_word;\n        this.peer[1].send(this.data);\n        this.data.keyword = '';\n      })\n      .catch(err => {\n        // console.log(err)\n      })\n    },\n\n  //=====================================================================================================\n    /**\n     * @description Applies a lambda function to each peer's set of connections\n     **/\n    forEachActivePeer(lambda) {\n      Object.keys(this.connectedPeers).forEach((peerId, index) => { // for each connected peer\n        if (peerId !== this.myId) {\n          this.$peer.connections[peerId].forEach(dataConnection => {\n            // for each connection the peer has, apply a function to the connection\n            lambda(dataConnection)\n          })\n        }\n      })\n    },\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Room.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{key:_vm.key,attrs:{\"id\":\"game\"}},[_vm._m(0),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"result\"}},[_c('span',{attrs:{\"id\":\"close\"},on:{\"click\":_vm.backToLobby}},[_vm._v(\"×\")]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"result_content\"}},[_c('p',[_vm._v(\"Your team made \"+_vm._s(this.data.score)+\" correct guesses!\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Hope to See U Again\")])])]),_vm._v(\" \"),(_vm.myRole === 'guesser')?_c('div',{attrs:{\"id\":\"guesserContainer\"}},[_c('div',{staticClass:\"canvas\",attrs:{\"id\":\"canvas1\"}}),_vm._v(\" \"),_c('div',{staticClass:\"canvas\",attrs:{\"id\":\"canvas2\"}}),_vm._v(\" \"),_c('div',{staticClass:\"guesser_area\"},[_c('div',{attrs:{\"id\":\"infoBoard\"}},[_c('div',{staticClass:\"score\"},[_vm._v(\"SCORE: \"+_vm._s(_vm.score))]),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"text\",\"id\":\"post_guess\",\"placeholder\":\"TAKE A GUESS\",\"required\":\"\"}}),_vm._v(\" \"),_c('button',{staticClass:\"btn\",on:{\"click\":_vm.sendGuess}},[_vm._v(\"Submit Guess\")])])])]):_c('div',{attrs:{\"id\":\"drawerContainer\"}},[_c('div',{attrs:{\"id\":\"keyword\"}},[_vm._v(\"YOUR KEY WORD: \"+_vm._s(_vm.keyword))]),_vm._v(\" \"),_c('div',{staticClass:\"canvas\",attrs:{\"id\":\"canvasMe\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"tools\"},on:{\"click\":_vm.toolDisplay}}),_vm._v(\" \"),_c('div',{staticClass:\"canvas\",attrs:{\"id\":\"canvasPeer\"}}),_vm._v(\" \"),_c('div',{staticClass:\"clear\"},[_vm._v(\"CLEAR\")]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"infoBoard\"}},[_c('div',[_vm._v(\"GUESSER'S ANSWER GUESS: \"+_vm._s(_vm.answer))]),_vm._v(\" \"),_c('div',[_vm._v(\"SCORE: \"+_vm._s(this.data.score))])])]),_vm._v(\" \"),_c('div',[_vm._v(\"\\n    Room: \"+_vm._s(this.roomCode)+\"\\n    \"),_c('div',[_vm._v(\"My role is \"+_vm._s(_vm.role))])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"myProgress\"}},[_c('div',{attrs:{\"id\":\"myBar\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-006725d0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Room.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-006725d0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../static/style/drawer_canvas.css\")\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-006725d0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../static/style/guesser_canvas.css\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Room.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Room.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-006725d0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Room.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Room.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\",\"id\":\"home\"}},[_c('img',{staticClass:\"logo\",attrs:{\"src\":require(\"./../../static/media/logo.png\")}}),_vm._v(\" \"),_c('h1',[_vm._v(\"404 Not Found\")]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.home}},[_vm._v(\"Go to Home Page\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-31f51f6a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/NotFoundComponent.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-31f51f6a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NotFoundComponent.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NotFoundComponent.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./NotFoundComponent.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-31f51f6a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./NotFoundComponent.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-31f51f6a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/NotFoundComponent.vue\n// module id = null\n// module chunks = ","<template>\n  <v-container fluid id=\"home\">\n    <img class=\"logo\" src=\"./../../static/media/logo.png\">\n    <h1>404 Not Found</h1>\n    <button v-on:click=\"home\">Go to Home Page</button>\n  </v-container>\n</template>\n\n<script>\n    export default {\n        name: \"NotFoundComponent\",\n        methods: {\n          home() {\n            this.$router.push('/');\n          }\n        }\n    }\n</script>\n\n<style scoped>\nh1 {\n  font-size: 4em;\n}\n\nbutton {\n  width: 200px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/NotFoundComponent.vue","import Vue from 'vue'\nimport api from './../components/api'\nimport VueRouter from 'vue-router'\nimport Home from '@/components/Home'\nimport Lobby from '@/components/Lobby'\nimport Room from '@/components/Room'\nimport NotFoundComponent from '@/components/NotFoundComponent'\n\nVue.use(VueRouter);\n\nfunction requireAuth (req, res, next) {\n  if (!api.getCurrentUser()) {\n    console.log('CHECKING FOR CURRENT USER')\n    next({\n      path: '/'\n    })\n  } else {\n    next()\n  }\n}\n\nexport default new VueRouter({\n  mode: 'history',\n  routes: [\n    {\n      path: '/',\n      name: 'Home',\n      component: Home\n    },\n    {\n      // when url redirects to localhost:xxxx/lobby, display this component\n      path: '/lobby',\n      name: 'Lobby',\n      component: Lobby,\n      beforeEnter: requireAuth\n    },\n    {\n      path: '/room/:roomCode',\n      name: 'Room',\n      component: Room,\n      beforeEnter: requireAuth,\n      props: true\n    },\n    {\n      path: '*',\n      name: 'NotFoundComponent',\n      component: NotFoundComponent\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport Vuetify from 'vuetify'\nimport Peer from 'peerjs'\nimport App from './App'\nimport router from './router'\nimport 'jquery/dist/jquery.min.js'\nrequire('@/../node_modules/vuetify/dist/vuetify.min.css')\n// require('@/../src/components/vuetify.css')\n\nVue.use(Vuetify)\n\nVue.config.productionTip = false\n\nconst peer = new Peer({ host: 'drawalot-peerjs.herokuapp.com', port: 443, secure: true }) // establish connection with PeerServer, no need to wait for open because by the time we access it in the component, connection should be established\n\nVue.prototype.$peer = peer // define this.$peer so it can be used in all components\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","let api = (function(){\n  let module = {};\n\n  // using ajax\n  function send(method, url, data, callback){\n    let xhr = new XMLHttpRequest();\n\n    xhr.onload = function() {\n      // success!\n      if (xhr.status !== 200) {\n        callback(\"[\" + xhr.status + \"]\" + xhr.responseText, null);\n      } else {\n        callback(null, JSON.parse(xhr.responseText));\n      }\n    };\n\n    xhr.open(method, url, true);\n    if (!data) xhr.send();\n    else{\n      xhr.setRequestHeader('Content-Type', 'application/json');\n      xhr.send(JSON.stringify(data));\n    }\n  }\n\n  module.getCurrentUser = function () {\n    console.log('getCurrentUser')\n    let l = document.cookie.split(\"username=\");\n    console.log(l);\n    if (l.length > 1) return l[1];\n    return null;\n  };\n\n  // sign up as a new user\n  module.signup = function(username, password, callback){\n    send(\"POST\", \"/api/signup/\", {username: username, password: password}, callback);\n  };\n\n  // sign in with credentials\n  module.signin = function(username, password, callback){\n    send(\"POST\", \"/api/signin/\", {username: username, password: password}, callback);\n  };\n\n  // sign out of the session\n  module.signout = function(callback) {\n    send(\"GET\", '/api/signout/', callback);\n  };\n\n  // get all usernames (no pagination)\n  module.getUsernames = function(callback){\n    send(\"GET\", \"/api/usernames/\", null, callback);\n  };\n\n  // create game room\n  module.createGameRoom = function(callback){\n    send(\"POST\", \"/api/room/createroom/\", null, callback);\n  };\n\n  return module;\n})();\n\nexport default api\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/api.js","module.exports = __webpack_public_path__ + \"static/img/logo.6b4ed09.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/media/logo.png\n// module id = WyGl\n// module chunks = 1","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAlQTFRF3d3d////mGkoswi1CwAAACZJREFUeNpiYCAKMBIEIEVMBMCoolFFo4pGFQ2UImIKMSIAQIABAC3mCIUCx3laAAAAAElFTkSuQmCC\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/media/color-swatch-brown.png\n// module id = ZFrl\n// module chunks = 1","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/media/red.png\n// module id = aOdu\n// module chunks = 1","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/media/yellow.png\n// module id = bKhN\n// module chunks = 1","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF0AAAAuCAYAAABKxxWsAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAE2ElEQVR4Xu2buy8tURTG1xzvVyFe0ehEVAoKjyBRimg1tKISBYVSR6klEp1oJRIaRCJR0ar8AUJIvJ/3+nbmG2v2neMON3eOMzNfsrL3vI69f3tZe+195ji/3iWpIlXGLVNFqBR6DpRCz4Gc19dXL6ZnC++O4/hKSNdTfU3Ow8ODD/rb25sPPuBmMhlTassXsa12CeWqH8719bVH+N3rDXQNHg2D5SN4thEl249S94XXo5RzeXnpQX95eTFG+ADPxunGsswH2e0vKCgwxmPdl6j65JydnXnQn5+f5enpyQMP6ASvG4o6O/OTpWGyD7DCwkJjPGa/eO//Fv7CRwD/REdHR6ahhA776dCpbNCLioo8+Bo8pPvGetC57whPhoKezyopKZH6+noZHh6WycnJP6DDCF0D1qava/uOfOHl8fFR7u/vTfme1ZhQ09PT416Nh4qLi2VmZkZGR0cNdIIPgg7xPP9LaEH3hpVvIiV0AIfhuLOz01xDeXh4aOpx0MDAgCwuLnqeboPU2Ruu8T4YBupf4PtSRkykgK7Bd3R0uFfjp7a2NlldXfUAAhoMwHX2hmv8r8B/CksOln4WYplNvsURoQM2SzQsbqqtrZXz83P3KJyQSAA05gcaBwLwGYLCwM/wQRo+mB+OMo4C8OrqavconPr7+2V9fV1ub2/l7u7OmI4KmP/gtHqNwxBly7efjvwcH6CtubnZvRpPHR8fGy+FuBoHB8xnfX195rxWTU2NzM7OyuDgoM9RWWfch9dni/eJ32VkqCA4DY2qrKx0ayIXFxcyPT0t3d3dsru7azye3g+vx2DB4zFw9HhbKXQXug0fRt3c3Li1D11dXcn4+LgMDQ3JycmJAQ9juLHBa/iJh875i8BpGvpnOj09NYuuiYkJMxDweHo747utFLoLWXs7Lazgxfv7+9LV1SUrKys+6LaXQ4mHzlQvyMKqrq7OfA5ALywsyNjYmC+LsZV46EFCpsGMJowwuVZUVLhHIqWlpW4tWCn0AME7g2JxNuHe95W9GayRkRFZWloyg6ZTRq3EQwcwhIIg+4qqqqpkeXlZ5ubmvIkYIQrQbfCJh444jNUkJj/bwqqpqUkODg6kt7dXysrKTHgh9KAwlXjoGjLga/ubMIGura3J9va2iemw8vJyk/lo6La3Jx667eU45sImm7BiRV6+t7dndmEBmgYvt8OLrdTTLdgEni2mt7e3y87OjkxNTZlQQtiow8MBHIOiJ1EbfGI3vADmM2+2hV3J+fl5swDSgOnV3K9h1gIFeTnke8MLo6yBYx+htbXVvZpsYTeSK1WGEHo1gQNyNu/WSuSXGFRjY6Nsbm4aYPRSSufpBEvQGjifCwObSuzXdYjDW1tb5lskgCNACOAYdQGU12E6lMBwLy2sMohrNKZKekKh4BVxEWLyxsaGNDQ0mFDBiZATI0qmgEwDcU5nJgBPD/8KcChxr2CgP9gJBDgYw4SGCBEmjOc1ZNp3hKc86HEVPLSlpcV844Psg7BZMlTY0KnPzn1HeDIU9Hx9rQ5thLHd6AO9nB6ugUfRp9i+QKrbpttN8ISt+xJVf2L9qjTbqKGzJGwcQ1H2J/Y/CtBG+Poc74tSsf75i24n60Hnolb6Q68cKP3FdA6U+K3dXCiFngOl0COXyG9eJA+vmUmC9gAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/media/black.png\n// module id = iZrf\n// module chunks = 1","/*! peerjs build:0.3.13, development. Copyright(c) 2013 Michelle Bu <michelle@michellebu.com> */(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nmodule.exports.RTCSessionDescription = window.RTCSessionDescription ||\n\twindow.mozRTCSessionDescription;\nmodule.exports.RTCPeerConnection = window.RTCPeerConnection ||\n\twindow.mozRTCPeerConnection || window.webkitRTCPeerConnection;\nmodule.exports.RTCIceCandidate = window.RTCIceCandidate ||\n\twindow.mozRTCIceCandidate;\n\n},{}],2:[function(require,module,exports){\nvar util = require('./util');\nvar EventEmitter = require('eventemitter3');\nvar Negotiator = require('./negotiator');\nvar Reliable = require('reliable');\n\n/**\n * Wraps a DataChannel between two Peers.\n */\nfunction DataConnection(peer, provider, options) {\n  if (!(this instanceof DataConnection)) return new DataConnection(peer, provider, options);\n  EventEmitter.call(this);\n\n  this.options = util.extend({\n    serialization: 'binary',\n    reliable: false\n  }, options);\n\n  // Connection is not open yet.\n  this.open = false;\n  this.type = 'data';\n  this.peer = peer;\n  this.provider = provider;\n\n  this.id = this.options.connectionId || DataConnection._idPrefix + util.randomToken();\n\n  this.label = this.options.label || this.id;\n  this.metadata = this.options.metadata;\n  this.serialization = this.options.serialization;\n  this.reliable = this.options.reliable;\n\n  // Data channel buffering.\n  this._buffer = [];\n  this._buffering = false;\n  this.bufferSize = 0;\n\n  // For storing large data.\n  this._chunkedData = {};\n\n  if (this.options._payload) {\n    this._peerBrowser = this.options._payload.browser;\n  }\n\n  Negotiator.startConnection(\n    this,\n    this.options._payload || {\n      originator: true\n    }\n  );\n}\n\nutil.inherits(DataConnection, EventEmitter);\n\nDataConnection._idPrefix = 'dc_';\n\n/** Called by the Negotiator when the DataChannel is ready. */\nDataConnection.prototype.initialize = function(dc) {\n  this._dc = this.dataChannel = dc;\n  this._configureDataChannel();\n}\n\nDataConnection.prototype._configureDataChannel = function() {\n  var self = this;\n  if (util.supports.sctp) {\n    this._dc.binaryType = 'arraybuffer';\n  }\n  this._dc.onopen = function() {\n    util.log('Data channel connection success');\n    self.open = true;\n    self.emit('open');\n  }\n\n  // Use the Reliable shim for non Firefox browsers\n  if (!util.supports.sctp && this.reliable) {\n    this._reliable = new Reliable(this._dc, util.debug);\n  }\n\n  if (this._reliable) {\n    this._reliable.onmessage = function(msg) {\n      self.emit('data', msg);\n    };\n  } else {\n    this._dc.onmessage = function(e) {\n      self._handleDataMessage(e);\n    };\n  }\n  this._dc.onclose = function(e) {\n    util.log('DataChannel closed for:', self.peer);\n    self.close();\n  };\n}\n\n// Handles a DataChannel message.\nDataConnection.prototype._handleDataMessage = function(e) {\n  var self = this;\n  var data = e.data;\n  var datatype = data.constructor;\n  if (this.serialization === 'binary' || this.serialization === 'binary-utf8') {\n    if (datatype === Blob) {\n      // Datatype should never be blob\n      util.blobToArrayBuffer(data, function(ab) {\n        data = util.unpack(ab);\n        self.emit('data', data);\n      });\n      return;\n    } else if (datatype === ArrayBuffer) {\n      data = util.unpack(data);\n    } else if (datatype === String) {\n      // String fallback for binary data for browsers that don't support binary yet\n      var ab = util.binaryStringToArrayBuffer(data);\n      data = util.unpack(ab);\n    }\n  } else if (this.serialization === 'json') {\n    data = JSON.parse(data);\n  }\n\n  // Check if we've chunked--if so, piece things back together.\n  // We're guaranteed that this isn't 0.\n  if (data.__peerData) {\n    var id = data.__peerData;\n    var chunkInfo = this._chunkedData[id] || {data: [], count: 0, total: data.total};\n\n    chunkInfo.data[data.n] = data.data;\n    chunkInfo.count += 1;\n\n    if (chunkInfo.total === chunkInfo.count) {\n      // Clean up before making the recursive call to `_handleDataMessage`.\n      delete this._chunkedData[id];\n\n      // We've received all the chunks--time to construct the complete data.\n      data = new Blob(chunkInfo.data);\n      this._handleDataMessage({data: data});\n    }\n\n    this._chunkedData[id] = chunkInfo;\n    return;\n  }\n\n  this.emit('data', data);\n}\n\n/**\n * Exposed functionality for users.\n */\n\n/** Allows user to close connection. */\nDataConnection.prototype.close = function() {\n  if (!this.open) {\n    return;\n  }\n  this.open = false;\n  Negotiator.cleanup(this);\n  this.emit('close');\n}\n\n/** Allows user to send data. */\nDataConnection.prototype.send = function(data, chunked) {\n  if (!this.open) {\n    this.emit('error', new Error('Connection is not open. You should listen for the `open` event before sending messages.'));\n    return;\n  }\n  if (this._reliable) {\n    // Note: reliable shim sending will make it so that you cannot customize\n    // serialization.\n    this._reliable.send(data);\n    return;\n  }\n  var self = this;\n  if (this.serialization === 'json') {\n    this._bufferedSend(JSON.stringify(data));\n  } else if (this.serialization === 'binary' || this.serialization === 'binary-utf8') {\n    var blob = util.pack(data);\n\n    // For Chrome-Firefox interoperability, we need to make Firefox \"chunk\"\n    // the data it sends out.\n    var needsChunking = util.chunkedBrowsers[this._peerBrowser] || util.chunkedBrowsers[util.browser];\n    if (needsChunking && !chunked && blob.size > util.chunkedMTU) {\n      this._sendChunks(blob);\n      return;\n    }\n\n    // DataChannel currently only supports strings.\n    if (!util.supports.sctp) {\n      util.blobToBinaryString(blob, function(str) {\n        self._bufferedSend(str);\n      });\n    } else if (!util.supports.binaryBlob) {\n      // We only do this if we really need to (e.g. blobs are not supported),\n      // because this conversion is costly.\n      util.blobToArrayBuffer(blob, function(ab) {\n        self._bufferedSend(ab);\n      });\n    } else {\n      this._bufferedSend(blob);\n    }\n  } else {\n    this._bufferedSend(data);\n  }\n}\n\nDataConnection.prototype._bufferedSend = function(msg) {\n  if (this._buffering || !this._trySend(msg)) {\n    this._buffer.push(msg);\n    this.bufferSize = this._buffer.length;\n  }\n}\n\n// Returns true if the send succeeds.\nDataConnection.prototype._trySend = function(msg) {\n  try {\n    this._dc.send(msg);\n  } catch (e) {\n    this._buffering = true;\n\n    var self = this;\n    setTimeout(function() {\n      // Try again.\n      self._buffering = false;\n      self._tryBuffer();\n    }, 100);\n    return false;\n  }\n  return true;\n}\n\n// Try to send the first message in the buffer.\nDataConnection.prototype._tryBuffer = function() {\n  if (this._buffer.length === 0) {\n    return;\n  }\n\n  var msg = this._buffer[0];\n\n  if (this._trySend(msg)) {\n    this._buffer.shift();\n    this.bufferSize = this._buffer.length;\n    this._tryBuffer();\n  }\n}\n\nDataConnection.prototype._sendChunks = function(blob) {\n  var blobs = util.chunk(blob);\n  for (var i = 0, ii = blobs.length; i < ii; i += 1) {\n    var blob = blobs[i];\n    this.send(blob, true);\n  }\n}\n\nDataConnection.prototype.handleMessage = function(message) {\n  var payload = message.payload;\n\n  switch (message.type) {\n    case 'ANSWER':\n      this._peerBrowser = payload.browser;\n\n      // Forward to negotiator\n      Negotiator.handleSDP(message.type, this, payload.sdp);\n      break;\n    case 'CANDIDATE':\n      Negotiator.handleCandidate(this, payload.candidate);\n      break;\n    default:\n      util.warn('Unrecognized message type:', message.type, 'from peer:', this.peer);\n      break;\n  }\n}\n\nmodule.exports = DataConnection;\n\n},{\"./negotiator\":5,\"./util\":8,\"eventemitter3\":9,\"reliable\":12}],3:[function(require,module,exports){\nwindow.Socket = require('./socket');\nwindow.MediaConnection = require('./mediaconnection');\nwindow.DataConnection = require('./dataconnection');\nwindow.Peer = require('./peer');\nwindow.RTCPeerConnection = require('./adapter').RTCPeerConnection;\nwindow.RTCSessionDescription = require('./adapter').RTCSessionDescription;\nwindow.RTCIceCandidate = require('./adapter').RTCIceCandidate;\nwindow.Negotiator = require('./negotiator');\nwindow.util = require('./util');\nwindow.BinaryPack = require('js-binarypack');\n\n},{\"./adapter\":1,\"./dataconnection\":2,\"./mediaconnection\":4,\"./negotiator\":5,\"./peer\":6,\"./socket\":7,\"./util\":8,\"js-binarypack\":10}],4:[function(require,module,exports){\nvar util = require('./util');\nvar EventEmitter = require('eventemitter3');\nvar Negotiator = require('./negotiator');\n\n/**\n * Wraps the streaming interface between two Peers.\n */\nfunction MediaConnection(peer, provider, options) {\n  if (!(this instanceof MediaConnection)) return new MediaConnection(peer, provider, options);\n  EventEmitter.call(this);\n\n  this.options = util.extend({}, options);\n\n  this.open = false;\n  this.type = 'media';\n  this.peer = peer;\n  this.provider = provider;\n  this.metadata = this.options.metadata;\n  this.localStream = this.options._stream;\n\n  this.id = this.options.connectionId || MediaConnection._idPrefix + util.randomToken();\n  if (this.localStream) {\n    Negotiator.startConnection(\n      this,\n      {_stream: this.localStream, originator: true}\n    );\n  }\n};\n\nutil.inherits(MediaConnection, EventEmitter);\n\nMediaConnection._idPrefix = 'mc_';\n\nMediaConnection.prototype.addStream = function(remoteStream) {\n  util.log('Receiving stream', remoteStream);\n\n  this.remoteStream = remoteStream;\n  this.emit('stream', remoteStream); // Should we call this `open`?\n\n};\n\nMediaConnection.prototype.handleMessage = function(message) {\n  var payload = message.payload;\n\n  switch (message.type) {\n    case 'ANSWER':\n      // Forward to negotiator\n      Negotiator.handleSDP(message.type, this, payload.sdp);\n      this.open = true;\n      break;\n    case 'CANDIDATE':\n      Negotiator.handleCandidate(this, payload.candidate);\n      break;\n    default:\n      util.warn('Unrecognized message type:', message.type, 'from peer:', this.peer);\n      break;\n  }\n}\n\nMediaConnection.prototype.answer = function(stream) {\n  if (this.localStream) {\n    util.warn('Local stream already exists on this MediaConnection. Are you answering a call twice?');\n    return;\n  }\n\n  this.options._payload._stream = stream;\n\n  this.localStream = stream;\n  Negotiator.startConnection(\n    this,\n    this.options._payload\n  )\n  // Retrieve lost messages stored because PeerConnection not set up.\n  var messages = this.provider._getMessages(this.id);\n  for (var i = 0, ii = messages.length; i < ii; i += 1) {\n    this.handleMessage(messages[i]);\n  }\n  this.open = true;\n};\n\n/**\n * Exposed functionality for users.\n */\n\n/** Allows user to close connection. */\nMediaConnection.prototype.close = function() {\n  if (!this.open) {\n    return;\n  }\n  this.open = false;\n  Negotiator.cleanup(this);\n  this.emit('close')\n};\n\nmodule.exports = MediaConnection;\n\n},{\"./negotiator\":5,\"./util\":8,\"eventemitter3\":9}],5:[function(require,module,exports){\nvar util = require('./util');\nvar RTCPeerConnection = require('./adapter').RTCPeerConnection;\nvar RTCSessionDescription = require('./adapter').RTCSessionDescription;\nvar RTCIceCandidate = require('./adapter').RTCIceCandidate;\n\n/**\n * Manages all negotiations between Peers.\n */\nvar Negotiator = {\n  pcs: {\n    data: {},\n    media: {}\n  }, // type => {peerId: {pc_id: pc}}.\n  //providers: {}, // provider's id => providers (there may be multiple providers/client.\n  queue: [] // connections that are delayed due to a PC being in use.\n}\n\nNegotiator._idPrefix = 'pc_';\n\n/** Returns a PeerConnection object set up correctly (for data, media). */\nNegotiator.startConnection = function(connection, options) {\n  var pc = Negotiator._getPeerConnection(connection, options);\n\n  if (connection.type === 'media' && options._stream) {\n    // Add the stream.\n    pc.addStream(options._stream);\n  }\n\n  // Set the connection's PC.\n  connection.pc = connection.peerConnection = pc;\n  // What do we need to do now?\n  if (options.originator) {\n    if (connection.type === 'data') {\n      // Create the datachannel.\n      var config = {};\n      // Dropping reliable:false support, since it seems to be crashing\n      // Chrome.\n      /*if (util.supports.sctp && !options.reliable) {\n        // If we have canonical reliable support...\n        config = {maxRetransmits: 0};\n      }*/\n      // Fallback to ensure older browsers don't crash.\n      if (!util.supports.sctp) {\n        config = {reliable: options.reliable};\n      }\n      var dc = pc.createDataChannel(connection.label, config);\n      connection.initialize(dc);\n    }\n\n    if (!util.supports.onnegotiationneeded) {\n      Negotiator._makeOffer(connection);\n    }\n  } else {\n    Negotiator.handleSDP('OFFER', connection, options.sdp);\n  }\n}\n\nNegotiator._getPeerConnection = function(connection, options) {\n  if (!Negotiator.pcs[connection.type]) {\n    util.error(connection.type + ' is not a valid connection type. Maybe you overrode the `type` property somewhere.');\n  }\n\n  if (!Negotiator.pcs[connection.type][connection.peer]) {\n    Negotiator.pcs[connection.type][connection.peer] = {};\n  }\n  var peerConnections = Negotiator.pcs[connection.type][connection.peer];\n\n  var pc;\n  // Not multiplexing while FF and Chrome have not-great support for it.\n  /*if (options.multiplex) {\n    ids = Object.keys(peerConnections);\n    for (var i = 0, ii = ids.length; i < ii; i += 1) {\n      pc = peerConnections[ids[i]];\n      if (pc.signalingState === 'stable') {\n        break; // We can go ahead and use this PC.\n      }\n    }\n  } else */\n  if (options.pc) { // Simplest case: PC id already provided for us.\n    pc = Negotiator.pcs[connection.type][connection.peer][options.pc];\n  }\n\n  if (!pc || pc.signalingState !== 'stable') {\n    pc = Negotiator._startPeerConnection(connection);\n  }\n  return pc;\n}\n\n/*\nNegotiator._addProvider = function(provider) {\n  if ((!provider.id && !provider.disconnected) || !provider.socket.open) {\n    // Wait for provider to obtain an ID.\n    provider.on('open', function(id) {\n      Negotiator._addProvider(provider);\n    });\n  } else {\n    Negotiator.providers[provider.id] = provider;\n  }\n}*/\n\n\n/** Start a PC. */\nNegotiator._startPeerConnection = function(connection) {\n  util.log('Creating RTCPeerConnection.');\n\n  var id = Negotiator._idPrefix + util.randomToken();\n  var optional = {};\n\n  if (connection.type === 'data' && !util.supports.sctp) {\n    optional = {optional: [{RtpDataChannels: true}]};\n  } else if (connection.type === 'media') {\n    // Interop req for chrome.\n    optional = {optional: [{DtlsSrtpKeyAgreement: true}]};\n  }\n\n  var pc = new RTCPeerConnection(connection.provider.options.config, optional);\n  Negotiator.pcs[connection.type][connection.peer][id] = pc;\n\n  Negotiator._setupListeners(connection, pc, id);\n\n  return pc;\n}\n\n/** Set up various WebRTC listeners. */\nNegotiator._setupListeners = function(connection, pc, pc_id) {\n  var peerId = connection.peer;\n  var connectionId = connection.id;\n  var provider = connection.provider;\n\n  // ICE CANDIDATES.\n  util.log('Listening for ICE candidates.');\n  pc.onicecandidate = function(evt) {\n    if (evt.candidate) {\n      util.log('Received ICE candidates for:', connection.peer);\n      provider.socket.send({\n        type: 'CANDIDATE',\n        payload: {\n          candidate: evt.candidate,\n          type: connection.type,\n          connectionId: connection.id\n        },\n        dst: peerId\n      });\n    }\n  };\n\n  pc.oniceconnectionstatechange = function() {\n    switch (pc.iceConnectionState) {\n      case 'disconnected':\n      case 'failed':\n        util.log('iceConnectionState is disconnected, closing connections to ' + peerId);\n        connection.close();\n        break;\n      case 'completed':\n        pc.onicecandidate = util.noop;\n        break;\n    }\n  };\n\n  // Fallback for older Chrome impls.\n  pc.onicechange = pc.oniceconnectionstatechange;\n\n  // ONNEGOTIATIONNEEDED (Chrome)\n  util.log('Listening for `negotiationneeded`');\n  pc.onnegotiationneeded = function() {\n    util.log('`negotiationneeded` triggered');\n    if (pc.signalingState == 'stable') {\n      Negotiator._makeOffer(connection);\n    } else {\n      util.log('onnegotiationneeded triggered when not stable. Is another connection being established?');\n    }\n  };\n\n  // DATACONNECTION.\n  util.log('Listening for data channel');\n  // Fired between offer and answer, so options should already be saved\n  // in the options hash.\n  pc.ondatachannel = function(evt) {\n    util.log('Received data channel');\n    var dc = evt.channel;\n    var connection = provider.getConnection(peerId, connectionId);\n    connection.initialize(dc);\n  };\n\n  // MEDIACONNECTION.\n  util.log('Listening for remote stream');\n  pc.onaddstream = function(evt) {\n    util.log('Received remote stream');\n    var stream = evt.stream;\n    var connection = provider.getConnection(peerId, connectionId);\n    // 10/10/2014: looks like in Chrome 38, onaddstream is triggered after\n    // setting the remote description. Our connection object in these cases\n    // is actually a DATA connection, so addStream fails.\n    // TODO: This is hopefully just a temporary fix. We should try to\n    // understand why this is happening.\n    if (connection.type === 'media') {\n      connection.addStream(stream);\n    }\n  };\n}\n\nNegotiator.cleanup = function(connection) {\n  util.log('Cleaning up PeerConnection to ' + connection.peer);\n\n  var pc = connection.pc;\n\n  if (!!pc && (pc.readyState !== 'closed' || pc.signalingState !== 'closed')) {\n    pc.close();\n    connection.pc = null;\n  }\n}\n\nNegotiator._makeOffer = function(connection) {\n  var pc = connection.pc;\n  pc.createOffer(function(offer) {\n    util.log('Created offer.');\n\n    if (!util.supports.sctp && connection.type === 'data' && connection.reliable) {\n      offer.sdp = Reliable.higherBandwidthSDP(offer.sdp);\n    }\n\n    pc.setLocalDescription(offer, function() {\n      util.log('Set localDescription: offer', 'for:', connection.peer);\n      connection.provider.socket.send({\n        type: 'OFFER',\n        payload: {\n          sdp: offer,\n          type: connection.type,\n          label: connection.label,\n          connectionId: connection.id,\n          reliable: connection.reliable,\n          serialization: connection.serialization,\n          metadata: connection.metadata,\n          browser: util.browser\n        },\n        dst: connection.peer\n      });\n    }, function(err) {\n      connection.provider.emitError('webrtc', err);\n      util.log('Failed to setLocalDescription, ', err);\n    });\n  }, function(err) {\n    connection.provider.emitError('webrtc', err);\n    util.log('Failed to createOffer, ', err);\n  }, connection.options.constraints);\n}\n\nNegotiator._makeAnswer = function(connection) {\n  var pc = connection.pc;\n\n  pc.createAnswer(function(answer) {\n    util.log('Created answer.');\n\n    if (!util.supports.sctp && connection.type === 'data' && connection.reliable) {\n      answer.sdp = Reliable.higherBandwidthSDP(answer.sdp);\n    }\n\n    pc.setLocalDescription(answer, function() {\n      util.log('Set localDescription: answer', 'for:', connection.peer);\n      connection.provider.socket.send({\n        type: 'ANSWER',\n        payload: {\n          sdp: answer,\n          type: connection.type,\n          connectionId: connection.id,\n          browser: util.browser\n        },\n        dst: connection.peer\n      });\n    }, function(err) {\n      connection.provider.emitError('webrtc', err);\n      util.log('Failed to setLocalDescription, ', err);\n    });\n  }, function(err) {\n    connection.provider.emitError('webrtc', err);\n    util.log('Failed to create answer, ', err);\n  });\n}\n\n/** Handle an SDP. */\nNegotiator.handleSDP = function(type, connection, sdp) {\n  sdp = new RTCSessionDescription(sdp);\n  var pc = connection.pc;\n\n  util.log('Setting remote description', sdp);\n  pc.setRemoteDescription(sdp, function() {\n    util.log('Set remoteDescription:', type, 'for:', connection.peer);\n\n    if (type === 'OFFER') {\n      Negotiator._makeAnswer(connection);\n    }\n  }, function(err) {\n    connection.provider.emitError('webrtc', err);\n    util.log('Failed to setRemoteDescription, ', err);\n  });\n}\n\n/** Handle a candidate. */\nNegotiator.handleCandidate = function(connection, ice) {\n  var candidate = ice.candidate;\n  var sdpMLineIndex = ice.sdpMLineIndex;\n  connection.pc.addIceCandidate(new RTCIceCandidate({\n    sdpMLineIndex: sdpMLineIndex,\n    candidate: candidate\n  }));\n  util.log('Added ICE candidate for:', connection.peer);\n}\n\nmodule.exports = Negotiator;\n\n},{\"./adapter\":1,\"./util\":8}],6:[function(require,module,exports){\nvar util = require('./util');\nvar EventEmitter = require('eventemitter3');\nvar Socket = require('./socket');\nvar MediaConnection = require('./mediaconnection');\nvar DataConnection = require('./dataconnection');\n\n/**\n * A peer who can initiate connections with other peers.\n */\nfunction Peer(id, options) {\n  if (!(this instanceof Peer)) return new Peer(id, options);\n  EventEmitter.call(this);\n\n  // Deal with overloading\n  if (id && id.constructor == Object) {\n    options = id;\n    id = undefined;\n  } else if (id) {\n    // Ensure id is a string\n    id = id.toString();\n  }\n  //\n\n  // Configurize options\n  options = util.extend({\n    debug: 0, // 1: Errors, 2: Warnings, 3: All logs\n    host: util.CLOUD_HOST,\n    port: util.CLOUD_PORT,\n    key: 'peerjs',\n    path: '/',\n    token: util.randomToken(),\n    config: util.defaultConfig\n  }, options);\n  this.options = options;\n  // Detect relative URL host.\n  if (options.host === '/') {\n    options.host = window.location.hostname;\n  }\n  // Set path correctly.\n  if (options.path[0] !== '/') {\n    options.path = '/' + options.path;\n  }\n  if (options.path[options.path.length - 1] !== '/') {\n    options.path += '/';\n  }\n\n  // Set whether we use SSL to same as current host\n  if (options.secure === undefined && options.host !== util.CLOUD_HOST) {\n    options.secure = util.isSecure();\n  }\n  // Set a custom log function if present\n  if (options.logFunction) {\n    util.setLogFunction(options.logFunction);\n  }\n  util.setLogLevel(options.debug);\n  //\n\n  // Sanity checks\n  // Ensure WebRTC supported\n  if (!util.supports.audioVideo && !util.supports.data ) {\n    this._delayedAbort('browser-incompatible', 'The current browser does not support WebRTC');\n    return;\n  }\n  // Ensure alphanumeric id\n  if (!util.validateId(id)) {\n    this._delayedAbort('invalid-id', 'ID \"' + id + '\" is invalid');\n    return;\n  }\n  // Ensure valid key\n  if (!util.validateKey(options.key)) {\n    this._delayedAbort('invalid-key', 'API KEY \"' + options.key + '\" is invalid');\n    return;\n  }\n  // Ensure not using unsecure cloud server on SSL page\n  if (options.secure && options.host === '0.peerjs.com') {\n    this._delayedAbort('ssl-unavailable',\n      'The cloud server currently does not support HTTPS. Please run your own PeerServer to use HTTPS.');\n    return;\n  }\n  //\n\n  // States.\n  this.destroyed = false; // Connections have been killed\n  this.disconnected = false; // Connection to PeerServer killed but P2P connections still active\n  this.open = false; // Sockets and such are not yet open.\n  //\n\n  // References\n  this.connections = {}; // DataConnections for this peer.\n  this._lostMessages = {}; // src => [list of messages]\n  //\n\n  // Start the server connection\n  this._initializeServerConnection();\n  if (id) {\n    this._initialize(id);\n  } else {\n    this._retrieveId();\n  }\n  //\n}\n\nutil.inherits(Peer, EventEmitter);\n\n// Initialize the 'socket' (which is actually a mix of XHR streaming and\n// websockets.)\nPeer.prototype._initializeServerConnection = function() {\n  var self = this;\n  this.socket = new Socket(this.options.secure, this.options.host, this.options.port, this.options.path, this.options.key);\n  this.socket.on('message', function(data) {\n    self._handleMessage(data);\n  });\n  this.socket.on('error', function(error) {\n    self._abort('socket-error', error);\n  });\n  this.socket.on('disconnected', function() {\n    // If we haven't explicitly disconnected, emit error and disconnect.\n    if (!self.disconnected) {\n      self.emitError('network', 'Lost connection to server.');\n      self.disconnect();\n    }\n  });\n  this.socket.on('close', function() {\n    // If we haven't explicitly disconnected, emit error.\n    if (!self.disconnected) {\n      self._abort('socket-closed', 'Underlying socket is already closed.');\n    }\n  });\n};\n\n/** Get a unique ID from the server via XHR. */\nPeer.prototype._retrieveId = function(cb) {\n  var self = this;\n  var http = new XMLHttpRequest();\n  var protocol = this.options.secure ? 'https://' : 'http://';\n  var url = protocol + this.options.host + ':' + this.options.port +\n    this.options.path + this.options.key + '/id';\n  var queryString = '?ts=' + new Date().getTime() + '' + Math.random();\n  url += queryString;\n\n  // If there's no ID we need to wait for one before trying to init socket.\n  http.open('get', url, true);\n  http.onerror = function(e) {\n    util.error('Error retrieving ID', e);\n    var pathError = '';\n    if (self.options.path === '/' && self.options.host !== util.CLOUD_HOST) {\n      pathError = ' If you passed in a `path` to your self-hosted PeerServer, ' +\n        'you\\'ll also need to pass in that same path when creating a new ' +\n        'Peer.';\n    }\n    self._abort('server-error', 'Could not get an ID from the server.' + pathError);\n  };\n  http.onreadystatechange = function() {\n    if (http.readyState !== 4) {\n      return;\n    }\n    if (http.status !== 200) {\n      http.onerror();\n      return;\n    }\n    self._initialize(http.responseText);\n  };\n  http.send(null);\n};\n\n/** Initialize a connection with the server. */\nPeer.prototype._initialize = function(id) {\n  this.id = id;\n  this.socket.start(this.id, this.options.token);\n};\n\n/** Handles messages from the server. */\nPeer.prototype._handleMessage = function(message) {\n  var type = message.type;\n  var payload = message.payload;\n  var peer = message.src;\n  var connection;\n\n  switch (type) {\n    case 'OPEN': // The connection to the server is open.\n      this.emit('open', this.id);\n      this.open = true;\n      break;\n    case 'ERROR': // Server error.\n      this._abort('server-error', payload.msg);\n      break;\n    case 'ID-TAKEN': // The selected ID is taken.\n      this._abort('unavailable-id', 'ID `' + this.id + '` is taken');\n      break;\n    case 'INVALID-KEY': // The given API key cannot be found.\n      this._abort('invalid-key', 'API KEY \"' + this.options.key + '\" is invalid');\n      break;\n\n    //\n    case 'LEAVE': // Another peer has closed its connection to this peer.\n      util.log('Received leave message from', peer);\n      this._cleanupPeer(peer);\n      break;\n\n    case 'EXPIRE': // The offer sent to a peer has expired without response.\n      this.emitError('peer-unavailable', 'Could not connect to peer ' + peer);\n      break;\n    case 'OFFER': // we should consider switching this to CALL/CONNECT, but this is the least breaking option.\n      var connectionId = payload.connectionId;\n      connection = this.getConnection(peer, connectionId);\n\n      if (connection) {\n        util.warn('Offer received for existing Connection ID:', connectionId);\n        //connection.handleMessage(message);\n      } else {\n        // Create a new connection.\n        if (payload.type === 'media') {\n          connection = new MediaConnection(peer, this, {\n            connectionId: connectionId,\n            _payload: payload,\n            metadata: payload.metadata\n          });\n          this._addConnection(peer, connection);\n          this.emit('call', connection);\n        } else if (payload.type === 'data') {\n          connection = new DataConnection(peer, this, {\n            connectionId: connectionId,\n            _payload: payload,\n            metadata: payload.metadata,\n            label: payload.label,\n            serialization: payload.serialization,\n            reliable: payload.reliable\n          });\n          this._addConnection(peer, connection);\n          this.emit('connection', connection);\n        } else {\n          util.warn('Received malformed connection type:', payload.type);\n          return;\n        }\n        // Find messages.\n        var messages = this._getMessages(connectionId);\n        for (var i = 0, ii = messages.length; i < ii; i += 1) {\n          connection.handleMessage(messages[i]);\n        }\n      }\n      break;\n    default:\n      if (!payload) {\n        util.warn('You received a malformed message from ' + peer + ' of type ' + type);\n        return;\n      }\n\n      var id = payload.connectionId;\n      connection = this.getConnection(peer, id);\n\n      if (connection && connection.pc) {\n        // Pass it on.\n        connection.handleMessage(message);\n      } else if (id) {\n        // Store for possible later use\n        this._storeMessage(id, message);\n      } else {\n        util.warn('You received an unrecognized message:', message);\n      }\n      break;\n  }\n};\n\n/** Stores messages without a set up connection, to be claimed later. */\nPeer.prototype._storeMessage = function(connectionId, message) {\n  if (!this._lostMessages[connectionId]) {\n    this._lostMessages[connectionId] = [];\n  }\n  this._lostMessages[connectionId].push(message);\n};\n\n/** Retrieve messages from lost message store */\nPeer.prototype._getMessages = function(connectionId) {\n  var messages = this._lostMessages[connectionId];\n  if (messages) {\n    delete this._lostMessages[connectionId];\n    return messages;\n  } else {\n    return [];\n  }\n};\n\n/**\n * Returns a DataConnection to the specified peer. See documentation for a\n * complete list of options.\n */\nPeer.prototype.connect = function(peer, options) {\n  if (this.disconnected) {\n    util.warn('You cannot connect to a new Peer because you called ' +\n      '.disconnect() on this Peer and ended your connection with the ' +\n      'server. You can create a new Peer to reconnect, or call reconnect ' +\n      'on this peer if you believe its ID to still be available.');\n    this.emitError('disconnected', 'Cannot connect to new Peer after disconnecting from server.');\n    return;\n  }\n  var connection = new DataConnection(peer, this, options);\n  this._addConnection(peer, connection);\n  return connection;\n};\n\n/**\n * Returns a MediaConnection to the specified peer. See documentation for a\n * complete list of options.\n */\nPeer.prototype.call = function(peer, stream, options) {\n  if (this.disconnected) {\n    util.warn('You cannot connect to a new Peer because you called ' +\n      '.disconnect() on this Peer and ended your connection with the ' +\n      'server. You can create a new Peer to reconnect.');\n    this.emitError('disconnected', 'Cannot connect to new Peer after disconnecting from server.');\n    return;\n  }\n  if (!stream) {\n    util.error('To call a peer, you must provide a stream from your browser\\'s `getUserMedia`.');\n    return;\n  }\n  options = options || {};\n  options._stream = stream;\n  var call = new MediaConnection(peer, this, options);\n  this._addConnection(peer, call);\n  return call;\n};\n\n/** Add a data/media connection to this peer. */\nPeer.prototype._addConnection = function(peer, connection) {\n  if (!this.connections[peer]) {\n    this.connections[peer] = [];\n  }\n  this.connections[peer].push(connection);\n};\n\n/** Retrieve a data/media connection for this peer. */\nPeer.prototype.getConnection = function(peer, id) {\n  var connections = this.connections[peer];\n  if (!connections) {\n    return null;\n  }\n  for (var i = 0, ii = connections.length; i < ii; i++) {\n    if (connections[i].id === id) {\n      return connections[i];\n    }\n  }\n  return null;\n};\n\nPeer.prototype._delayedAbort = function(type, message) {\n  var self = this;\n  util.setZeroTimeout(function(){\n    self._abort(type, message);\n  });\n};\n\n/**\n * Destroys the Peer and emits an error message.\n * The Peer is not destroyed if it's in a disconnected state, in which case\n * it retains its disconnected state and its existing connections.\n */\nPeer.prototype._abort = function(type, message) {\n  util.error('Aborting!');\n  if (!this._lastServerId) {\n    this.destroy();\n  } else {\n    this.disconnect();\n  }\n  this.emitError(type, message);\n};\n\n/** Emits a typed error message. */\nPeer.prototype.emitError = function(type, err) {\n  util.error('Error:', err);\n  if (typeof err === 'string') {\n    err = new Error(err);\n  }\n  err.type = type;\n  this.emit('error', err);\n};\n\n/**\n * Destroys the Peer: closes all active connections as well as the connection\n *  to the server.\n * Warning: The peer can no longer create or accept connections after being\n *  destroyed.\n */\nPeer.prototype.destroy = function() {\n  if (!this.destroyed) {\n    this._cleanup();\n    this.disconnect();\n    this.destroyed = true;\n  }\n};\n\n\n/** Disconnects every connection on this peer. */\nPeer.prototype._cleanup = function() {\n  if (this.connections) {\n    var peers = Object.keys(this.connections);\n    for (var i = 0, ii = peers.length; i < ii; i++) {\n      this._cleanupPeer(peers[i]);\n    }\n  }\n  this.emit('close');\n};\n\n/** Closes all connections to this peer. */\nPeer.prototype._cleanupPeer = function(peer) {\n  var connections = this.connections[peer];\n  for (var j = 0, jj = connections.length; j < jj; j += 1) {\n    connections[j].close();\n  }\n};\n\n/**\n * Disconnects the Peer's connection to the PeerServer. Does not close any\n *  active connections.\n * Warning: The peer can no longer create or accept connections after being\n *  disconnected. It also cannot reconnect to the server.\n */\nPeer.prototype.disconnect = function() {\n  var self = this;\n  util.setZeroTimeout(function(){\n    if (!self.disconnected) {\n      self.disconnected = true;\n      self.open = false;\n      if (self.socket) {\n        self.socket.close();\n      }\n      self.emit('disconnected', self.id);\n      self._lastServerId = self.id;\n      self.id = null;\n    }\n  });\n};\n\n/** Attempts to reconnect with the same ID. */\nPeer.prototype.reconnect = function() {\n  if (this.disconnected && !this.destroyed) {\n    util.log('Attempting reconnection to server with ID ' + this._lastServerId);\n    this.disconnected = false;\n    this._initializeServerConnection();\n    this._initialize(this._lastServerId);\n  } else if (this.destroyed) {\n    throw new Error('This peer cannot reconnect to the server. It has already been destroyed.');\n  } else if (!this.disconnected && !this.open) {\n    // Do nothing. We're still connecting the first time.\n    util.error('In a hurry? We\\'re still trying to make the initial connection!');\n  } else {\n    throw new Error('Peer ' + this.id + ' cannot reconnect because it is not disconnected from the server!');\n  }\n};\n\n/**\n * Get a list of available peer IDs. If you're running your own server, you'll\n * want to set allow_discovery: true in the PeerServer options. If you're using\n * the cloud server, email team@peerjs.com to get the functionality enabled for\n * your key.\n */\nPeer.prototype.listAllPeers = function(cb) {\n  cb = cb || function() {};\n  var self = this;\n  var http = new XMLHttpRequest();\n  var protocol = this.options.secure ? 'https://' : 'http://';\n  var url = protocol + this.options.host + ':' + this.options.port +\n    this.options.path + this.options.key + '/peers';\n  var queryString = '?ts=' + new Date().getTime() + '' + Math.random();\n  url += queryString;\n\n  // If there's no ID we need to wait for one before trying to init socket.\n  http.open('get', url, true);\n  http.onerror = function(e) {\n    self._abort('server-error', 'Could not get peers from the server.');\n    cb([]);\n  };\n  http.onreadystatechange = function() {\n    if (http.readyState !== 4) {\n      return;\n    }\n    if (http.status === 401) {\n      var helpfulError = '';\n      if (self.options.host !== util.CLOUD_HOST) {\n        helpfulError = 'It looks like you\\'re using the cloud server. You can email ' +\n          'team@peerjs.com to enable peer listing for your API key.';\n      } else {\n        helpfulError = 'You need to enable `allow_discovery` on your self-hosted ' +\n          'PeerServer to use this feature.';\n      }\n      cb([]);\n      throw new Error('It doesn\\'t look like you have permission to list peers IDs. ' + helpfulError);\n    } else if (http.status !== 200) {\n      cb([]);\n    } else {\n      cb(JSON.parse(http.responseText));\n    }\n  };\n  http.send(null);\n};\n\nmodule.exports = Peer;\n\n},{\"./dataconnection\":2,\"./mediaconnection\":4,\"./socket\":7,\"./util\":8,\"eventemitter3\":9}],7:[function(require,module,exports){\nvar util = require('./util');\nvar EventEmitter = require('eventemitter3');\n\n/**\n * An abstraction on top of WebSockets and XHR streaming to provide fastest\n * possible connection for peers.\n */\nfunction Socket(secure, host, port, path, key) {\n  if (!(this instanceof Socket)) return new Socket(secure, host, port, path, key);\n\n  EventEmitter.call(this);\n\n  // Disconnected manually.\n  this.disconnected = false;\n  this._queue = [];\n\n  var httpProtocol = secure ? 'https://' : 'http://';\n  var wsProtocol = secure ? 'wss://' : 'ws://';\n  this._httpUrl = httpProtocol + host + ':' + port + path + key;\n  this._wsUrl = wsProtocol + host + ':' + port + path + 'peerjs?key=' + key;\n}\n\nutil.inherits(Socket, EventEmitter);\n\n\n/** Check in with ID or get one from server. */\nSocket.prototype.start = function(id, token) {\n  this.id = id;\n\n  this._httpUrl += '/' + id + '/' + token;\n  this._wsUrl += '&id=' + id + '&token=' + token;\n\n  this._startXhrStream();\n  this._startWebSocket();\n}\n\n\n/** Start up websocket communications. */\nSocket.prototype._startWebSocket = function(id) {\n  var self = this;\n\n  if (this._socket) {\n    return;\n  }\n\n  this._socket = new WebSocket(this._wsUrl);\n\n  this._socket.onmessage = function(event) {\n    try {\n      var data = JSON.parse(event.data);\n    } catch(e) {\n      util.log('Invalid server message', event.data);\n      return;\n    }\n    self.emit('message', data);\n  };\n\n  this._socket.onclose = function(event) {\n    util.log('Socket closed.');\n    self.disconnected = true;\n    self.emit('disconnected');\n  };\n\n  // Take care of the queue of connections if necessary and make sure Peer knows\n  // socket is open.\n  this._socket.onopen = function() {\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n      setTimeout(function(){\n        self._http.abort();\n        self._http = null;\n      }, 5000);\n    }\n    self._sendQueuedMessages();\n    util.log('Socket open');\n  };\n}\n\n/** Start XHR streaming. */\nSocket.prototype._startXhrStream = function(n) {\n  try {\n    var self = this;\n    this._http = new XMLHttpRequest();\n    this._http._index = 1;\n    this._http._streamIndex = n || 0;\n    this._http.open('post', this._httpUrl + '/id?i=' + this._http._streamIndex, true);\n    this._http.onerror = function() {\n      // If we get an error, likely something went wrong.\n      // Stop streaming.\n      clearTimeout(self._timeout);\n      self.emit('disconnected');\n    }\n    this._http.onreadystatechange = function() {\n      if (this.readyState == 2 && this.old) {\n        this.old.abort();\n        delete this.old;\n      } else if (this.readyState > 2 && this.status === 200 && this.responseText) {\n        self._handleStream(this);\n      }\n    };\n    this._http.send(null);\n    this._setHTTPTimeout();\n  } catch(e) {\n    util.log('XMLHttpRequest not available; defaulting to WebSockets');\n  }\n}\n\n\n/** Handles onreadystatechange response as a stream. */\nSocket.prototype._handleStream = function(http) {\n  // 3 and 4 are loading/done state. All others are not relevant.\n  var messages = http.responseText.split('\\n');\n\n  // Check to see if anything needs to be processed on buffer.\n  if (http._buffer) {\n    while (http._buffer.length > 0) {\n      var index = http._buffer.shift();\n      var bufferedMessage = messages[index];\n      try {\n        bufferedMessage = JSON.parse(bufferedMessage);\n      } catch(e) {\n        http._buffer.shift(index);\n        break;\n      }\n      this.emit('message', bufferedMessage);\n    }\n  }\n\n  var message = messages[http._index];\n  if (message) {\n    http._index += 1;\n    // Buffering--this message is incomplete and we'll get to it next time.\n    // This checks if the httpResponse ended in a `\\n`, in which case the last\n    // element of messages should be the empty string.\n    if (http._index === messages.length) {\n      if (!http._buffer) {\n        http._buffer = [];\n      }\n      http._buffer.push(http._index - 1);\n    } else {\n      try {\n        message = JSON.parse(message);\n      } catch(e) {\n        util.log('Invalid server message', message);\n        return;\n      }\n      this.emit('message', message);\n    }\n  }\n}\n\nSocket.prototype._setHTTPTimeout = function() {\n  var self = this;\n  this._timeout = setTimeout(function() {\n    var old = self._http;\n    if (!self._wsOpen()) {\n      self._startXhrStream(old._streamIndex + 1);\n      self._http.old = old;\n    } else {\n      old.abort();\n    }\n  }, 25000);\n}\n\n/** Is the websocket currently open? */\nSocket.prototype._wsOpen = function() {\n  return this._socket && this._socket.readyState == 1;\n}\n\n/** Send queued messages. */\nSocket.prototype._sendQueuedMessages = function() {\n  for (var i = 0, ii = this._queue.length; i < ii; i += 1) {\n    this.send(this._queue[i]);\n  }\n}\n\n/** Exposed send for DC & Peer. */\nSocket.prototype.send = function(data) {\n  if (this.disconnected) {\n    return;\n  }\n\n  // If we didn't get an ID yet, we can't yet send anything so we should queue\n  // up these messages.\n  if (!this.id) {\n    this._queue.push(data);\n    return;\n  }\n\n  if (!data.type) {\n    this.emit('error', 'Invalid message');\n    return;\n  }\n\n  var message = JSON.stringify(data);\n  if (this._wsOpen()) {\n    this._socket.send(message);\n  } else {\n    var http = new XMLHttpRequest();\n    var url = this._httpUrl + '/' + data.type.toLowerCase();\n    http.open('post', url, true);\n    http.setRequestHeader('Content-Type', 'application/json');\n    http.send(message);\n  }\n}\n\nSocket.prototype.close = function() {\n  if (!this.disconnected && this._wsOpen()) {\n    this._socket.close();\n    this.disconnected = true;\n  }\n}\n\nmodule.exports = Socket;\n\n},{\"./util\":8,\"eventemitter3\":9}],8:[function(require,module,exports){\nvar defaultConfig = {'iceServers': [{ 'url': 'stun:stun.l.google.com:19302' }]};\nvar dataCount = 1;\n\nvar BinaryPack = require('js-binarypack');\nvar RTCPeerConnection = require('./adapter').RTCPeerConnection;\n\nvar util = {\n  noop: function() {},\n\n  CLOUD_HOST: '0.peerjs.com',\n  CLOUD_PORT: 9000,\n\n  // Browsers that need chunking:\n  chunkedBrowsers: {'Chrome': 1},\n  chunkedMTU: 16300, // The original 60000 bytes setting does not work when sending data from Firefox to Chrome, which is \"cut off\" after 16384 bytes and delivered individually.\n\n  // Logging logic\n  logLevel: 0,\n  setLogLevel: function(level) {\n    var debugLevel = parseInt(level, 10);\n    if (!isNaN(parseInt(level, 10))) {\n      util.logLevel = debugLevel;\n    } else {\n      // If they are using truthy/falsy values for debug\n      util.logLevel = level ? 3 : 0;\n    }\n    util.log = util.warn = util.error = util.noop;\n    if (util.logLevel > 0) {\n      util.error = util._printWith('ERROR');\n    }\n    if (util.logLevel > 1) {\n      util.warn = util._printWith('WARNING');\n    }\n    if (util.logLevel > 2) {\n      util.log = util._print;\n    }\n  },\n  setLogFunction: function(fn) {\n    if (fn.constructor !== Function) {\n      util.warn('The log function you passed in is not a function. Defaulting to regular logs.');\n    } else {\n      util._print = fn;\n    }\n  },\n\n  _printWith: function(prefix) {\n    return function() {\n      var copy = Array.prototype.slice.call(arguments);\n      copy.unshift(prefix);\n      util._print.apply(util, copy);\n    };\n  },\n  _print: function () {\n    var err = false;\n    var copy = Array.prototype.slice.call(arguments);\n    copy.unshift('PeerJS: ');\n    for (var i = 0, l = copy.length; i < l; i++){\n      if (copy[i] instanceof Error) {\n        copy[i] = '(' + copy[i].name + ') ' + copy[i].message;\n        err = true;\n      }\n    }\n    err ? console.error.apply(console, copy) : console.log.apply(console, copy);\n  },\n  //\n\n  // Returns browser-agnostic default config\n  defaultConfig: defaultConfig,\n  //\n\n  // Returns the current browser.\n  browser: (function() {\n    if (window.mozRTCPeerConnection) {\n      return 'Firefox';\n    } else if (window.webkitRTCPeerConnection) {\n      return 'Chrome';\n    } else if (window.RTCPeerConnection) {\n      return 'Supported';\n    } else {\n      return 'Unsupported';\n    }\n  })(),\n  //\n\n  // Lists which features are supported\n  supports: (function() {\n    if (typeof RTCPeerConnection === 'undefined') {\n      return {};\n    }\n\n    var data = true;\n    var audioVideo = true;\n\n    var binaryBlob = false;\n    var sctp = false;\n    var onnegotiationneeded = !!window.webkitRTCPeerConnection;\n\n    var pc, dc;\n    try {\n      pc = new RTCPeerConnection(defaultConfig, {optional: [{RtpDataChannels: true}]});\n    } catch (e) {\n      data = false;\n      audioVideo = false;\n    }\n\n    if (data) {\n      try {\n        dc = pc.createDataChannel('_PEERJSTEST');\n      } catch (e) {\n        data = false;\n      }\n    }\n\n    if (data) {\n      // Binary test\n      try {\n        dc.binaryType = 'blob';\n        binaryBlob = true;\n      } catch (e) {\n      }\n\n      // Reliable test.\n      // Unfortunately Chrome is a bit unreliable about whether or not they\n      // support reliable.\n      var reliablePC = new RTCPeerConnection(defaultConfig, {});\n      try {\n        var reliableDC = reliablePC.createDataChannel('_PEERJSRELIABLETEST', {});\n        sctp = reliableDC.reliable;\n      } catch (e) {\n      }\n      reliablePC.close();\n    }\n\n    // FIXME: not really the best check...\n    if (audioVideo) {\n      audioVideo = !!pc.addStream;\n    }\n\n    // FIXME: this is not great because in theory it doesn't work for\n    // av-only browsers (?).\n    if (!onnegotiationneeded && data) {\n      // sync default check.\n      var negotiationPC = new RTCPeerConnection(defaultConfig, {optional: [{RtpDataChannels: true}]});\n      negotiationPC.onnegotiationneeded = function() {\n        onnegotiationneeded = true;\n        // async check.\n        if (util && util.supports) {\n          util.supports.onnegotiationneeded = true;\n        }\n      };\n      negotiationPC.createDataChannel('_PEERJSNEGOTIATIONTEST');\n\n      setTimeout(function() {\n        negotiationPC.close();\n      }, 1000);\n    }\n\n    if (pc) {\n      pc.close();\n    }\n\n    return {\n      audioVideo: audioVideo,\n      data: data,\n      binaryBlob: binaryBlob,\n      binary: sctp, // deprecated; sctp implies binary support.\n      reliable: sctp, // deprecated; sctp implies reliable data.\n      sctp: sctp,\n      onnegotiationneeded: onnegotiationneeded\n    };\n  }()),\n  //\n\n  // Ensure alphanumeric ids\n  validateId: function(id) {\n    // Allow empty ids\n    return !id || /^[A-Za-z0-9_-]+(?:[ _-][A-Za-z0-9]+)*$/.exec(id);\n  },\n\n  validateKey: function(key) {\n    // Allow empty keys\n    return !key || /^[A-Za-z0-9_-]+(?:[ _-][A-Za-z0-9]+)*$/.exec(key);\n  },\n\n\n  debug: false,\n\n  inherits: function(ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  },\n  extend: function(dest, source) {\n    for(var key in source) {\n      if(source.hasOwnProperty(key)) {\n        dest[key] = source[key];\n      }\n    }\n    return dest;\n  },\n  pack: BinaryPack.pack,\n  unpack: BinaryPack.unpack,\n\n  log: function () {\n    if (util.debug) {\n      var err = false;\n      var copy = Array.prototype.slice.call(arguments);\n      copy.unshift('PeerJS: ');\n      for (var i = 0, l = copy.length; i < l; i++){\n        if (copy[i] instanceof Error) {\n          copy[i] = '(' + copy[i].name + ') ' + copy[i].message;\n          err = true;\n        }\n      }\n      err ? console.error.apply(console, copy) : console.log.apply(console, copy);\n    }\n  },\n\n  setZeroTimeout: (function(global) {\n    var timeouts = [];\n    var messageName = 'zero-timeout-message';\n\n    // Like setTimeout, but only takes a function argument.\t There's\n    // no time argument (always zero) and no arguments (you have to\n    // use a closure).\n    function setZeroTimeoutPostMessage(fn) {\n      timeouts.push(fn);\n      global.postMessage(messageName, '*');\n    }\n\n    function handleMessage(event) {\n      if (event.source == global && event.data == messageName) {\n        if (event.stopPropagation) {\n          event.stopPropagation();\n        }\n        if (timeouts.length) {\n          timeouts.shift()();\n        }\n      }\n    }\n    if (global.addEventListener) {\n      global.addEventListener('message', handleMessage, true);\n    } else if (global.attachEvent) {\n      global.attachEvent('onmessage', handleMessage);\n    }\n    return setZeroTimeoutPostMessage;\n  }(window)),\n\n  // Binary stuff\n\n  // chunks a blob.\n  chunk: function(bl) {\n    var chunks = [];\n    var size = bl.size;\n    var start = 0;\n\t\tvar index = 0;\n    var total = Math.ceil(size / util.chunkedMTU);\n    while (start < size) {\n      var end = Math.min(size, start + util.chunkedMTU);\n      var b = bl.slice(start, end);\n\n      var chunk = {\n        __peerData: dataCount,\n        n: index,\n        data: b,\n        total: total\n      };\n\n      chunks.push(chunk);\n\n      start = end;\n      index += 1;\n    }\n    dataCount += 1;\n    return chunks;\n  },\n\n  blobToArrayBuffer: function(blob, cb){\n    var fr = new FileReader();\n    fr.onload = function(evt) {\n      cb(evt.target.result);\n    };\n    fr.readAsArrayBuffer(blob);\n  },\n  blobToBinaryString: function(blob, cb){\n    var fr = new FileReader();\n    fr.onload = function(evt) {\n      cb(evt.target.result);\n    };\n    fr.readAsBinaryString(blob);\n  },\n  binaryStringToArrayBuffer: function(binary) {\n    var byteArray = new Uint8Array(binary.length);\n    for (var i = 0; i < binary.length; i++) {\n      byteArray[i] = binary.charCodeAt(i) & 0xff;\n    }\n    return byteArray.buffer;\n  },\n  randomToken: function () {\n    return Math.random().toString(36).substr(2);\n  },\n  //\n\n  isSecure: function() {\n    return location.protocol === 'https:';\n  }\n};\n\nmodule.exports = util;\n\n},{\"./adapter\":1,\"js-binarypack\":10}],9:[function(require,module,exports){\n'use strict';\n\n/**\n * Representation of a single EventEmitter function.\n *\n * @param {Function} fn Event handler to be called.\n * @param {Mixed} context Context for function execution.\n * @param {Boolean} once Only emit once\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal EventEmitter interface that is molded against the Node.js\n * EventEmitter interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() { /* Nothing to set */ }\n\n/**\n * Holds the assigned EventEmitters by name.\n *\n * @type {Object}\n * @private\n */\nEventEmitter.prototype._events = undefined;\n\n/**\n * Return a list of assigned event listeners.\n *\n * @param {String} event The events that should be listed.\n * @returns {Array}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  if (!this._events || !this._events[event]) return [];\n\n  for (var i = 0, l = this._events[event].length, ee = []; i < l; i++) {\n    ee.push(this._events[event][i].fn);\n  }\n\n  return ee;\n};\n\n/**\n * Emit an event to all registered event listeners.\n *\n * @param {String} event The name of the event.\n * @returns {Boolean} Indication if we've emitted an event.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  if (!this._events || !this._events[event]) return false;\n\n  var listeners = this._events[event]\n    , length = listeners.length\n    , len = arguments.length\n    , ee = listeners[0]\n    , args\n    , i, j;\n\n  if (1 === length) {\n    if (ee.once) this.removeListener(event, ee.fn, true);\n\n    switch (len) {\n      case 1: return ee.fn.call(ee.context), true;\n      case 2: return ee.fn.call(ee.context, a1), true;\n      case 3: return ee.fn.call(ee.context, a1, a2), true;\n      case 4: return ee.fn.call(ee.context, a1, a2, a3), true;\n      case 5: return ee.fn.call(ee.context, a1, a2, a3, a4), true;\n      case 6: return ee.fn.call(ee.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    ee.fn.apply(ee.context, args);\n  } else {\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Register a new EventListener for the given event.\n *\n * @param {String} event Name of the event.\n * @param {Functon} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  if (!this._events) this._events = {};\n  if (!this._events[event]) this._events[event] = [];\n  this._events[event].push(new EE( fn, context || this ));\n\n  return this;\n};\n\n/**\n * Add an EventListener that's only called once.\n *\n * @param {String} event Name of the event.\n * @param {Function} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  if (!this._events) this._events = {};\n  if (!this._events[event]) this._events[event] = [];\n  this._events[event].push(new EE(fn, context || this, true ));\n\n  return this;\n};\n\n/**\n * Remove event listeners.\n *\n * @param {String} event The event we want to remove.\n * @param {Function} fn The listener that we need to find.\n * @param {Boolean} once Only remove once listeners.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, once) {\n  if (!this._events || !this._events[event]) return this;\n\n  var listeners = this._events[event]\n    , events = [];\n\n  if (fn) for (var i = 0, length = listeners.length; i < length; i++) {\n    if (listeners[i].fn !== fn && listeners[i].once !== once) {\n      events.push(listeners[i]);\n    }\n  }\n\n  //\n  // Reset the array, or remove it completely if we have no more listeners.\n  //\n  if (events.length) this._events[event] = events;\n  else this._events[event] = null;\n\n  return this;\n};\n\n/**\n * Remove all listeners or only the listeners for the specified event.\n *\n * @param {String} event The event want to remove all listeners for.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  if (!this._events) return this;\n\n  if (event) this._events[event] = null;\n  else this._events = {};\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the module.\n//\nEventEmitter.EventEmitter = EventEmitter;\nEventEmitter.EventEmitter2 = EventEmitter;\nEventEmitter.EventEmitter3 = EventEmitter;\n\nif ('object' === typeof module && module.exports) {\n  module.exports = EventEmitter;\n}\n\n},{}],10:[function(require,module,exports){\nvar BufferBuilder = require('./bufferbuilder').BufferBuilder;\nvar binaryFeatures = require('./bufferbuilder').binaryFeatures;\n\nvar BinaryPack = {\n  unpack: function(data){\n    var unpacker = new Unpacker(data);\n    return unpacker.unpack();\n  },\n  pack: function(data){\n    var packer = new Packer();\n    packer.pack(data);\n    var buffer = packer.getBuffer();\n    return buffer;\n  }\n};\n\nmodule.exports = BinaryPack;\n\nfunction Unpacker (data){\n  // Data is ArrayBuffer\n  this.index = 0;\n  this.dataBuffer = data;\n  this.dataView = new Uint8Array(this.dataBuffer);\n  this.length = this.dataBuffer.byteLength;\n}\n\nUnpacker.prototype.unpack = function(){\n  var type = this.unpack_uint8();\n  if (type < 0x80){\n    var positive_fixnum = type;\n    return positive_fixnum;\n  } else if ((type ^ 0xe0) < 0x20){\n    var negative_fixnum = (type ^ 0xe0) - 0x20;\n    return negative_fixnum;\n  }\n  var size;\n  if ((size = type ^ 0xa0) <= 0x0f){\n    return this.unpack_raw(size);\n  } else if ((size = type ^ 0xb0) <= 0x0f){\n    return this.unpack_string(size);\n  } else if ((size = type ^ 0x90) <= 0x0f){\n    return this.unpack_array(size);\n  } else if ((size = type ^ 0x80) <= 0x0f){\n    return this.unpack_map(size);\n  }\n  switch(type){\n    case 0xc0:\n      return null;\n    case 0xc1:\n      return undefined;\n    case 0xc2:\n      return false;\n    case 0xc3:\n      return true;\n    case 0xca:\n      return this.unpack_float();\n    case 0xcb:\n      return this.unpack_double();\n    case 0xcc:\n      return this.unpack_uint8();\n    case 0xcd:\n      return this.unpack_uint16();\n    case 0xce:\n      return this.unpack_uint32();\n    case 0xcf:\n      return this.unpack_uint64();\n    case 0xd0:\n      return this.unpack_int8();\n    case 0xd1:\n      return this.unpack_int16();\n    case 0xd2:\n      return this.unpack_int32();\n    case 0xd3:\n      return this.unpack_int64();\n    case 0xd4:\n      return undefined;\n    case 0xd5:\n      return undefined;\n    case 0xd6:\n      return undefined;\n    case 0xd7:\n      return undefined;\n    case 0xd8:\n      size = this.unpack_uint16();\n      return this.unpack_string(size);\n    case 0xd9:\n      size = this.unpack_uint32();\n      return this.unpack_string(size);\n    case 0xda:\n      size = this.unpack_uint16();\n      return this.unpack_raw(size);\n    case 0xdb:\n      size = this.unpack_uint32();\n      return this.unpack_raw(size);\n    case 0xdc:\n      size = this.unpack_uint16();\n      return this.unpack_array(size);\n    case 0xdd:\n      size = this.unpack_uint32();\n      return this.unpack_array(size);\n    case 0xde:\n      size = this.unpack_uint16();\n      return this.unpack_map(size);\n    case 0xdf:\n      size = this.unpack_uint32();\n      return this.unpack_map(size);\n  }\n}\n\nUnpacker.prototype.unpack_uint8 = function(){\n  var byte = this.dataView[this.index] & 0xff;\n  this.index++;\n  return byte;\n};\n\nUnpacker.prototype.unpack_uint16 = function(){\n  var bytes = this.read(2);\n  var uint16 =\n    ((bytes[0] & 0xff) * 256) + (bytes[1] & 0xff);\n  this.index += 2;\n  return uint16;\n}\n\nUnpacker.prototype.unpack_uint32 = function(){\n  var bytes = this.read(4);\n  var uint32 =\n     ((bytes[0]  * 256 +\n       bytes[1]) * 256 +\n       bytes[2]) * 256 +\n       bytes[3];\n  this.index += 4;\n  return uint32;\n}\n\nUnpacker.prototype.unpack_uint64 = function(){\n  var bytes = this.read(8);\n  var uint64 =\n   ((((((bytes[0]  * 256 +\n       bytes[1]) * 256 +\n       bytes[2]) * 256 +\n       bytes[3]) * 256 +\n       bytes[4]) * 256 +\n       bytes[5]) * 256 +\n       bytes[6]) * 256 +\n       bytes[7];\n  this.index += 8;\n  return uint64;\n}\n\n\nUnpacker.prototype.unpack_int8 = function(){\n  var uint8 = this.unpack_uint8();\n  return (uint8 < 0x80 ) ? uint8 : uint8 - (1 << 8);\n};\n\nUnpacker.prototype.unpack_int16 = function(){\n  var uint16 = this.unpack_uint16();\n  return (uint16 < 0x8000 ) ? uint16 : uint16 - (1 << 16);\n}\n\nUnpacker.prototype.unpack_int32 = function(){\n  var uint32 = this.unpack_uint32();\n  return (uint32 < Math.pow(2, 31) ) ? uint32 :\n    uint32 - Math.pow(2, 32);\n}\n\nUnpacker.prototype.unpack_int64 = function(){\n  var uint64 = this.unpack_uint64();\n  return (uint64 < Math.pow(2, 63) ) ? uint64 :\n    uint64 - Math.pow(2, 64);\n}\n\nUnpacker.prototype.unpack_raw = function(size){\n  if ( this.length < this.index + size){\n    throw new Error('BinaryPackFailure: index is out of range'\n      + ' ' + this.index + ' ' + size + ' ' + this.length);\n  }\n  var buf = this.dataBuffer.slice(this.index, this.index + size);\n  this.index += size;\n\n    //buf = util.bufferToString(buf);\n\n  return buf;\n}\n\nUnpacker.prototype.unpack_string = function(size){\n  var bytes = this.read(size);\n  var i = 0, str = '', c, code;\n  while(i < size){\n    c = bytes[i];\n    if ( c < 128){\n      str += String.fromCharCode(c);\n      i++;\n    } else if ((c ^ 0xc0) < 32){\n      code = ((c ^ 0xc0) << 6) | (bytes[i+1] & 63);\n      str += String.fromCharCode(code);\n      i += 2;\n    } else {\n      code = ((c & 15) << 12) | ((bytes[i+1] & 63) << 6) |\n        (bytes[i+2] & 63);\n      str += String.fromCharCode(code);\n      i += 3;\n    }\n  }\n  this.index += size;\n  return str;\n}\n\nUnpacker.prototype.unpack_array = function(size){\n  var objects = new Array(size);\n  for(var i = 0; i < size ; i++){\n    objects[i] = this.unpack();\n  }\n  return objects;\n}\n\nUnpacker.prototype.unpack_map = function(size){\n  var map = {};\n  for(var i = 0; i < size ; i++){\n    var key  = this.unpack();\n    var value = this.unpack();\n    map[key] = value;\n  }\n  return map;\n}\n\nUnpacker.prototype.unpack_float = function(){\n  var uint32 = this.unpack_uint32();\n  var sign = uint32 >> 31;\n  var exp  = ((uint32 >> 23) & 0xff) - 127;\n  var fraction = ( uint32 & 0x7fffff ) | 0x800000;\n  return (sign == 0 ? 1 : -1) *\n    fraction * Math.pow(2, exp - 23);\n}\n\nUnpacker.prototype.unpack_double = function(){\n  var h32 = this.unpack_uint32();\n  var l32 = this.unpack_uint32();\n  var sign = h32 >> 31;\n  var exp  = ((h32 >> 20) & 0x7ff) - 1023;\n  var hfrac = ( h32 & 0xfffff ) | 0x100000;\n  var frac = hfrac * Math.pow(2, exp - 20) +\n    l32   * Math.pow(2, exp - 52);\n  return (sign == 0 ? 1 : -1) * frac;\n}\n\nUnpacker.prototype.read = function(length){\n  var j = this.index;\n  if (j + length <= this.length) {\n    return this.dataView.subarray(j, j + length);\n  } else {\n    throw new Error('BinaryPackFailure: read index out of range');\n  }\n}\n\nfunction Packer(){\n  this.bufferBuilder = new BufferBuilder();\n}\n\nPacker.prototype.getBuffer = function(){\n  return this.bufferBuilder.getBuffer();\n}\n\nPacker.prototype.pack = function(value){\n  var type = typeof(value);\n  if (type == 'string'){\n    this.pack_string(value);\n  } else if (type == 'number'){\n    if (Math.floor(value) === value){\n      this.pack_integer(value);\n    } else{\n      this.pack_double(value);\n    }\n  } else if (type == 'boolean'){\n    if (value === true){\n      this.bufferBuilder.append(0xc3);\n    } else if (value === false){\n      this.bufferBuilder.append(0xc2);\n    }\n  } else if (type == 'undefined'){\n    this.bufferBuilder.append(0xc0);\n  } else if (type == 'object'){\n    if (value === null){\n      this.bufferBuilder.append(0xc0);\n    } else {\n      var constructor = value.constructor;\n      if (constructor == Array){\n        this.pack_array(value);\n      } else if (constructor == Blob || constructor == File) {\n        this.pack_bin(value);\n      } else if (constructor == ArrayBuffer) {\n        if(binaryFeatures.useArrayBufferView) {\n          this.pack_bin(new Uint8Array(value));\n        } else {\n          this.pack_bin(value);\n        }\n      } else if ('BYTES_PER_ELEMENT' in value){\n        if(binaryFeatures.useArrayBufferView) {\n          this.pack_bin(new Uint8Array(value.buffer));\n        } else {\n          this.pack_bin(value.buffer);\n        }\n      } else if (constructor == Object){\n        this.pack_object(value);\n      } else if (constructor == Date){\n        this.pack_string(value.toString());\n      } else if (typeof value.toBinaryPack == 'function'){\n        this.bufferBuilder.append(value.toBinaryPack());\n      } else {\n        throw new Error('Type \"' + constructor.toString() + '\" not yet supported');\n      }\n    }\n  } else {\n    throw new Error('Type \"' + type + '\" not yet supported');\n  }\n  this.bufferBuilder.flush();\n}\n\n\nPacker.prototype.pack_bin = function(blob){\n  var length = blob.length || blob.byteLength || blob.size;\n  if (length <= 0x0f){\n    this.pack_uint8(0xa0 + length);\n  } else if (length <= 0xffff){\n    this.bufferBuilder.append(0xda) ;\n    this.pack_uint16(length);\n  } else if (length <= 0xffffffff){\n    this.bufferBuilder.append(0xdb);\n    this.pack_uint32(length);\n  } else{\n    throw new Error('Invalid length');\n  }\n  this.bufferBuilder.append(blob);\n}\n\nPacker.prototype.pack_string = function(str){\n  var length = utf8Length(str);\n\n  if (length <= 0x0f){\n    this.pack_uint8(0xb0 + length);\n  } else if (length <= 0xffff){\n    this.bufferBuilder.append(0xd8) ;\n    this.pack_uint16(length);\n  } else if (length <= 0xffffffff){\n    this.bufferBuilder.append(0xd9);\n    this.pack_uint32(length);\n  } else{\n    throw new Error('Invalid length');\n  }\n  this.bufferBuilder.append(str);\n}\n\nPacker.prototype.pack_array = function(ary){\n  var length = ary.length;\n  if (length <= 0x0f){\n    this.pack_uint8(0x90 + length);\n  } else if (length <= 0xffff){\n    this.bufferBuilder.append(0xdc)\n    this.pack_uint16(length);\n  } else if (length <= 0xffffffff){\n    this.bufferBuilder.append(0xdd);\n    this.pack_uint32(length);\n  } else{\n    throw new Error('Invalid length');\n  }\n  for(var i = 0; i < length ; i++){\n    this.pack(ary[i]);\n  }\n}\n\nPacker.prototype.pack_integer = function(num){\n  if ( -0x20 <= num && num <= 0x7f){\n    this.bufferBuilder.append(num & 0xff);\n  } else if (0x00 <= num && num <= 0xff){\n    this.bufferBuilder.append(0xcc);\n    this.pack_uint8(num);\n  } else if (-0x80 <= num && num <= 0x7f){\n    this.bufferBuilder.append(0xd0);\n    this.pack_int8(num);\n  } else if ( 0x0000 <= num && num <= 0xffff){\n    this.bufferBuilder.append(0xcd);\n    this.pack_uint16(num);\n  } else if (-0x8000 <= num && num <= 0x7fff){\n    this.bufferBuilder.append(0xd1);\n    this.pack_int16(num);\n  } else if ( 0x00000000 <= num && num <= 0xffffffff){\n    this.bufferBuilder.append(0xce);\n    this.pack_uint32(num);\n  } else if (-0x80000000 <= num && num <= 0x7fffffff){\n    this.bufferBuilder.append(0xd2);\n    this.pack_int32(num);\n  } else if (-0x8000000000000000 <= num && num <= 0x7FFFFFFFFFFFFFFF){\n    this.bufferBuilder.append(0xd3);\n    this.pack_int64(num);\n  } else if (0x0000000000000000 <= num && num <= 0xFFFFFFFFFFFFFFFF){\n    this.bufferBuilder.append(0xcf);\n    this.pack_uint64(num);\n  } else{\n    throw new Error('Invalid integer');\n  }\n}\n\nPacker.prototype.pack_double = function(num){\n  var sign = 0;\n  if (num < 0){\n    sign = 1;\n    num = -num;\n  }\n  var exp  = Math.floor(Math.log(num) / Math.LN2);\n  var frac0 = num / Math.pow(2, exp) - 1;\n  var frac1 = Math.floor(frac0 * Math.pow(2, 52));\n  var b32   = Math.pow(2, 32);\n  var h32 = (sign << 31) | ((exp+1023) << 20) |\n      (frac1 / b32) & 0x0fffff;\n  var l32 = frac1 % b32;\n  this.bufferBuilder.append(0xcb);\n  this.pack_int32(h32);\n  this.pack_int32(l32);\n}\n\nPacker.prototype.pack_object = function(obj){\n  var keys = Object.keys(obj);\n  var length = keys.length;\n  if (length <= 0x0f){\n    this.pack_uint8(0x80 + length);\n  } else if (length <= 0xffff){\n    this.bufferBuilder.append(0xde);\n    this.pack_uint16(length);\n  } else if (length <= 0xffffffff){\n    this.bufferBuilder.append(0xdf);\n    this.pack_uint32(length);\n  } else{\n    throw new Error('Invalid length');\n  }\n  for(var prop in obj){\n    if (obj.hasOwnProperty(prop)){\n      this.pack(prop);\n      this.pack(obj[prop]);\n    }\n  }\n}\n\nPacker.prototype.pack_uint8 = function(num){\n  this.bufferBuilder.append(num);\n}\n\nPacker.prototype.pack_uint16 = function(num){\n  this.bufferBuilder.append(num >> 8);\n  this.bufferBuilder.append(num & 0xff);\n}\n\nPacker.prototype.pack_uint32 = function(num){\n  var n = num & 0xffffffff;\n  this.bufferBuilder.append((n & 0xff000000) >>> 24);\n  this.bufferBuilder.append((n & 0x00ff0000) >>> 16);\n  this.bufferBuilder.append((n & 0x0000ff00) >>>  8);\n  this.bufferBuilder.append((n & 0x000000ff));\n}\n\nPacker.prototype.pack_uint64 = function(num){\n  var high = num / Math.pow(2, 32);\n  var low  = num % Math.pow(2, 32);\n  this.bufferBuilder.append((high & 0xff000000) >>> 24);\n  this.bufferBuilder.append((high & 0x00ff0000) >>> 16);\n  this.bufferBuilder.append((high & 0x0000ff00) >>>  8);\n  this.bufferBuilder.append((high & 0x000000ff));\n  this.bufferBuilder.append((low  & 0xff000000) >>> 24);\n  this.bufferBuilder.append((low  & 0x00ff0000) >>> 16);\n  this.bufferBuilder.append((low  & 0x0000ff00) >>>  8);\n  this.bufferBuilder.append((low  & 0x000000ff));\n}\n\nPacker.prototype.pack_int8 = function(num){\n  this.bufferBuilder.append(num & 0xff);\n}\n\nPacker.prototype.pack_int16 = function(num){\n  this.bufferBuilder.append((num & 0xff00) >> 8);\n  this.bufferBuilder.append(num & 0xff);\n}\n\nPacker.prototype.pack_int32 = function(num){\n  this.bufferBuilder.append((num >>> 24) & 0xff);\n  this.bufferBuilder.append((num & 0x00ff0000) >>> 16);\n  this.bufferBuilder.append((num & 0x0000ff00) >>> 8);\n  this.bufferBuilder.append((num & 0x000000ff));\n}\n\nPacker.prototype.pack_int64 = function(num){\n  var high = Math.floor(num / Math.pow(2, 32));\n  var low  = num % Math.pow(2, 32);\n  this.bufferBuilder.append((high & 0xff000000) >>> 24);\n  this.bufferBuilder.append((high & 0x00ff0000) >>> 16);\n  this.bufferBuilder.append((high & 0x0000ff00) >>>  8);\n  this.bufferBuilder.append((high & 0x000000ff));\n  this.bufferBuilder.append((low  & 0xff000000) >>> 24);\n  this.bufferBuilder.append((low  & 0x00ff0000) >>> 16);\n  this.bufferBuilder.append((low  & 0x0000ff00) >>>  8);\n  this.bufferBuilder.append((low  & 0x000000ff));\n}\n\nfunction _utf8Replace(m){\n  var code = m.charCodeAt(0);\n\n  if(code <= 0x7ff) return '00';\n  if(code <= 0xffff) return '000';\n  if(code <= 0x1fffff) return '0000';\n  if(code <= 0x3ffffff) return '00000';\n  return '000000';\n}\n\nfunction utf8Length(str){\n  if (str.length > 600) {\n    // Blob method faster for large strings\n    return (new Blob([str])).size;\n  } else {\n    return str.replace(/[^\\u0000-\\u007F]/g, _utf8Replace).length;\n  }\n}\n\n},{\"./bufferbuilder\":11}],11:[function(require,module,exports){\nvar binaryFeatures = {};\nbinaryFeatures.useBlobBuilder = (function(){\n  try {\n    new Blob([]);\n    return false;\n  } catch (e) {\n    return true;\n  }\n})();\n\nbinaryFeatures.useArrayBufferView = !binaryFeatures.useBlobBuilder && (function(){\n  try {\n    return (new Blob([new Uint8Array([])])).size === 0;\n  } catch (e) {\n    return true;\n  }\n})();\n\nmodule.exports.binaryFeatures = binaryFeatures;\nvar BlobBuilder = module.exports.BlobBuilder;\nif (typeof window != 'undefined') {\n  BlobBuilder = module.exports.BlobBuilder = window.WebKitBlobBuilder ||\n    window.MozBlobBuilder || window.MSBlobBuilder || window.BlobBuilder;\n}\n\nfunction BufferBuilder(){\n  this._pieces = [];\n  this._parts = [];\n}\n\nBufferBuilder.prototype.append = function(data) {\n  if(typeof data === 'number') {\n    this._pieces.push(data);\n  } else {\n    this.flush();\n    this._parts.push(data);\n  }\n};\n\nBufferBuilder.prototype.flush = function() {\n  if (this._pieces.length > 0) {\n    var buf = new Uint8Array(this._pieces);\n    if(!binaryFeatures.useArrayBufferView) {\n      buf = buf.buffer;\n    }\n    this._parts.push(buf);\n    this._pieces = [];\n  }\n};\n\nBufferBuilder.prototype.getBuffer = function() {\n  this.flush();\n  if(binaryFeatures.useBlobBuilder) {\n    var builder = new BlobBuilder();\n    for(var i = 0, ii = this._parts.length; i < ii; i++) {\n      builder.append(this._parts[i]);\n    }\n    return builder.getBlob();\n  } else {\n    return new Blob(this._parts);\n  }\n};\n\nmodule.exports.BufferBuilder = BufferBuilder;\n\n},{}],12:[function(require,module,exports){\nvar util = require('./util');\n\n/**\n * Reliable transfer for Chrome Canary DataChannel impl.\n * Author: @michellebu\n */\nfunction Reliable(dc, debug) {\n  if (!(this instanceof Reliable)) return new Reliable(dc);\n  this._dc = dc;\n\n  util.debug = debug;\n\n  // Messages sent/received so far.\n  // id: { ack: n, chunks: [...] }\n  this._outgoing = {};\n  // id: { ack: ['ack', id, n], chunks: [...] }\n  this._incoming = {};\n  this._received = {};\n\n  // Window size.\n  this._window = 1000;\n  // MTU.\n  this._mtu = 500;\n  // Interval for setInterval. In ms.\n  this._interval = 0;\n\n  // Messages sent.\n  this._count = 0;\n\n  // Outgoing message queue.\n  this._queue = [];\n\n  this._setupDC();\n};\n\n// Send a message reliably.\nReliable.prototype.send = function(msg) {\n  // Determine if chunking is necessary.\n  var bl = util.pack(msg);\n  if (bl.size < this._mtu) {\n    this._handleSend(['no', bl]);\n    return;\n  }\n\n  this._outgoing[this._count] = {\n    ack: 0,\n    chunks: this._chunk(bl)\n  };\n\n  if (util.debug) {\n    this._outgoing[this._count].timer = new Date();\n  }\n\n  // Send prelim window.\n  this._sendWindowedChunks(this._count);\n  this._count += 1;\n};\n\n// Set up interval for processing queue.\nReliable.prototype._setupInterval = function() {\n  // TODO: fail gracefully.\n\n  var self = this;\n  this._timeout = setInterval(function() {\n    // FIXME: String stuff makes things terribly async.\n    var msg = self._queue.shift();\n    if (msg._multiple) {\n      for (var i = 0, ii = msg.length; i < ii; i += 1) {\n        self._intervalSend(msg[i]);\n      }\n    } else {\n      self._intervalSend(msg);\n    }\n  }, this._interval);\n};\n\nReliable.prototype._intervalSend = function(msg) {\n  var self = this;\n  msg = util.pack(msg);\n  util.blobToBinaryString(msg, function(str) {\n    self._dc.send(str);\n  });\n  if (self._queue.length === 0) {\n    clearTimeout(self._timeout);\n    self._timeout = null;\n    //self._processAcks();\n  }\n};\n\n// Go through ACKs to send missing pieces.\nReliable.prototype._processAcks = function() {\n  for (var id in this._outgoing) {\n    if (this._outgoing.hasOwnProperty(id)) {\n      this._sendWindowedChunks(id);\n    }\n  }\n};\n\n// Handle sending a message.\n// FIXME: Don't wait for interval time for all messages...\nReliable.prototype._handleSend = function(msg) {\n  var push = true;\n  for (var i = 0, ii = this._queue.length; i < ii; i += 1) {\n    var item = this._queue[i];\n    if (item === msg) {\n      push = false;\n    } else if (item._multiple && item.indexOf(msg) !== -1) {\n      push = false;\n    }\n  }\n  if (push) {\n    this._queue.push(msg);\n    if (!this._timeout) {\n      this._setupInterval();\n    }\n  }\n};\n\n// Set up DataChannel handlers.\nReliable.prototype._setupDC = function() {\n  // Handle various message types.\n  var self = this;\n  this._dc.onmessage = function(e) {\n    var msg = e.data;\n    var datatype = msg.constructor;\n    // FIXME: msg is String until binary is supported.\n    // Once that happens, this will have to be smarter.\n    if (datatype === String) {\n      var ab = util.binaryStringToArrayBuffer(msg);\n      msg = util.unpack(ab);\n      self._handleMessage(msg);\n    }\n  };\n};\n\n// Handles an incoming message.\nReliable.prototype._handleMessage = function(msg) {\n  var id = msg[1];\n  var idata = this._incoming[id];\n  var odata = this._outgoing[id];\n  var data;\n  switch (msg[0]) {\n    // No chunking was done.\n    case 'no':\n      var message = id;\n      if (!!message) {\n        this.onmessage(util.unpack(message));\n      }\n      break;\n    // Reached the end of the message.\n    case 'end':\n      data = idata;\n\n      // In case end comes first.\n      this._received[id] = msg[2];\n\n      if (!data) {\n        break;\n      }\n\n      this._ack(id);\n      break;\n    case 'ack':\n      data = odata;\n      if (!!data) {\n        var ack = msg[2];\n        // Take the larger ACK, for out of order messages.\n        data.ack = Math.max(ack, data.ack);\n\n        // Clean up when all chunks are ACKed.\n        if (data.ack >= data.chunks.length) {\n          util.log('Time: ', new Date() - data.timer);\n          delete this._outgoing[id];\n        } else {\n          this._processAcks();\n        }\n      }\n      // If !data, just ignore.\n      break;\n    // Received a chunk of data.\n    case 'chunk':\n      // Create a new entry if none exists.\n      data = idata;\n      if (!data) {\n        var end = this._received[id];\n        if (end === true) {\n          break;\n        }\n        data = {\n          ack: ['ack', id, 0],\n          chunks: []\n        };\n        this._incoming[id] = data;\n      }\n\n      var n = msg[2];\n      var chunk = msg[3];\n      data.chunks[n] = new Uint8Array(chunk);\n\n      // If we get the chunk we're looking for, ACK for next missing.\n      // Otherwise, ACK the same N again.\n      if (n === data.ack[2]) {\n        this._calculateNextAck(id);\n      }\n      this._ack(id);\n      break;\n    default:\n      // Shouldn't happen, but would make sense for message to just go\n      // through as is.\n      this._handleSend(msg);\n      break;\n  }\n};\n\n// Chunks BL into smaller messages.\nReliable.prototype._chunk = function(bl) {\n  var chunks = [];\n  var size = bl.size;\n  var start = 0;\n  while (start < size) {\n    var end = Math.min(size, start + this._mtu);\n    var b = bl.slice(start, end);\n    var chunk = {\n      payload: b\n    }\n    chunks.push(chunk);\n    start = end;\n  }\n  util.log('Created', chunks.length, 'chunks.');\n  return chunks;\n};\n\n// Sends ACK N, expecting Nth blob chunk for message ID.\nReliable.prototype._ack = function(id) {\n  var ack = this._incoming[id].ack;\n\n  // if ack is the end value, then call _complete.\n  if (this._received[id] === ack[2]) {\n    this._complete(id);\n    this._received[id] = true;\n  }\n\n  this._handleSend(ack);\n};\n\n// Calculates the next ACK number, given chunks.\nReliable.prototype._calculateNextAck = function(id) {\n  var data = this._incoming[id];\n  var chunks = data.chunks;\n  for (var i = 0, ii = chunks.length; i < ii; i += 1) {\n    // This chunk is missing!!! Better ACK for it.\n    if (chunks[i] === undefined) {\n      data.ack[2] = i;\n      return;\n    }\n  }\n  data.ack[2] = chunks.length;\n};\n\n// Sends the next window of chunks.\nReliable.prototype._sendWindowedChunks = function(id) {\n  util.log('sendWindowedChunks for: ', id);\n  var data = this._outgoing[id];\n  var ch = data.chunks;\n  var chunks = [];\n  var limit = Math.min(data.ack + this._window, ch.length);\n  for (var i = data.ack; i < limit; i += 1) {\n    if (!ch[i].sent || i === data.ack) {\n      ch[i].sent = true;\n      chunks.push(['chunk', id, i, ch[i].payload]);\n    }\n  }\n  if (data.ack + this._window >= ch.length) {\n    chunks.push(['end', id, ch.length])\n  }\n  chunks._multiple = true;\n  this._handleSend(chunks);\n};\n\n// Puts together a message from chunks.\nReliable.prototype._complete = function(id) {\n  util.log('Completed called for', id);\n  var self = this;\n  var chunks = this._incoming[id].chunks;\n  var bl = new Blob(chunks);\n  util.blobToArrayBuffer(bl, function(ab) {\n    self.onmessage(util.unpack(ab));\n  });\n  delete this._incoming[id];\n};\n\n// Ups bandwidth limit on SDP. Meant to be called during offer/answer.\nReliable.higherBandwidthSDP = function(sdp) {\n  // AS stands for Application-Specific Maximum.\n  // Bandwidth number is in kilobits / sec.\n  // See RFC for more info: http://www.ietf.org/rfc/rfc2327.txt\n\n  // Chrome 31+ doesn't want us munging the SDP, so we'll let them have their\n  // way.\n  var version = navigator.appVersion.match(/Chrome\\/(.*?) /);\n  if (version) {\n    version = parseInt(version[1].split('.').shift());\n    if (version < 31) {\n      var parts = sdp.split('b=AS:30');\n      var replace = 'b=AS:102400'; // 100 Mbps\n      if (parts.length > 1) {\n        return parts[0] + replace + parts[1];\n      }\n    }\n  }\n\n  return sdp;\n};\n\n// Overwritten, typically.\nReliable.prototype.onmessage = function(msg) {};\n\nmodule.exports.Reliable = Reliable;\n\n},{\"./util\":13}],13:[function(require,module,exports){\nvar BinaryPack = require('js-binarypack');\n\nvar util = {\n  debug: false,\n\n  inherits: function(ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  },\n  extend: function(dest, source) {\n    for(var key in source) {\n      if(source.hasOwnProperty(key)) {\n        dest[key] = source[key];\n      }\n    }\n    return dest;\n  },\n  pack: BinaryPack.pack,\n  unpack: BinaryPack.unpack,\n\n  log: function () {\n    if (util.debug) {\n      var copy = [];\n      for (var i = 0; i < arguments.length; i++) {\n        copy[i] = arguments[i];\n      }\n      copy.unshift('Reliable: ');\n      console.log.apply(console, copy);\n    }\n  },\n\n  setZeroTimeout: (function(global) {\n    var timeouts = [];\n    var messageName = 'zero-timeout-message';\n\n    // Like setTimeout, but only takes a function argument.\t There's\n    // no time argument (always zero) and no arguments (you have to\n    // use a closure).\n    function setZeroTimeoutPostMessage(fn) {\n      timeouts.push(fn);\n      global.postMessage(messageName, '*');\n    }\n\n    function handleMessage(event) {\n      if (event.source == global && event.data == messageName) {\n        if (event.stopPropagation) {\n          event.stopPropagation();\n        }\n        if (timeouts.length) {\n          timeouts.shift()();\n        }\n      }\n    }\n    if (global.addEventListener) {\n      global.addEventListener('message', handleMessage, true);\n    } else if (global.attachEvent) {\n      global.attachEvent('onmessage', handleMessage);\n    }\n    return setZeroTimeoutPostMessage;\n  }(this)),\n\n  blobToArrayBuffer: function(blob, cb){\n    var fr = new FileReader();\n    fr.onload = function(evt) {\n      cb(evt.target.result);\n    };\n    fr.readAsArrayBuffer(blob);\n  },\n  blobToBinaryString: function(blob, cb){\n    var fr = new FileReader();\n    fr.onload = function(evt) {\n      cb(evt.target.result);\n    };\n    fr.readAsBinaryString(blob);\n  },\n  binaryStringToArrayBuffer: function(binary) {\n    var byteArray = new Uint8Array(binary.length);\n    for (var i = 0; i < binary.length; i++) {\n      byteArray[i] = binary.charCodeAt(i) & 0xff;\n    }\n    return byteArray.buffer;\n  },\n  randomToken: function () {\n    return Math.random().toString(36).substr(2);\n  }\n};\n\nmodule.exports = util;\n\n},{\"js-binarypack\":10}]},{},[3]);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/peer.js","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/media/marker-outline.png\n// module id = mFyu\n// module chunks = 1","module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/media/green.png\n// module id = pGc2\n// module chunks = 1","var map = {\n\t\"./background.png\": \"Efnd\",\n\t\"./black.png\": \"iZrf\",\n\t\"./blue.png\": \"M2yu\",\n\t\"./color-swatch-brown.png\": \"ZFrl\",\n\t\"./color-swatch-erase.png\": \"6Is8\",\n\t\"./color-swatch-green.png\": \"N8v+\",\n\t\"./color-swatch-yellow.png\": \"9rie\",\n\t\"./eraser.png\": \"JtUg\",\n\t\"./frame.png\": \"3q37\",\n\t\"./green.png\": \"pGc2\",\n\t\"./logo.png\": \"WyGl\",\n\t\"./marker-outline.png\": \"mFyu\",\n\t\"./red.png\": \"aOdu\",\n\t\"./yellow.png\": \"bKhN\"\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"wBho\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/media ^\\.\\/.*\\.png$\n// module id = wBho\n// module chunks = 1"],"sourceRoot":""}